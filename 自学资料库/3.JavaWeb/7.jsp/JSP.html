
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="anuouan-weblog">
      
      
        <meta name="author" content="anuouan">
      
      
        <link rel="canonical" href="https://anuouan.github.io/%E8%87%AA%E5%AD%A6%E8%B5%84%E6%96%99%E5%BA%93/3.JavaWeb/7.jsp/JSP.html">
      
      
      
      
      <link rel="icon" href="../../../mkdocs/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>JSP - anuouan-weblog</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.bcfcd587.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css">
    
      <link rel="stylesheet" href="../../../mkdocs/css/no-footer.css">
    
      <link rel="stylesheet" href="../../../mkdocs/css/unordered-list-symbols.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#jsp" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="anuouan-weblog" class="md-header__button md-logo" aria-label="anuouan-weblog" data-md-component="logo">
      
  <img src="../../../mkdocs/images/favicon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            anuouan-weblog
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              JSP
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="green"  aria-label="切换至夜间模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="切换至夜间模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="green"  aria-label="切换至日间模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换至日间模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/anuouan" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    anuouan's github
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../index.html" class="md-tabs__link">
          
  
    
  
  主页

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/index.html" class="md-tabs__link">
          
  
    
  
  博客分类

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97/index.html" class="md-tabs__link">
          
  
    
  
  错误日志

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E7%BD%91%E7%AB%99%E9%83%A8%E7%BD%B2/index.html" class="md-tabs__link">
          
  
    
  
  网站部署

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E7%94%9F%E6%B4%BB%E5%88%86%E4%BA%AB/index.html" class="md-tabs__link">
          
  
    
  
  生活分享

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E4%B9%A6%E7%B1%8D%E5%88%86%E4%BA%AB/index.html" class="md-tabs__link">
          
  
    
  
  书籍分享

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../%E5%85%B3%E4%BA%8E%E6%88%91/index.html" class="md-tabs__link">
          
  
    
  
  关于我

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="anuouan-weblog" class="md-nav__button md-logo" aria-label="anuouan-weblog" data-md-component="logo">
      
  <img src="../../../mkdocs/images/favicon.png" alt="logo">

    </a>
    anuouan-weblog
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/anuouan" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    anuouan's github
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    主页
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            主页
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    博客分类
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    报错日志
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BD%91%E7%AB%99%E9%83%A8%E7%BD%B2/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    网站部署
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E6%B4%BB%E5%88%86%E4%BA%AB/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    生活分享
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%85%B3%E4%BA%8E%E6%88%91/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    关于我
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    博客分类
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            博客分类
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/maven/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Maven
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Maven
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/maven/1.maven%E8%87%AA%E5%AD%A6%E6%95%99%E7%A8%8B.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.maven自学笔记
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/git/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Git
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Git
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/git/1.git%E8%87%AA%E5%AD%A6%E6%95%99%E7%A8%8B.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.git自学笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/git/2.Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.Git常用命令
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/mybatis/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    MyBatis
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            MyBatis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/mybatis/1.MyBatis%E8%87%AA%E5%AD%A6%E7%AC%94%E8%AE%B0.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.MyBatis自学笔记
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/spring/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Spring
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Spring
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/spring/1.Spring%E8%87%AA%E5%AD%A6%E7%AC%94%E8%AE%B0.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.Spring自学笔记
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/spring-mvc/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    SpringMVC
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            SpringMVC
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/spring-mvc/1.SpringMVC%E8%87%AA%E5%AD%A6%E7%AC%94%E8%AE%B0.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.SpringMVC自学笔记
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/linux/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Linux
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/linux/1.VIM.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.Linux vi/vim
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/linux/2.Linux%E5%91%BD%E4%BB%A4%E6%9F%A5%E8%AF%A2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.Linux命令查询
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/linux/3.linux%E5%AE%89%E8%A3%85mysql8.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.linux安装mysql8
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/linux/4.linux%E5%AE%89%E8%A3%85redis.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.linux安装redis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/linux/5.linux%E5%AE%89%E8%A3%85docker.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.linux安装docker
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    设计模式
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8">
            <span class="md-nav__icon md-icon"></span>
            设计模式
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/1.UML%E7%B1%BB%E5%9B%BE.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.UML类图
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/%E7%AE%97%E6%B3%95%E6%97%A5%E5%BF%97/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    算法笔记
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_9" id="__nav_2_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_9">
            <span class="md-nav__icon md-icon"></span>
            算法笔记
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_9_2" >
        
          
          <label class="md-nav__link" for="__nav_2_9_2" id="__nav_2_9_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    数组
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_9_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_9_2">
            <span class="md-nav__icon md-icon"></span>
            数组
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/%E7%AE%97%E6%B3%95%E6%97%A5%E5%BF%97/%E6%95%B0%E7%BB%84/1.704%20%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.704 二分查找
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/%E7%AE%97%E6%B3%95%E6%97%A5%E5%BF%97/%E6%95%B0%E7%BB%84/2.27%20%E7%A7%BB%E9%99%A4%E5%85%83%E7%B4%A0.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.27 移除元素
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/%E7%AE%97%E6%B3%95%E6%97%A5%E5%BF%97/%E6%95%B0%E7%BB%84/3.977%20%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E7%9A%84%E5%B9%B3%E6%96%B9.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.977 有序数组的平方
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/%E7%AE%97%E6%B3%95%E6%97%A5%E5%BF%97/%E6%95%B0%E7%BB%84/4.209%20%E9%95%BF%E5%BA%A6%E6%9C%80%E5%B0%8F%E7%9A%84%E5%AD%90%E6%95%B0%E7%BB%84.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.209 长度最小的子数组
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/%E7%AE%97%E6%B3%95%E6%97%A5%E5%BF%97/%E6%95%B0%E7%BB%84/5.59%20%E8%9E%BA%E6%97%8B%E7%9F%A9%E9%98%B5%20II.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.59 螺旋矩阵 II
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/%E7%AE%97%E6%B3%95%E6%97%A5%E5%BF%97/%E6%95%B0%E7%BB%84/6.76%20%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6.76 最小覆盖子串
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_9_3" >
        
          
          <label class="md-nav__link" for="__nav_2_9_3" id="__nav_2_9_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    链表
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_9_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_9_3">
            <span class="md-nav__icon md-icon"></span>
            链表
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/%E7%AE%97%E6%B3%95%E6%97%A5%E5%BF%97/%E9%93%BE%E8%A1%A8/1.203%20%E7%A7%BB%E9%99%A4%E9%93%BE%E8%A1%A8%E5%85%83%E7%B4%A0.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.203 移除链表元素
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/%E7%AE%97%E6%B3%95%E6%97%A5%E5%BF%97/%E9%93%BE%E8%A1%A8/2.707%20%E8%AE%BE%E8%AE%A1%E9%93%BE%E8%A1%A8.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.707 设计链表
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/%E7%AE%97%E6%B3%95%E6%97%A5%E5%BF%97/%E9%93%BE%E8%A1%A8/3.206%20%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.206 反转链表
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/%E7%AE%97%E6%B3%95%E6%97%A5%E5%BF%97/%E9%93%BE%E8%A1%A8/4.24%20%E4%B8%A4%E4%B8%A4%E4%BA%A4%E6%8D%A2%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%9A%84%E8%8A%82%E7%82%B9.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.24 两两交换链表中的节点
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/%E7%AE%97%E6%B3%95%E6%97%A5%E5%BF%97/%E9%93%BE%E8%A1%A8/5.19%20%E5%88%A0%E9%99%A4%E9%93%BE%E8%A1%A8%E7%9A%84%E5%80%92%E6%95%B0%E7%AC%AC%20N%20%E4%B8%AA%E7%BB%93%E7%82%B9.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5.19 删除链表的倒数第 N 个结点
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/software-install-config/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    软件安装配置
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_10" id="__nav_2_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_10">
            <span class="md-nav__icon md-icon"></span>
            软件安装配置
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/software-install-config/1.mysql-8.x%E5%85%8D%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.mysql-8.x免安装配置
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/software-install-config/2.Navicat16%E6%BF%80%E6%B4%BB%E7%A0%B4%E8%A7%A3.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.Navicat16激活破解
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/software-install-config/3.Offic%E4%B8%8B%E8%BD%BD%E4%B8%8E%E7%A0%B4%E8%A7%A3.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.Offic下载与破解
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%8D%9A%E5%AE%A2%E5%88%86%E7%B1%BB/software-install-config/4.eclipse%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE%E5%8F%8A%E5%BF%AB%E6%8D%B7%E9%94%AE.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.eclipse基础配置及快捷键
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    错误日志
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            错误日志
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97/Git%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Git错误日志
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Git错误日志
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97/Git%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97/1.Git%E4%BD%BF%E7%94%A8SSH%E8%BF%9E%E6%8E%A5GitHub%E6%8A%A5%E9%94%99.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.Git使用SSH连接GitHub报错
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97/MkDocs%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    MkDocs错误日志
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            MkDocs错误日志
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97/MkDocs%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97/1.mkdocs%E5%9B%BE%E7%89%87%E8%B7%AF%E5%BE%84%E6%89%BE%E4%B8%8D%E5%88%B0%E9%97%AE%E9%A2%98.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.mkdocs图片路径找不到问题
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97/MkDocs%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97/2.mkdocs%E4%B8%8D%E6%94%AF%E6%8C%81%E6%97%A0%E5%BA%8F%E5%B5%8C%E5%A5%97%E9%97%AE%E9%A2%98.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.mkdocs不支持无序嵌套问题
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97/Linux%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Linux错误日志
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Linux错误日志
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97/Linux%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97/1.%E5%9C%A8%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%89%E8%A3%85Ubuntu%E6%97%B6%E5%87%BA%E7%8E%B0%E7%AA%97%E5%8F%A3%E4%B8%8D%E5%85%A8.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.在虚拟机安装Ubuntu时出现窗口不全
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97/SSM%E6%A1%86%E6%9E%B6%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    SSM框架错误日志
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            SSM框架错误日志
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97/SSM%E6%A1%86%E6%9E%B6%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97/1.mybatis%E4%BA%8B%E5%8A%A1%E7%9A%84%E4%BD%BF%E7%94%A8.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.mybatis事务的使用
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E7%BD%91%E7%AB%99%E9%83%A8%E7%BD%B2/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    网站部署
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            网站部署
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BD%91%E7%AB%99%E9%83%A8%E7%BD%B2/1.%E7%BD%91%E7%AB%99%E9%83%A8%E7%BD%B2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.个人网站搭建
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%BD%91%E7%AB%99%E9%83%A8%E7%BD%B2/2.Clash%20%E6%B0%B8%E4%B9%85%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E8%B7%B3%E8%BF%87%20ChatGPT%20%E5%B0%81%E7%A6%81%20IP.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.Clash 永久修改配置跳过 ChatGPT 封禁
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E7%94%9F%E6%B4%BB%E5%88%86%E4%BA%AB/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    生活分享
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            生活分享
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E6%B4%BB%E5%88%86%E4%BA%AB/1.%E5%87%BA%E9%97%A8%E5%BF%85%E5%A4%87%E7%89%A9%E5%93%81%E6%B8%85%E5%8D%95.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.出门必备物品清单
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%9F%E6%B4%BB%E5%88%86%E4%BA%AB/2.%E5%AE%9E%E4%B9%A0%E5%BF%85%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.实习必问的问题
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E4%B9%A6%E7%B1%8D%E5%88%86%E4%BA%AB/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    书籍分享
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            书籍分享
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%E5%85%B3%E4%BA%8E%E6%88%91/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    关于我
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            关于我
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%85%B3%E4%BA%8E%E6%88%91/QQ%E7%95%99%E8%A8%80.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    QQ留言
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%85%B3%E4%BA%8E%E6%88%91/%E6%89%93%E8%B5%8F%E6%94%AF%E6%8C%81.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    打赏支持
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%85%B3%E4%BA%8E%E6%88%91/%E6%89%BE%E5%B7%A5%E4%BD%9C.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    找工作
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#jsp" class="md-nav__link">
    <span class="md-ellipsis">
      一、JSP概述
    </span>
  </a>
  
    <nav class="md-nav" aria-label="一、JSP概述">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-servlet" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Servlet使用的不足
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-jsp" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 JSP简介
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jsp_1" class="md-nav__link">
    <span class="md-ellipsis">
      二、JSP入门案例
    </span>
  </a>
  
    <nav class="md-nav" aria-label="二、JSP入门案例">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 案例准备
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.1 案例准备">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#211" class="md-nav__link">
    <span class="md-ellipsis">
      2.1.1 创建数据库数据表
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#212-web" class="md-nav__link">
    <span class="md-ellipsis">
      2.1.2 创建web项目
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#213-jdbc" class="md-nav__link">
    <span class="md-ellipsis">
      2.1.3 完成JDBC准备
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 完成案例的数据库操作
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.2 完成案例的数据库操作">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#221" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.1 创建实体类
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#222-dao" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.2 创建DAO类完成操作
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-jsp" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 JSP呈现动态网页
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.3 JSP呈现动态网页">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#231-booklistservlet" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.1 创建BookListServlet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#232-jsp" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.2 创建JSP页面
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#233-jsp" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.3 在JSP页面中显示动态数据
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jsp_2" class="md-nav__link">
    <span class="md-ellipsis">
      三、JSP开发详解
    </span>
  </a>
  
    <nav class="md-nav" aria-label="三、JSP开发详解">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-jspservlet" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 JSP和Servlet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-jsp" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 JSP开发的语法规则
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.2 JSP开发的语法规则">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#321-jsp" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.1 JSP文档规范
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#322-java" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.2 Java脚本
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#323-jsp" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.3 JSP注释
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-jsp" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 JSP编译指令
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3 JSP编译指令">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331-page" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.1 &lt;%@ page%&gt;
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332-include" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.2 &lt;%@ include %&gt;
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#333-taglib" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.3 &lt;%@ taglib %&gt;
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-jsp" class="md-nav__link">
    <span class="md-ellipsis">
      3.4 JSP动作指令
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.4 JSP动作指令">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#341-jspinclude" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.1 jsp:include
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#342-jspuserbean" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.2 jsp:userBean
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#343-jspsetproperty" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.3 jsp:setProperty
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#344-jspgetproperty" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.4 jsp:getProperty
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#345-jspforward" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.5 jsp:forward
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#346-jspparam" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.6 jsp:param
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-jsp" class="md-nav__link">
    <span class="md-ellipsis">
      3.5 JSP九大内置对象
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#36-jsp" class="md-nav__link">
    <span class="md-ellipsis">
      3.6 JSP四大域对象
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.6 JSP四大域对象">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#361-pagecontext" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.1 pageContext
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#362-request" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.2 request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#363-session" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.3 session
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#364-application" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.4 application
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#365" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.5 使用域对象传值示例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#37-jsp" class="md-nav__link">
    <span class="md-ellipsis">
      3.7 JSP开发应用
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#el" class="md-nav__link">
    <span class="md-ellipsis">
      四、EL表达式
    </span>
  </a>
  
    <nav class="md-nav" aria-label="四、EL表达式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-el" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 什么是EL?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-el" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 EL表达式应用
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.2 EL表达式应用">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#421" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.1 实体类
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#422-testservlet" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.2 TestServlet类
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#423-testjsp" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.3 test.jsp
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-el" class="md-nav__link">
    <span class="md-ellipsis">
      4.3 EL访问域对象
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.3 EL访问域对象">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#431-key" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.1 ${key}获取哪个域对象的数据呢？
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#432-el" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.2 如何使用EL获取指定域对象数据？
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44-el" class="md-nav__link">
    <span class="md-ellipsis">
      4.4 EL的隐式对象
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45-el" class="md-nav__link">
    <span class="md-ellipsis">
      4.5 EL的运算符
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.5 EL的运算符">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#451" class="md-nav__link">
    <span class="md-ellipsis">
      4.5.1 算术运算
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#452" class="md-nav__link">
    <span class="md-ellipsis">
      4.5.2 关系比较
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#453" class="md-nav__link">
    <span class="md-ellipsis">
      4.5.3 逻辑运算
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#454" class="md-nav__link">
    <span class="md-ellipsis">
      4.5.4 判空
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jstl" class="md-nav__link">
    <span class="md-ellipsis">
      五、JSTL
    </span>
  </a>
  
    <nav class="md-nav" aria-label="五、JSTL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-jstl" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 JSTL简介
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-jstl" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 JSTL的引入步骤
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-jstl" class="md-nav__link">
    <span class="md-ellipsis">
      5.3 JSTL核心标签库
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.3 JSTL核心标签库">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#531-cif" class="md-nav__link">
    <span class="md-ellipsis">
      5.3.1 c:if
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#532-cchoose" class="md-nav__link">
    <span class="md-ellipsis">
      5.3.2 c:choose
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#533-cforeach" class="md-nav__link">
    <span class="md-ellipsis">
      5.3.3 c:forEach
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-jstl" class="md-nav__link">
    <span class="md-ellipsis">
      5.4 JSTL转换标签
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#servletjsp" class="md-nav__link">
    <span class="md-ellipsis">
      六、Servlet和JSP的综合案例
    </span>
  </a>
  
    <nav class="md-nav" aria-label="六、Servlet和JSP的综合案例">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61" class="md-nav__link">
    <span class="md-ellipsis">
      6.1 书城后台管理系统业务流程
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-mvc" class="md-nav__link">
    <span class="md-ellipsis">
      6.2 项目的MVC分层架构
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63" class="md-nav__link">
    <span class="md-ellipsis">
      6.3 数据库设计
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#64-web" class="md-nav__link">
    <span class="md-ellipsis">
      6.4 web项目环境搭建
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#65" class="md-nav__link">
    <span class="md-ellipsis">
      6.5 数据库访问实现
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.5 数据库访问实现">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#651" class="md-nav__link">
    <span class="md-ellipsis">
      6.5.1 管理员登录的数据库操作
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#652" class="md-nav__link">
    <span class="md-ellipsis">
      6.5.2 图书管理的数据库操作
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#66" class="md-nav__link">
    <span class="md-ellipsis">
      6.6 网页设计
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#67" class="md-nav__link">
    <span class="md-ellipsis">
      6.7 业务层实现
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.7 业务层实现">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#671" class="md-nav__link">
    <span class="md-ellipsis">
      6.7.1 管理员登录业务
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#672" class="md-nav__link">
    <span class="md-ellipsis">
      6.7.2 图书管理业务实现
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#68" class="md-nav__link">
    <span class="md-ellipsis">
      6.8 功能流程实现
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.8 功能流程实现">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#681-jspservlet" class="md-nav__link">
    <span class="md-ellipsis">
      6.8.1 创建JSP及Servlet类
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#682" class="md-nav__link">
    <span class="md-ellipsis">
      6.8.2 管理员登录
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#683" class="md-nav__link">
    <span class="md-ellipsis">
      6.8.3 添加图书
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#684" class="md-nav__link">
    <span class="md-ellipsis">
      6.8.4 图书列表
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#685" class="md-nav__link">
    <span class="md-ellipsis">
      6.8.5 删除图书
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#686" class="md-nav__link">
    <span class="md-ellipsis">
      6.8.6 修改图书
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      七、分页功能实现
    </span>
  </a>
  
    <nav class="md-nav" aria-label="七、分页功能实现">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71" class="md-nav__link">
    <span class="md-ellipsis">
      7.1 分页概念
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72" class="md-nav__link">
    <span class="md-ellipsis">
      7.2 分页实现思路
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73" class="md-nav__link">
    <span class="md-ellipsis">
      7.3 分页代码实现
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.3 分页代码实现">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#731-bookdao" class="md-nav__link">
    <span class="md-ellipsis">
      7.3.1 BookDAO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#732-bookservice" class="md-nav__link">
    <span class="md-ellipsis">
      7.3.2 BookService
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#733-booklistservlet" class="md-nav__link">
    <span class="md-ellipsis">
      7.3.3 BookListServlet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#74-book-listjsp" class="md-nav__link">
    <span class="md-ellipsis">
      7.4 book-list.jsp
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#74-pagehelper" class="md-nav__link">
    <span class="md-ellipsis">
      7.4 PageHelper封装
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.4 PageHelper封装">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#741-pagehelper" class="md-nav__link">
    <span class="md-ellipsis">
      7.4.1 PageHelper封装思路
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#742-pagehelper" class="md-nav__link">
    <span class="md-ellipsis">
      7.4.2 创建分页帮助类PageHelper
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#743-bookservice" class="md-nav__link">
    <span class="md-ellipsis">
      7.4.3 BookService
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#744-booklistservlet" class="md-nav__link">
    <span class="md-ellipsis">
      7.4.4 BookListServlet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#745-book-listjsp" class="md-nav__link">
    <span class="md-ellipsis">
      7.4.5 book-list.jsp
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/anuouan/edit/main/docs/自学资料库/3.JavaWeb/7.jsp/JSP.md" title="编辑此页" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  


  <h1>JSP</h1>

<h2 id="jsp">一、JSP概述<a class="headerlink" href="#jsp" title="Permanent link">&para;</a></h2>
<h3 id="11-servlet">1.1 Servlet使用的不足<a class="headerlink" href="#11-servlet" title="Permanent link">&para;</a></h3>
<blockquote>
<p>Servlet是一个动态网页技术，客户端通过请求Servlet类可以相应给客户端一个动态网页，但是Servlet在使用过程中有什么不足之处呢？</p>
<ul>
<li>开发方式麻烦：继承HttpServlet父类、重写doGet/doPost、Servlet配置</li>
</ul>
<ul>
<li>项目更新麻烦：Servlet类中的代码发生改变，需要重新编译、部署、启动Tomcat</li>
</ul>
<ul>
<li>网页呈现复杂：需要进行HTML标签拼接，同时要通过输出流逐行打印</li>
</ul>
<ul>
<li>协同开发困难：UI负责页面美化，但是页面是由Servlet类提供，如果UI不懂Java、则不能完成Servlet响应的页面的优化</li>
</ul>
</blockquote>
<h3 id="12-jsp">1.2 JSP简介<a class="headerlink" href="#12-jsp" title="Permanent link">&para;</a></h3>
<blockquote>
<p>JSP (Java Server Page)  基于Servlet技术的、运行在服务器之上、支持Java语言的动态网页技术。</p>
</blockquote>
<p>背景：JSP简化了Servlet的设计，采用在HTML标签中嵌套代码的形式进行动态网页的呈现，用于高效开发web应用的动态网页。</p>
<p>作用：替换显示页面部分的Servlet（使用<code>*.jsp</code>网页文件替换<code>*PageServlet.java</code>类）</p>
<h2 id="jsp_1">二、JSP入门案例<a class="headerlink" href="#jsp_1" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>JSP入门案例流程：</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="image-20211115114112662" src="imgs/image-20211115114112662.png" /></td>
</tr>
</tbody>
</table>
<h3 id="21">2.1 案例准备<a class="headerlink" href="#21" title="Permanent link">&para;</a></h3>
<h4 id="211">2.1.1 创建数据库数据表<a class="headerlink" href="#211" title="Permanent link">&para;</a></h4>
<ul>
<li>创建数据库 <code>db_jsp</code></li>
<li>创建图书信息表</li>
</ul>
<div class="language-sql highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">SQL</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span>
<span class="normal"><a href="#__codelineno-0-4">4</a></span>
<span class="normal"><a href="#__codelineno-0-5">5</a></span>
<span class="normal"><a href="#__codelineno-0-6">6</a></span>
<span class="normal"><a href="#__codelineno-0-7">7</a></span>
<span class="normal"><a href="#__codelineno-0-8">8</a></span>
<span class="normal"><a href="#__codelineno-0-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">books</span><span class="p">(</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="w">   </span><span class="n">book_id</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="p">,</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="w">     </span><span class="n">book_name</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="w">     </span><span class="n">book_author</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="w">     </span><span class="n">book_price</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="w">     </span><span class="n">book_img_path</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="w">     </span><span class="n">book_desc</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">200</span><span class="p">),</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="w">     </span><span class="n">book_type</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="p">);</span>
</span></code></pre></div></td></tr></table></div>
<h4 id="212-web">2.1.2 创建web项目<a class="headerlink" href="#212-web" title="Permanent link">&para;</a></h4>
<p>JSP必须依赖于服务器运行，因此只能在web应用中使用JSP技术</p>
<p>web项目名称<code>jsp-demo1</code></p>
<h4 id="213-jdbc">2.1.3 完成JDBC准备<a class="headerlink" href="#213-jdbc" title="Permanent link">&para;</a></h4>
<ul>
<li>导入jar包：mysql驱动、druid.jar、apache commons dbutils</li>
</ul>
<ul>
<li>
<p>创建<code>com.qfedu.jsp.utils</code>包，在包中创建<code>druid.properties</code>文件配置连接池参数</p>
<div class="language-properties highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Properties</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span>
<span class="normal"><a href="#__codelineno-1-12">12</a></span>
<span class="normal"><a href="#__codelineno-1-13">13</a></span>
<span class="normal"><a href="#__codelineno-1-14">14</a></span>
<span class="normal"><a href="#__codelineno-1-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="c1"># 数据库连接信息</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="na">driverClassName</span><span class="o">=</span><span class="s">com.mysql.cj.jdbc.Driver</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="na">url</span><span class="o">=</span><span class="s">jdbc:mysql://localhost:3306/db_jsp?characterEncoding=utf8</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="na">username</span><span class="o">=</span><span class="s">root</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="na">password</span><span class="o">=</span><span class="s">@QFedu123</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6"></a>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="c1"># 连接池属性</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="c1"># 连接池的初始化连接数&lt;创建数据库连接池时默认初始化的连接的个数&gt;</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="na">initialSize</span><span class="o">=</span><span class="s">10</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="c1"># 连接池的最大连接数</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11"></a><span class="na">maxActive</span><span class="o">=</span><span class="s">50</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="c1"># 最小空闲连接数（当数据库连接使用率很低时，连接池中的连接会被释放一部分）</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13"></a><span class="na">minIdle</span><span class="o">=</span><span class="s">5</span>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14"></a><span class="c1"># 超时等待时间(单位：ms)</span>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15"></a><span class="na">maxWait</span><span class="o">=</span><span class="s">30000</span>
</span></code></pre></div></td></tr></table></div>
</li>
</ul>
<ul>
<li>
<p>在utils包中连接池工具类<code>DruidUtils</code></p>
<div class="language-java highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-2-10">10</a></span>
<span class="normal"><a href="#__codelineno-2-11">11</a></span>
<span class="normal"><a href="#__codelineno-2-12">12</a></span>
<span class="normal"><a href="#__codelineno-2-13">13</a></span>
<span class="normal"><a href="#__codelineno-2-14">14</a></span>
<span class="normal"><a href="#__codelineno-2-15">15</a></span>
<span class="normal"><a href="#__codelineno-2-16">16</a></span>
<span class="normal"><a href="#__codelineno-2-17">17</a></span>
<span class="normal"><a href="#__codelineno-2-18">18</a></span>
<span class="normal"><a href="#__codelineno-2-19">19</a></span>
<span class="normal"><a href="#__codelineno-2-20">20</a></span>
<span class="normal"><a href="#__codelineno-2-21">21</a></span>
<span class="normal"><a href="#__codelineno-2-22">22</a></span>
<span class="normal"><a href="#__codelineno-2-23">23</a></span>
<span class="normal"><a href="#__codelineno-2-24">24</a></span>
<span class="normal"><a href="#__codelineno-2-25">25</a></span>
<span class="normal"><a href="#__codelineno-2-26">26</a></span>
<span class="normal"><a href="#__codelineno-2-27">27</a></span>
<span class="normal"><a href="#__codelineno-2-28">28</a></span>
<span class="normal"><a href="#__codelineno-2-29">29</a></span>
<span class="normal"><a href="#__codelineno-2-30">30</a></span>
<span class="normal"><a href="#__codelineno-2-31">31</a></span>
<span class="normal"><a href="#__codelineno-2-32">32</a></span>
<span class="normal"><a href="#__codelineno-2-33">33</a></span>
<span class="normal"><a href="#__codelineno-2-34">34</a></span>
<span class="normal"><a href="#__codelineno-2-35">35</a></span>
<span class="normal"><a href="#__codelineno-2-36">36</a></span>
<span class="normal"><a href="#__codelineno-2-37">37</a></span>
<span class="normal"><a href="#__codelineno-2-38">38</a></span>
<span class="normal"><a href="#__codelineno-2-39">39</a></span>
<span class="normal"><a href="#__codelineno-2-40">40</a></span>
<span class="normal"><a href="#__codelineno-2-41">41</a></span>
<span class="normal"><a href="#__codelineno-2-42">42</a></span>
<span class="normal"><a href="#__codelineno-2-43">43</a></span>
<span class="normal"><a href="#__codelineno-2-44">44</a></span>
<span class="normal"><a href="#__codelineno-2-45">45</a></span>
<span class="normal"><a href="#__codelineno-2-46">46</a></span>
<span class="normal"><a href="#__codelineno-2-47">47</a></span>
<span class="normal"><a href="#__codelineno-2-48">48</a></span>
<span class="normal"><a href="#__codelineno-2-49">49</a></span>
<span class="normal"><a href="#__codelineno-2-50">50</a></span>
<span class="normal"><a href="#__codelineno-2-51">51</a></span>
<span class="normal"><a href="#__codelineno-2-52">52</a></span>
<span class="normal"><a href="#__codelineno-2-53">53</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.qfedu.jsp.utils</span><span class="p">;</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2"></a>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.alibaba.druid.pool.DruidDataSource</span><span class="p">;</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.alibaba.druid.pool.DruidDataSourceFactory</span><span class="p">;</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5"></a>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.sql.*</span><span class="p">;</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.io.InputStream</span><span class="p">;</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.sql.*</span><span class="p">;</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Properties</span><span class="p">;</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10"></a>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11"></a><span class="cm">/**</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12"></a><span class="cm"> * @Description 数据库连接池工具类</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13"></a><span class="cm"> * @Author 千锋涛哥</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14"></a><span class="cm"> * 公众号： Java架构栈</span>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15"></a><span class="cm"> */</span>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">DruidUtils</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17"></a>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">DruidDataSource</span><span class="w"> </span><span class="n">druidDataSource</span><span class="p">;</span>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19"></a>
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20"></a><span class="w">    </span><span class="kd">static</span><span class="p">{</span>
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21"></a><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-22"><a id="__codelineno-2-22" name="__codelineno-2-22"></a><span class="w">            </span><span class="n">InputStream</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DruidUtils</span><span class="p">.</span><span class="na">class</span><span class="p">.</span><span class="na">getResourceAsStream</span><span class="p">(</span><span class="s">&quot;druid.properties&quot;</span><span class="p">);</span>
</span><span id="__span-2-23"><a id="__codelineno-2-23" name="__codelineno-2-23"></a><span class="w">            </span><span class="n">Properties</span><span class="w"> </span><span class="n">properties</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Properties</span><span class="p">();</span>
</span><span id="__span-2-24"><a id="__codelineno-2-24" name="__codelineno-2-24"></a><span class="w">            </span><span class="n">properties</span><span class="p">.</span><span class="na">load</span><span class="p">(</span><span class="n">is</span><span class="p">);</span>
</span><span id="__span-2-25"><a id="__codelineno-2-25" name="__codelineno-2-25"></a><span class="w">            </span><span class="n">druidDataSource</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">DruidDataSource</span><span class="p">)</span><span class="w"> </span><span class="n">DruidDataSourceFactory</span><span class="p">.</span><span class="na">createDataSource</span><span class="p">(</span><span class="n">properties</span><span class="p">);</span>
</span><span id="__span-2-26"><a id="__codelineno-2-26" name="__codelineno-2-26"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-27"><a id="__codelineno-2-27" name="__codelineno-2-27"></a><span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span id="__span-2-28"><a id="__codelineno-2-28" name="__codelineno-2-28"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-2-29"><a id="__codelineno-2-29" name="__codelineno-2-29"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-2-30"><a id="__codelineno-2-30" name="__codelineno-2-30"></a>
</span><span id="__span-2-31"><a id="__codelineno-2-31" name="__codelineno-2-31"></a><span class="w">    </span><span class="cm">/**</span>
</span><span id="__span-2-32"><a id="__codelineno-2-32" name="__codelineno-2-32"></a><span class="cm">     * 获取数据库连接池数据源对象</span>
</span><span id="__span-2-33"><a id="__codelineno-2-33" name="__codelineno-2-33"></a><span class="cm">     * @return</span>
</span><span id="__span-2-34"><a id="__codelineno-2-34" name="__codelineno-2-34"></a><span class="cm">     */</span>
</span><span id="__span-2-35"><a id="__codelineno-2-35" name="__codelineno-2-35"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">DataSource</span><span class="w"> </span><span class="nf">getDataSource</span><span class="p">(){</span>
</span><span id="__span-2-36"><a id="__codelineno-2-36" name="__codelineno-2-36"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">druidDataSource</span><span class="p">;</span>
</span><span id="__span-2-37"><a id="__codelineno-2-37" name="__codelineno-2-37"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-2-38"><a id="__codelineno-2-38" name="__codelineno-2-38"></a>
</span><span id="__span-2-39"><a id="__codelineno-2-39" name="__codelineno-2-39"></a><span class="w">    </span><span class="cm">/**</span>
</span><span id="__span-2-40"><a id="__codelineno-2-40" name="__codelineno-2-40"></a><span class="cm">     * 从数据库连接池中获取数据库连接对象</span>
</span><span id="__span-2-41"><a id="__codelineno-2-41" name="__codelineno-2-41"></a><span class="cm">     * @return</span>
</span><span id="__span-2-42"><a id="__codelineno-2-42" name="__codelineno-2-42"></a><span class="cm">     */</span>
</span><span id="__span-2-43"><a id="__codelineno-2-43" name="__codelineno-2-43"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Connection</span><span class="w"> </span><span class="nf">getConnection</span><span class="p">(){</span>
</span><span id="__span-2-44"><a id="__codelineno-2-44" name="__codelineno-2-44"></a><span class="w">        </span><span class="n">Connection</span><span class="w"> </span><span class="n">connection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
</span><span id="__span-2-45"><a id="__codelineno-2-45" name="__codelineno-2-45"></a><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-46"><a id="__codelineno-2-46" name="__codelineno-2-46"></a><span class="w">            </span><span class="n">connection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">druidDataSource</span><span class="p">.</span><span class="na">getConnection</span><span class="p">();</span>
</span><span id="__span-2-47"><a id="__codelineno-2-47" name="__codelineno-2-47"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">SQLException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-48"><a id="__codelineno-2-48" name="__codelineno-2-48"></a><span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span id="__span-2-49"><a id="__codelineno-2-49" name="__codelineno-2-49"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-2-50"><a id="__codelineno-2-50" name="__codelineno-2-50"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">connection</span><span class="p">;</span>
</span><span id="__span-2-51"><a id="__codelineno-2-51" name="__codelineno-2-51"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-2-52"><a id="__codelineno-2-52" name="__codelineno-2-52"></a>
</span><span id="__span-2-53"><a id="__codelineno-2-53" name="__codelineno-2-53"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
</li>
</ul>
<h3 id="22">2.2 完成案例的数据库操作<a class="headerlink" href="#22" title="Permanent link">&para;</a></h3>
<h4 id="221">2.2.1 创建实体类<a class="headerlink" href="#221" title="Permanent link">&para;</a></h4>
<ul>
<li>创建<code>com.qfedu.jsp.dto</code>包</li>
</ul>
<ul>
<li>
<p>创建实体类</p>
<div class="language-java highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-3-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-3-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-3-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-3-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-3-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-3-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-3-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-3-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-3-10">10</a></span>
<span class="normal"><a href="#__codelineno-3-11">11</a></span>
<span class="normal"><a href="#__codelineno-3-12">12</a></span>
<span class="normal"><a href="#__codelineno-3-13">13</a></span>
<span class="normal"><a href="#__codelineno-3-14">14</a></span>
<span class="normal"><a href="#__codelineno-3-15">15</a></span>
<span class="normal"><a href="#__codelineno-3-16">16</a></span>
<span class="normal"><a href="#__codelineno-3-17">17</a></span>
<span class="normal"><a href="#__codelineno-3-18">18</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.qfedu.jsp.dto</span><span class="p">;</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2"></a>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="cm">/**</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="cm"> * @Description 图书信息实体类</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="cm"> * @Author 千锋涛哥</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="cm"> * 公众号： Java架构栈</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="cm"> */</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Book</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9"></a>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">bookId</span><span class="p">;</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">bookName</span><span class="p">;</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">bookAuthor</span><span class="p">;</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">bookPrice</span><span class="p">;</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">bookImgPath</span><span class="p">;</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">bookDesc</span><span class="p">;</span>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">bookType</span><span class="p">;</span>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17"></a>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
</li>
</ul>
<h4 id="222-dao">2.2.2 创建DAO类完成操作<a class="headerlink" href="#222-dao" title="Permanent link">&para;</a></h4>
<ul>
<li>创建<code>com.qfedu.jsp.dao</code>包</li>
</ul>
<ul>
<li>
<p>创建BookDAO类，完成查询操作</p>
<div class="language-java highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-4-10">10</a></span>
<span class="normal"><a href="#__codelineno-4-11">11</a></span>
<span class="normal"><a href="#__codelineno-4-12">12</a></span>
<span class="normal"><a href="#__codelineno-4-13">13</a></span>
<span class="normal"><a href="#__codelineno-4-14">14</a></span>
<span class="normal"><a href="#__codelineno-4-15">15</a></span>
<span class="normal"><a href="#__codelineno-4-16">16</a></span>
<span class="normal"><a href="#__codelineno-4-17">17</a></span>
<span class="normal"><a href="#__codelineno-4-18">18</a></span>
<span class="normal"><a href="#__codelineno-4-19">19</a></span>
<span class="normal"><a href="#__codelineno-4-20">20</a></span>
<span class="normal"><a href="#__codelineno-4-21">21</a></span>
<span class="normal"><a href="#__codelineno-4-22">22</a></span>
<span class="normal"><a href="#__codelineno-4-23">23</a></span>
<span class="normal"><a href="#__codelineno-4-24">24</a></span>
<span class="normal"><a href="#__codelineno-4-25">25</a></span>
<span class="normal"><a href="#__codelineno-4-26">26</a></span>
<span class="normal"><a href="#__codelineno-4-27">27</a></span>
<span class="normal"><a href="#__codelineno-4-28">28</a></span>
<span class="normal"><a href="#__codelineno-4-29">29</a></span>
<span class="normal"><a href="#__codelineno-4-30">30</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.qfedu.jsp.dao</span><span class="p">;</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2"></a>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.qfedu.jsp.dto.Book</span><span class="p">;</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.qfedu.jsp.utils.DruidUtils</span><span class="p">;</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.commons.dbutils.QueryRunner</span><span class="p">;</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.commons.dbutils.handlers.BeanListHandler</span><span class="p">;</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7"></a>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.sql.SQLException</span><span class="p">;</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10"></a>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11"></a><span class="cm">/**</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12"></a><span class="cm"> * @Description</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13"></a><span class="cm"> * @Author 千锋涛哥</span>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14"></a><span class="cm"> * 公众号： Java架构栈</span>
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15"></a><span class="cm"> */</span>
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">BookDAO</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17"></a>
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">listBooks</span><span class="p">(){</span>
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19"></a><span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bookList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
</span><span id="__span-4-20"><a id="__codelineno-4-20" name="__codelineno-4-20"></a><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-21"><a id="__codelineno-4-21" name="__codelineno-4-21"></a><span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">sql</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;select book_id bookId,book_name bookName,book_author bookAuthor,book_price bookPrice,book_img_path bookImgPath,book_desc bookDesc,book_type bookType from books&quot;</span><span class="p">;</span>
</span><span id="__span-4-22"><a id="__codelineno-4-22" name="__codelineno-4-22"></a><span class="w">            </span><span class="n">QueryRunner</span><span class="w"> </span><span class="n">queryRunner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">QueryRunner</span><span class="p">(</span><span class="n">DruidUtils</span><span class="p">.</span><span class="na">getDataSource</span><span class="p">());</span>
</span><span id="__span-4-23"><a id="__codelineno-4-23" name="__codelineno-4-23"></a><span class="w">            </span><span class="n">bookList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">queryRunner</span><span class="p">.</span><span class="na">query</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BeanListHandler</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Book</span><span class="p">.</span><span class="na">class</span><span class="p">));</span>
</span><span id="__span-4-24"><a id="__codelineno-4-24" name="__codelineno-4-24"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">SQLException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-25"><a id="__codelineno-4-25" name="__codelineno-4-25"></a><span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span id="__span-4-26"><a id="__codelineno-4-26" name="__codelineno-4-26"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-4-27"><a id="__codelineno-4-27" name="__codelineno-4-27"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">bookList</span><span class="p">;</span>
</span><span id="__span-4-28"><a id="__codelineno-4-28" name="__codelineno-4-28"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-4-29"><a id="__codelineno-4-29" name="__codelineno-4-29"></a>
</span><span id="__span-4-30"><a id="__codelineno-4-30" name="__codelineno-4-30"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
</li>
</ul>
<h3 id="23-jsp">2.3 JSP呈现动态网页<a class="headerlink" href="#23-jsp" title="Permanent link">&para;</a></h3>
<h4 id="231-booklistservlet">2.3.1 创建BookListServlet<a class="headerlink" href="#231-booklistservlet" title="Permanent link">&para;</a></h4>
<ul>
<li>创建BookListServlet类,接收用户请求</li>
</ul>
<ul>
<li>
<p>调用BookDAO查询图书信息，并将数据转发到 <code>book-list.jsp</code></p>
<div class="language-java highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-5-10">10</a></span>
<span class="normal"><a href="#__codelineno-5-11">11</a></span>
<span class="normal"><a href="#__codelineno-5-12">12</a></span>
<span class="normal"><a href="#__codelineno-5-13">13</a></span>
<span class="normal"><a href="#__codelineno-5-14">14</a></span>
<span class="normal"><a href="#__codelineno-5-15">15</a></span>
<span class="normal"><a href="#__codelineno-5-16">16</a></span>
<span class="normal"><a href="#__codelineno-5-17">17</a></span>
<span class="normal"><a href="#__codelineno-5-18">18</a></span>
<span class="normal"><a href="#__codelineno-5-19">19</a></span>
<span class="normal"><a href="#__codelineno-5-20">20</a></span>
<span class="normal"><a href="#__codelineno-5-21">21</a></span>
<span class="normal"><a href="#__codelineno-5-22">22</a></span>
<span class="normal"><a href="#__codelineno-5-23">23</a></span>
<span class="normal"><a href="#__codelineno-5-24">24</a></span>
<span class="normal"><a href="#__codelineno-5-25">25</a></span>
<span class="normal"><a href="#__codelineno-5-26">26</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.qfedu.jsp.servlets</span><span class="p">;</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2"></a>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="cm">/**</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="cm"> * @Description 接收客户端请求场、查询图书信息，将图书信息转发到一个JSP文件进行显示</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="cm"> * @Author 千锋涛哥</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="cm"> * 公众号： Java架构栈</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="cm"> */</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="nd">@WebServlet</span><span class="p">(</span><span class="s">&quot;/BookListServlet&quot;</span><span class="p">)</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">BookListServlet</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">HttpServlet</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10"></a>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11"></a><span class="w">    </span><span class="nd">@Override</span>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12"></a><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doGet</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">req</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">resp</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13"></a><span class="w">        </span><span class="n">doPost</span><span class="p">(</span><span class="n">req</span><span class="p">,</span><span class="w"> </span><span class="n">resp</span><span class="p">);</span>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15"></a>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16"></a><span class="w">    </span><span class="nd">@Override</span>
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17"></a><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doPost</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18"></a><span class="w">        </span><span class="c1">//1.调用BookDAO查询图书信息</span>
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19"></a><span class="w">        </span><span class="n">BookDAO</span><span class="w"> </span><span class="n">bookDAO</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BookDAO</span><span class="p">();</span>
</span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20"></a><span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bookList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bookDAO</span><span class="p">.</span><span class="na">listBooks</span><span class="p">();</span>
</span><span id="__span-5-21"><a id="__codelineno-5-21" name="__codelineno-5-21"></a>
</span><span id="__span-5-22"><a id="__codelineno-5-22" name="__codelineno-5-22"></a><span class="w">        </span><span class="c1">//2.将数据转发到book-list.jsp进行动态显示</span>
</span><span id="__span-5-23"><a id="__codelineno-5-23" name="__codelineno-5-23"></a><span class="w">        </span><span class="n">request</span><span class="p">.</span><span class="na">setAttribute</span><span class="p">(</span><span class="s">&quot;bookList&quot;</span><span class="p">,</span><span class="n">bookList</span><span class="p">);</span>
</span><span id="__span-5-24"><a id="__codelineno-5-24" name="__codelineno-5-24"></a><span class="w">        </span><span class="n">request</span><span class="p">.</span><span class="na">getRequestDispatcher</span><span class="p">(</span><span class="s">&quot;book-list.jsp&quot;</span><span class="p">).</span><span class="na">forward</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="n">response</span><span class="p">);</span>
</span><span id="__span-5-25"><a id="__codelineno-5-25" name="__codelineno-5-25"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-5-26"><a id="__codelineno-5-26" name="__codelineno-5-26"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
</li>
</ul>
<h4 id="232-jsp">2.3.2 创建JSP页面<a class="headerlink" href="#232-jsp" title="Permanent link">&para;</a></h4>
<ul>
<li>在项目的web目录下右键 --- 新建 --- JSP --- 输入名称<code>book-list.jsp</code> --- OK</li>
</ul>
<ul>
<li>
<p>在<code>book-list.jsp</code>进行网页界面设计（HTML+CSS+JS）</p>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-6-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-6-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-6-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-6-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-6-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-6-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-6-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-6-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-6-10">10</a></span>
<span class="normal"><a href="#__codelineno-6-11">11</a></span>
<span class="normal"><a href="#__codelineno-6-12">12</a></span>
<span class="normal"><a href="#__codelineno-6-13">13</a></span>
<span class="normal"><a href="#__codelineno-6-14">14</a></span>
<span class="normal"><a href="#__codelineno-6-15">15</a></span>
<span class="normal"><a href="#__codelineno-6-16">16</a></span>
<span class="normal"><a href="#__codelineno-6-17">17</a></span>
<span class="normal"><a href="#__codelineno-6-18">18</a></span>
<span class="normal"><a href="#__codelineno-6-19">19</a></span>
<span class="normal"><a href="#__codelineno-6-20">20</a></span>
<span class="normal"><a href="#__codelineno-6-21">21</a></span>
<span class="normal"><a href="#__codelineno-6-22">22</a></span>
<span class="normal"><a href="#__codelineno-6-23">23</a></span>
<span class="normal"><a href="#__codelineno-6-24">24</a></span>
<span class="normal"><a href="#__codelineno-6-25">25</a></span>
<span class="normal"><a href="#__codelineno-6-26">26</a></span>
<span class="normal"><a href="#__codelineno-6-27">27</a></span>
<span class="normal"><a href="#__codelineno-6-28">28</a></span>
<span class="normal"><a href="#__codelineno-6-29">29</a></span>
<span class="normal"><a href="#__codelineno-6-30">30</a></span>
<span class="normal"><a href="#__codelineno-6-31">31</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="k">&lt;%@</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="n">contentType</span><span class="o">=</span><span class="s">&quot;text/html;charset=UTF-8&quot;</span><span class="w"> </span><span class="n">language</span><span class="o">=</span><span class="s">&quot;java&quot;</span><span class="w"> </span><span class="k">%&gt;</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="nt">&lt;html&gt;</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="w">    </span><span class="nt">&lt;head&gt;</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="w">        </span><span class="nt">&lt;title&gt;</span>Title<span class="nt">&lt;/title&gt;</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="w">    </span><span class="nt">&lt;/head&gt;</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="w">    </span><span class="nt">&lt;body&gt;</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7"></a>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="w">        </span><span class="nt">&lt;table</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;80%&quot;</span><span class="w"> </span><span class="na">align=</span><span class="s">&quot;center&quot;</span><span class="w"> </span><span class="na">border=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="na">cellspacing=</span><span class="s">&quot;0&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9"></a><span class="w">            </span><span class="nt">&lt;caption&gt;</span>图书信息列表<span class="nt">&lt;/caption&gt;</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10"></a><span class="w">            </span><span class="nt">&lt;tr&gt;</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11"></a><span class="w">                </span><span class="nt">&lt;th&gt;</span>图书ID<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12"></a><span class="w">                </span><span class="nt">&lt;th&gt;</span>图书名称<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13"></a><span class="w">                </span><span class="nt">&lt;th&gt;</span>作者<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14"></a><span class="w">                </span><span class="nt">&lt;th&gt;</span>价格<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15"></a><span class="w">                </span><span class="nt">&lt;th&gt;</span>封面<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16"></a><span class="w">                </span><span class="nt">&lt;th&gt;</span>描述<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17"></a><span class="w">                </span><span class="nt">&lt;th&gt;</span>类型<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18"></a><span class="w">            </span><span class="nt">&lt;/tr&gt;</span>
</span><span id="__span-6-19"><a id="__codelineno-6-19" name="__codelineno-6-19"></a><span class="w">            </span><span class="nt">&lt;tr&gt;</span>
</span><span id="__span-6-20"><a id="__codelineno-6-20" name="__codelineno-6-20"></a><span class="w">                </span><span class="nt">&lt;td&gt;</span>10001<span class="nt">&lt;/td&gt;</span>
</span><span id="__span-6-21"><a id="__codelineno-6-21" name="__codelineno-6-21"></a><span class="w">                </span><span class="nt">&lt;td&gt;</span>Java<span class="nt">&lt;/td&gt;</span>
</span><span id="__span-6-22"><a id="__codelineno-6-22" name="__codelineno-6-22"></a><span class="w">                </span><span class="nt">&lt;td&gt;</span>张三<span class="nt">&lt;/td&gt;</span>
</span><span id="__span-6-23"><a id="__codelineno-6-23" name="__codelineno-6-23"></a><span class="w">                </span><span class="nt">&lt;td&gt;</span>11.11<span class="nt">&lt;/td&gt;</span>
</span><span id="__span-6-24"><a id="__codelineno-6-24" name="__codelineno-6-24"></a><span class="w">                </span><span class="nt">&lt;td&gt;</span>files/aaa.jpg<span class="nt">&lt;/td&gt;</span>
</span><span id="__span-6-25"><a id="__codelineno-6-25" name="__codelineno-6-25"></a><span class="w">                </span><span class="nt">&lt;td&gt;</span>这本书真香<span class="nt">&lt;/td&gt;</span>
</span><span id="__span-6-26"><a id="__codelineno-6-26" name="__codelineno-6-26"></a><span class="w">                </span><span class="nt">&lt;td&gt;</span>1<span class="nt">&lt;/td&gt;</span>
</span><span id="__span-6-27"><a id="__codelineno-6-27" name="__codelineno-6-27"></a><span class="w">            </span><span class="nt">&lt;/tr&gt;</span>
</span><span id="__span-6-28"><a id="__codelineno-6-28" name="__codelineno-6-28"></a><span class="w">        </span><span class="nt">&lt;/table&gt;</span>
</span><span id="__span-6-29"><a id="__codelineno-6-29" name="__codelineno-6-29"></a>
</span><span id="__span-6-30"><a id="__codelineno-6-30" name="__codelineno-6-30"></a><span class="w">    </span><span class="nt">&lt;/body&gt;</span>
</span><span id="__span-6-31"><a id="__codelineno-6-31" name="__codelineno-6-31"></a><span class="nt">&lt;/html&gt;</span>
</span></code></pre></div></td></tr></table></div>
</li>
</ul>
<h4 id="233-jsp">2.3.3 在JSP页面中显示动态数据<a class="headerlink" href="#233-jsp" title="Permanent link">&para;</a></h4>
<ul>
<li>在JSP页面文件中，通过Java代码接收图书信息，并遍历显示在HTML标签中</li>
</ul>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-7-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-7-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-7-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-7-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-7-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-7-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-7-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-7-10">10</a></span>
<span class="normal"><a href="#__codelineno-7-11">11</a></span>
<span class="normal"><a href="#__codelineno-7-12">12</a></span>
<span class="normal"><a href="#__codelineno-7-13">13</a></span>
<span class="normal"><a href="#__codelineno-7-14">14</a></span>
<span class="normal"><a href="#__codelineno-7-15">15</a></span>
<span class="normal"><a href="#__codelineno-7-16">16</a></span>
<span class="normal"><a href="#__codelineno-7-17">17</a></span>
<span class="normal"><a href="#__codelineno-7-18">18</a></span>
<span class="normal"><a href="#__codelineno-7-19">19</a></span>
<span class="normal"><a href="#__codelineno-7-20">20</a></span>
<span class="normal"><a href="#__codelineno-7-21">21</a></span>
<span class="normal"><a href="#__codelineno-7-22">22</a></span>
<span class="normal"><a href="#__codelineno-7-23">23</a></span>
<span class="normal"><a href="#__codelineno-7-24">24</a></span>
<span class="normal"><a href="#__codelineno-7-25">25</a></span>
<span class="normal"><a href="#__codelineno-7-26">26</a></span>
<span class="normal"><a href="#__codelineno-7-27">27</a></span>
<span class="normal"><a href="#__codelineno-7-28">28</a></span>
<span class="normal"><a href="#__codelineno-7-29">29</a></span>
<span class="normal"><a href="#__codelineno-7-30">30</a></span>
<span class="normal"><a href="#__codelineno-7-31">31</a></span>
<span class="normal"><a href="#__codelineno-7-32">32</a></span>
<span class="normal"><a href="#__codelineno-7-33">33</a></span>
<span class="normal"><a href="#__codelineno-7-34">34</a></span>
<span class="normal"><a href="#__codelineno-7-35">35</a></span>
<span class="normal"><a href="#__codelineno-7-36">36</a></span>
<span class="normal"><a href="#__codelineno-7-37">37</a></span>
<span class="normal"><a href="#__codelineno-7-38">38</a></span>
<span class="normal"><a href="#__codelineno-7-39">39</a></span>
<span class="normal"><a href="#__codelineno-7-40">40</a></span>
<span class="normal"><a href="#__codelineno-7-41">41</a></span>
<span class="normal"><a href="#__codelineno-7-42">42</a></span>
<span class="normal"><a href="#__codelineno-7-43">43</a></span>
<span class="normal"><a href="#__codelineno-7-44">44</a></span>
<span class="normal"><a href="#__codelineno-7-45">45</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="k">&lt;%@</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="n">import</span><span class="o">=</span><span class="s">&quot;java.util.List&quot;</span><span class="w"> </span><span class="k">%&gt;</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="k">&lt;%@</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="n">import</span><span class="o">=</span><span class="s">&quot;com.qfedu.jsp.dto.Book&quot;</span><span class="w"> </span><span class="k">%&gt;</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="k">&lt;%@</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="n">contentType</span><span class="o">=</span><span class="s">&quot;text/html;charset=UTF-8&quot;</span><span class="w"> </span><span class="n">language</span><span class="o">=</span><span class="s">&quot;java&quot;</span><span class="w"> </span><span class="k">%&gt;</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="nt">&lt;html&gt;</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="w">    </span><span class="nt">&lt;head&gt;</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="w">        </span><span class="nt">&lt;title&gt;</span>Title<span class="nt">&lt;/title&gt;</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="w">    </span><span class="nt">&lt;/head&gt;</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="w">    </span><span class="nt">&lt;body&gt;</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9"></a>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10"></a><span class="w">        </span><span class="nt">&lt;table</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;80%&quot;</span><span class="w"> </span><span class="na">align=</span><span class="s">&quot;center&quot;</span><span class="w"> </span><span class="na">border=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="na">cellspacing=</span><span class="s">&quot;0&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11"></a><span class="w">            </span><span class="nt">&lt;caption&gt;</span>图书信息列表<span class="nt">&lt;/caption&gt;</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12"></a><span class="w">            </span><span class="nt">&lt;tr&gt;</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13"></a><span class="w">                </span><span class="nt">&lt;th&gt;</span>图书ID<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14"></a><span class="w">                </span><span class="nt">&lt;th&gt;</span>图书名称<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15"></a><span class="w">                </span><span class="nt">&lt;th&gt;</span>作者<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16"></a><span class="w">                </span><span class="nt">&lt;th&gt;</span>价格<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17"></a><span class="w">                </span><span class="nt">&lt;th&gt;</span>封面<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-7-18"><a id="__codelineno-7-18" name="__codelineno-7-18"></a><span class="w">                </span><span class="nt">&lt;th&gt;</span>描述<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-7-19"><a id="__codelineno-7-19" name="__codelineno-7-19"></a><span class="w">                </span><span class="nt">&lt;th&gt;</span>类型<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-7-20"><a id="__codelineno-7-20" name="__codelineno-7-20"></a><span class="w">            </span><span class="nt">&lt;/tr&gt;</span>
</span><span id="__span-7-21"><a id="__codelineno-7-21" name="__codelineno-7-21"></a><span class="w">            </span><span class="k">&lt;%-</span><span class="o">-</span><span class="w"> </span><span class="n">在JSP中可以写Java代码</span><span class="err">，</span><span class="n">但是代码必须写在</span><span class="o">&lt;%</span><span class="k">%&gt;</span>符号中<span class="w"> </span>--%&gt;
</span><span id="__span-7-22"><a id="__codelineno-7-22" name="__codelineno-7-22"></a><span class="w">            </span><span class="k">&lt;%</span>
</span><span id="__span-7-23"><a id="__codelineno-7-23" name="__codelineno-7-23"></a><span class="w">            </span><span class="c1">//1.通过Java代码，接收BookListServlet转发时传递的 图书信息集合的数据</span>
</span><span id="__span-7-24"><a id="__codelineno-7-24" name="__codelineno-7-24"></a><span class="w">            </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bookList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">getAttribute</span><span class="p">(</span><span class="s">&quot;bookList&quot;</span><span class="p">);</span>
</span><span id="__span-7-25"><a id="__codelineno-7-25" name="__codelineno-7-25"></a><span class="w">            </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="w"> </span><span class="n">bookList</span><span class="p">.</span><span class="na">size</span><span class="p">()</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
</span><span id="__span-7-26"><a id="__codelineno-7-26" name="__codelineno-7-26"></a><span class="w">                </span><span class="c1">//book是java代码中的变量</span>
</span><span id="__span-7-27"><a id="__codelineno-7-27" name="__codelineno-7-27"></a><span class="w">                </span><span class="n">Book</span><span class="w"> </span><span class="n">book</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bookList</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
</span><span id="__span-7-28"><a id="__codelineno-7-28" name="__codelineno-7-28"></a><span class="w">            </span><span class="k">%&gt;</span>
</span><span id="__span-7-29"><a id="__codelineno-7-29" name="__codelineno-7-29"></a><span class="w">                </span><span class="nt">&lt;tr&gt;</span>
</span><span id="__span-7-30"><a id="__codelineno-7-30" name="__codelineno-7-30"></a><span class="w">                    </span><span class="k">&lt;%-</span><span class="o">-</span><span class="w"> </span><span class="n">如果需要将JSP中java代码的变量显示在HTML标签中</span><span class="err">，</span><span class="n">则需要使用</span><span class="o">&lt;%=</span><span class="n">attr</span><span class="k">%&gt;</span><span class="w"> </span>--%&gt;
</span><span id="__span-7-31"><a id="__codelineno-7-31" name="__codelineno-7-31"></a><span class="w">                    </span><span class="nt">&lt;td&gt;</span><span class="k">&lt;%=</span><span class="n">book</span><span class="p">.</span><span class="na">getBookId</span><span class="p">()</span><span class="w"> </span><span class="k">%&gt;</span><span class="nt">&lt;/td&gt;</span>
</span><span id="__span-7-32"><a id="__codelineno-7-32" name="__codelineno-7-32"></a><span class="w">                    </span><span class="nt">&lt;td&gt;</span><span class="k">&lt;%=</span><span class="n">book</span><span class="p">.</span><span class="na">getBookName</span><span class="p">()</span><span class="w"> </span><span class="k">%&gt;</span><span class="nt">&lt;/td&gt;</span>
</span><span id="__span-7-33"><a id="__codelineno-7-33" name="__codelineno-7-33"></a><span class="w">                    </span><span class="nt">&lt;td&gt;</span><span class="k">&lt;%=</span><span class="n">book</span><span class="p">.</span><span class="na">getBookAuthor</span><span class="p">()</span><span class="w"> </span><span class="k">%&gt;</span><span class="nt">&lt;/td&gt;</span>
</span><span id="__span-7-34"><a id="__codelineno-7-34" name="__codelineno-7-34"></a><span class="w">                    </span><span class="nt">&lt;td&gt;</span><span class="k">&lt;%=</span><span class="n">book</span><span class="p">.</span><span class="na">getBookPrice</span><span class="p">()</span><span class="w"> </span><span class="k">%&gt;</span><span class="nt">&lt;/td&gt;</span>
</span><span id="__span-7-35"><a id="__codelineno-7-35" name="__codelineno-7-35"></a><span class="w">                    </span><span class="nt">&lt;td&gt;</span><span class="k">&lt;%=</span><span class="n">book</span><span class="p">.</span><span class="na">getBookImgPath</span><span class="p">()</span><span class="w"> </span><span class="k">%&gt;</span><span class="nt">&lt;/td&gt;</span>
</span><span id="__span-7-36"><a id="__codelineno-7-36" name="__codelineno-7-36"></a><span class="w">                    </span><span class="nt">&lt;td&gt;</span><span class="k">&lt;%=</span><span class="n">book</span><span class="p">.</span><span class="na">getBookDesc</span><span class="p">()</span><span class="w"> </span><span class="k">%&gt;</span><span class="nt">&lt;/td&gt;</span>
</span><span id="__span-7-37"><a id="__codelineno-7-37" name="__codelineno-7-37"></a><span class="w">                    </span><span class="nt">&lt;td&gt;</span><span class="k">&lt;%=</span><span class="n">book</span><span class="p">.</span><span class="na">getBookType</span><span class="p">()</span><span class="w"> </span><span class="k">%&gt;</span><span class="nt">&lt;/td&gt;</span>
</span><span id="__span-7-38"><a id="__codelineno-7-38" name="__codelineno-7-38"></a><span class="w">                </span><span class="nt">&lt;/tr&gt;</span>
</span><span id="__span-7-39"><a id="__codelineno-7-39" name="__codelineno-7-39"></a><span class="w">            </span><span class="k">&lt;%</span>
</span><span id="__span-7-40"><a id="__codelineno-7-40" name="__codelineno-7-40"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-7-41"><a id="__codelineno-7-41" name="__codelineno-7-41"></a><span class="w">            </span><span class="k">%&gt;</span>
</span><span id="__span-7-42"><a id="__codelineno-7-42" name="__codelineno-7-42"></a><span class="w">        </span><span class="nt">&lt;/table&gt;</span>
</span><span id="__span-7-43"><a id="__codelineno-7-43" name="__codelineno-7-43"></a>
</span><span id="__span-7-44"><a id="__codelineno-7-44" name="__codelineno-7-44"></a><span class="w">    </span><span class="nt">&lt;/body&gt;</span>
</span><span id="__span-7-45"><a id="__codelineno-7-45" name="__codelineno-7-45"></a><span class="nt">&lt;/html&gt;</span>
</span></code></pre></div></td></tr></table></div>
<h2 id="jsp_2">三、JSP开发详解<a class="headerlink" href="#jsp_2" title="Permanent link">&para;</a></h2>
<h3 id="31-jspservlet">3.1 JSP和Servlet<a class="headerlink" href="#31-jspservlet" title="Permanent link">&para;</a></h3>
<blockquote>
<p>JSP和Servlet一样可以接受客户端请求，并响应一个动态网页。</p>
</blockquote>
<p>JSP是对Servlet的一种高级封装，一个JSP文件底层就是一个Servlet类。</p>
<p>JSP文件需要依赖服务器运行，当客户端请求一个JSP文件时，JSP文件会在服务器中转换成Servlet来执行。</p>
<p><img alt="image-20211115143508765" src="imgs/image-20211115143508765.png" /></p>
<p>使用JSP的必要性：</p>
<p>​   我们将动态网页显示使用JSP完成，在HTML标签中嵌入Java代码的形式开发动态网页更为便捷。</p>
<h3 id="32-jsp">3.2 JSP开发的语法规则<a class="headerlink" href="#32-jsp" title="Permanent link">&para;</a></h3>
<h4 id="321-jsp">3.2.1 JSP文档规范<a class="headerlink" href="#321-jsp" title="Permanent link">&para;</a></h4>
<ul>
<li>JSP文件和HTML文档一样是一个视图文件，JSP文件创建在项目的web目录</li>
</ul>
<ul>
<li>JSP文件以<code>.jsp</code>后缀名结尾</li>
</ul>
<ul>
<li>
<p>JSP文档内容结构：</p>
<ul>
<li>在JSP文件的第一行需要通过 <code>&lt;%@ page %&gt;</code>声明使用java语言</li>
</ul>
<ul>
<li>JSP文件的主体内容是一个HTML文档，符合HTML的文档规范</li>
</ul>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span>
<span class="normal"><a href="#__codelineno-8-2">2</a></span>
<span class="normal"><a href="#__codelineno-8-3">3</a></span>
<span class="normal"><a href="#__codelineno-8-4">4</a></span>
<span class="normal"><a href="#__codelineno-8-5">5</a></span>
<span class="normal"><a href="#__codelineno-8-6">6</a></span>
<span class="normal"><a href="#__codelineno-8-7">7</a></span>
<span class="normal"><a href="#__codelineno-8-8">8</a></span>
<span class="normal"><a href="#__codelineno-8-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="k">&lt;%@</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="n">contentType</span><span class="o">=</span><span class="s">&quot;text/html;charset=UTF-8&quot;</span><span class="w"> </span><span class="n">language</span><span class="o">=</span><span class="s">&quot;java&quot;</span><span class="w"> </span><span class="k">%&gt;</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="nt">&lt;html&gt;</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="w">    </span><span class="nt">&lt;head&gt;</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="w">        </span><span class="nt">&lt;title&gt;</span>Title<span class="nt">&lt;/title&gt;</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="w">    </span><span class="nt">&lt;/head&gt;</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6"></a><span class="w">    </span><span class="nt">&lt;body&gt;</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7"></a>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8"></a><span class="w">    </span><span class="nt">&lt;/body&gt;</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9"></a><span class="nt">&lt;/html&gt;</span>
</span></code></pre></div></td></tr></table></div>
</li>
</ul>
<h4 id="322-java">3.2.2 Java脚本<a class="headerlink" href="#322-java" title="Permanent link">&para;</a></h4>
<blockquote>
<p>JSP页面可以嵌入java代码，java代码就是这个页面的脚本</p>
</blockquote>
<ul>
<li>
<p>java代码：在jsp中的java代码必须写在<code>&lt;%  %&gt;</code>中，代码可以写在JSP文件的任何位置，而且可以包含多段代码</p>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span>
<span class="normal"><a href="#__codelineno-9-2">2</a></span>
<span class="normal"><a href="#__codelineno-9-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="k">&lt;%</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="w">   </span><span class="n">java代码</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="k">%&gt;</span>
</span></code></pre></div></td></tr></table></div>
</li>
</ul>
<ul>
<li>
<p>变量输出</p>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="nt">&lt;img</span><span class="w"> </span><span class="na">src=</span><span class="s">&quot;</span><span class="k">&lt;%=</span><span class="n">attr</span><span class="w"> </span><span class="k">%&gt;</span><span class="s">&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></div></td></tr></table></div>
</li>
</ul>
<ul>
<li>
<p>声明成员变量和方法：</p>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1">1</a></span>
<span class="normal"><a href="#__codelineno-11-2">2</a></span>
<span class="normal"><a href="#__codelineno-11-3">3</a></span>
<span class="normal"><a href="#__codelineno-11-4">4</a></span>
<span class="normal"><a href="#__codelineno-11-5">5</a></span>
<span class="normal"><a href="#__codelineno-11-6">6</a></span>
<span class="normal"><a href="#__codelineno-11-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="k">&lt;%!</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="k">%&gt;</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2"></a>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="k">&lt;%!</span><span class="w"> </span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">method</span><span class="p">(){</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5"></a><span class="w">     </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;hello&quot;</span><span class="p">);</span><span class="w">  </span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6"></a><span class="w">  </span><span class="p">}</span><span class="w">  </span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7"></a><span class="k">%&gt;</span>
</span></code></pre></div></td></tr></table></div>
</li>
</ul>
<h4 id="323-jsp">3.2.3 JSP注释<a class="headerlink" href="#323-jsp" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>HTML文档注释</p>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="cm">&lt;!-- HTML文档注释：这种注释会出现在jsp编译之后的Java代码中 --&gt;</span>
</span></code></pre></div></td></tr></table></div>
</li>
</ul>
<ul>
<li>
<p>JSP注释</p>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="k">&lt;%-</span><span class="o">-</span><span class="w"> </span><span class="n">JSP</span><span class="w"> </span><span class="n">注释</span><span class="err">：</span><span class="w"> </span><span class="n">这种注释不会出现在编译后的java代码</span><span class="w">  </span><span class="o">--</span><span class="k">%&gt;</span>
</span></code></pre></div></td></tr></table></div>
</li>
</ul>
<h3 id="33-jsp">3.3 JSP编译指令<a class="headerlink" href="#33-jsp" title="Permanent link">&para;</a></h3>
<p>编译指令：在JSP文件转换成Java代码之后，编译成.class文件的过程中执行的指令</p>
<blockquote>
<p>&lt;%@ page %&gt; : 声明当前JSP页面在web容器中的配置、引用；</p>
<p>&lt;%@ include %&gt; : 在当前JSP中引用其他的资源（JSP\HTML）作为当前JSP的一部分；</p>
<p>&lt;%@ taglib %&gt; : 引用第三方标签库、扩展JSP文件中的标签；</p>
</blockquote>
<h4 id="331-page">3.3.1 &lt;%@ page%&gt;<a class="headerlink" href="#331-page" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>标签属性</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>contentType</td>
<td>用于声明当前JSP文档的MIME类型和字符集编码</td>
<td>contentType="text/html;charset=UTF-8"</td>
</tr>
<tr>
<td>language</td>
<td>定义JSP中所用的脚本语言类型，默认java</td>
<td>language="java"</td>
</tr>
<tr>
<td>import</td>
<td>声明当前JSP中的Java代码依赖的类</td>
<td>import="java.util.List"</td>
</tr>
<tr>
<td>pageEncoding</td>
<td>声明当前JSP文档的解码格式</td>
<td>pageEncoding="UTF-8"</td>
</tr>
<tr>
<td>errorPage</td>
<td>如果当前JSP出现异常则跳转到errorPage指向页面</td>
<td>errorPage="error.jsp"</td>
</tr>
<tr>
<td>isErrorPage</td>
<td>定义当前页面是否可以作为错误页面</td>
<td>isErrorPage="true"</td>
</tr>
</tbody>
</table>
<h4 id="332-include">3.3.2 &lt;%@ include %&gt;<a class="headerlink" href="#332-include" title="Permanent link">&para;</a></h4>
<blockquote>
<p>在当前JSP中引用其他的资源（JSP\HTML）作为当前JSP的一部分，被引入的页面不会单独作为一个JSP编译，而是将引入的页面中的代码插入到当前JSP之后作为一个整体进行编译。</p>
<p>被引入的页面只需要是一个HTML片段即可。</p>
<p><code>静态引入</code>：将被页面引入到当前JSP之后再进行整体的编译，被引入的页面不会单独编译。</p>
</blockquote>
<ul>
<li>
<p>header.jsp</p>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="nt">&lt;div</span><span class="w"> </span><span class="na">style=</span><span class="s">&quot;height: 100px; background: deepskyblue&quot;</span><span class="w"> </span><span class="nt">&gt;</span>header<span class="nt">&lt;/div&gt;</span>
</span></code></pre></div></td></tr></table></div>
</li>
</ul>
<ul>
<li>
<p>footer.jsp</p>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="nt">&lt;div</span><span class="w"> </span><span class="na">style=</span><span class="s">&quot;height: 50px; background: lightgray&quot;</span><span class="w"> </span><span class="nt">&gt;</span>footer<span class="nt">&lt;/div&gt;</span>
</span></code></pre></div></td></tr></table></div>
</li>
</ul>
<ul>
<li>
<p>index.jsp</p>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-16-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-16-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-16-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-16-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-16-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-16-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-16-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-16-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-16-10">10</a></span>
<span class="normal"><a href="#__codelineno-16-11">11</a></span>
<span class="normal"><a href="#__codelineno-16-12">12</a></span>
<span class="normal"><a href="#__codelineno-16-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="k">&lt;%@</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="n">contentType</span><span class="o">=</span><span class="s">&quot;text/html;charset=UTF-8&quot;</span><span class="w"> </span><span class="n">language</span><span class="o">=</span><span class="s">&quot;java&quot;</span><span class="w"> </span><span class="k">%&gt;</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2"></a><span class="k">&lt;%@</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="n">import</span><span class="o">=</span><span class="s">&quot;java.util.Date&quot;</span><span class="k">%&gt;</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3"></a><span class="nt">&lt;html&gt;</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4"></a><span class="w">  </span><span class="nt">&lt;head&gt;</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5"></a><span class="w">    </span><span class="nt">&lt;title&gt;</span>$Title$<span class="nt">&lt;/title&gt;</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6"></a><span class="w">  </span><span class="nt">&lt;/head&gt;</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7"></a><span class="w">  </span><span class="nt">&lt;body&gt;</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8"></a>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9"></a><span class="w">    </span><span class="k">&lt;%@</span><span class="w"> </span><span class="n">include</span><span class="w"> </span><span class="n">file</span><span class="o">=</span><span class="s">&quot;header.jsp&quot;</span><span class="k">%&gt;</span>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10"></a><span class="w">    </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">style=</span><span class="s">&quot;height: 400px; background: orange&quot;</span><span class="nt">&gt;</span>index<span class="nt">&lt;/div&gt;</span>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11"></a><span class="w">    </span><span class="k">&lt;%@</span><span class="w"> </span><span class="n">include</span><span class="w"> </span><span class="n">file</span><span class="o">=</span><span class="s">&quot;footer.jsp&quot;</span><span class="k">%&gt;</span>
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12"></a><span class="w">  </span><span class="nt">&lt;/body&gt;</span>
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13"></a><span class="nt">&lt;/html&gt;</span>
</span></code></pre></div></td></tr></table></div>
</li>
</ul>
<h4 id="333-taglib">3.3.3 &lt;%@ taglib %&gt;<a class="headerlink" href="#333-taglib" title="Permanent link">&para;</a></h4>
<blockquote>
<p>引用第三方标签库、扩展JSP文件中的标签</p>
</blockquote>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1">1</a></span>
<span class="normal"><a href="#__codelineno-17-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="cm">&lt;!--引入JSTL标签库--&gt;</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="k">&lt;%@</span><span class="w"> </span><span class="n">taglib</span><span class="w"> </span><span class="n">prefix</span><span class="o">=</span><span class="s">&quot;c&quot;</span><span class="w"> </span><span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://java.sun.com/jsp/jstl/core&quot;</span><span class="w"> </span><span class="k">%&gt;</span>
</span></code></pre></div></td></tr></table></div>
<h3 id="34-jsp">3.4 JSP动作指令<a class="headerlink" href="#34-jsp" title="Permanent link">&para;</a></h3>
<blockquote>
<p>在JSP文件中，除了支持标准的HTML标签库和编译指令之外，还支持JSP特有的动作指令（动作标签）。</p>
<p>动作指令：在JSP中以<code>jsp:</code>开头的、在JSP页面运行期间执行的指令。</p>
</blockquote>
<h4 id="341-jspinclude">3.4.1 jsp:include<a class="headerlink" href="#341-jspinclude" title="Permanent link">&para;</a></h4>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1">1</a></span>
<span class="normal"><a href="#__codelineno-18-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="k">&lt;%-</span><span class="o">-</span><span class="w"> </span><span class="n">动态引入</span><span class="w"> </span><span class="o">--</span><span class="k">%&gt;</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2"></a><span class="k">&lt;jsp:include page=&quot;test1.jsp&quot;/&gt;</span>
</span></code></pre></div></td></tr></table></div>
<p>动态引入JSP文件文件：被引入的JSP文件先单独编译执行，将执行的结果引入到当前JSP文件。</p>
<p>因为被引入的JSP页面需要独立的编译执行，因此被引入的页面需要是一个完整的JSP文件。</p>
<p>在动态引入的页面中不能访问主页面中定义的Java变量。</p>
<p><strong>静态引入和动态引入的区别：</strong></p>
<ul>
<li>静态引入，使用<code>&lt;%@include file=""%&gt;</code>编译指令将HTML或者JSP页面引入到当前文件，静态引入是先引入再执行，因此被引入的页面可以是一个HTML片段，也可在被引入的页面中访问主页面定义的Java变量；</li>
<li>动态引入，使用<code>&lt;jsp:include page=""/&gt;</code>动作指令将JSP页面引入到当前文件，动态引入是先独立编译执行被引入的页面，将执行结果引入到当前页面，被引入的页面需要独立执行因此必须是一个完成的JSP，同时在被引入的JSP中不能访问主页面定义的Java变量。</li>
</ul>
<h4 id="342-jspuserbean">3.4.2 jsp:userBean<a class="headerlink" href="#342-jspuserbean" title="Permanent link">&para;</a></h4>
<blockquote>
<p>在JSP页面中构造Java对象</p>
</blockquote>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1">1</a></span>
<span class="normal"><a href="#__codelineno-19-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="k">&lt;%-</span><span class="o">-</span><span class="w"> </span><span class="n">相当于</span><span class="w"> </span><span class="n">Book</span><span class="w"> </span><span class="n">book</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Book</span><span class="p">();</span><span class="w"> </span><span class="o">--</span><span class="k">%&gt;</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2"></a><span class="k">&lt;jsp:useBean id=&quot;book&quot; class=&quot;com.qfedu.jsp.dto.Book&quot;&gt;&lt;/jsp:useBean&gt;</span>
</span></code></pre></div></td></tr></table></div>
<ul>
<li>id属性， 创建的对象的变量名</li>
<li>class属性，类的全限定名</li>
</ul>
<h4 id="343-jspsetproperty">3.4.3 jsp:setProperty<a class="headerlink" href="#343-jspsetproperty" title="Permanent link">&para;</a></h4>
<blockquote>
<p>给创建的Java对象属性赋值</p>
</blockquote>
<div class="language-java highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1">1</a></span>
<span class="normal"><a href="#__codelineno-20-2">2</a></span>
<span class="normal"><a href="#__codelineno-20-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="o">&lt;%--</span><span class="w"> </span><span class="n">相当于</span><span class="w"> </span><span class="n">book</span><span class="p">.</span><span class="na">setBookId</span><span class="p">(</span><span class="s">&quot;100001&quot;</span><span class="p">)</span><span class="w">   </span><span class="o">--%&gt;</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2"></a><span class="o">&lt;</span><span class="n">jsp</span><span class="p">:</span><span class="n">setProperty</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;book&quot;</span><span class="w"> </span><span class="n">property</span><span class="o">=</span><span class="s">&quot;bookId&quot;</span><span class="w"> </span><span class="n">value</span><span class="o">=</span><span class="s">&quot;100001&quot;</span><span class="o">&gt;&lt;/</span><span class="n">jsp</span><span class="p">:</span><span class="n">setProperty</span><span class="o">&gt;</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3"></a><span class="o">&lt;</span><span class="n">jsp</span><span class="p">:</span><span class="n">setProperty</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;book&quot;</span><span class="w"> </span><span class="n">property</span><span class="o">=</span><span class="s">&quot;bookName&quot;</span><span class="w"> </span><span class="n">value</span><span class="o">=</span><span class="s">&quot;Java&quot;</span><span class="o">&gt;&lt;/</span><span class="n">jsp</span><span class="p">:</span><span class="n">setProperty</span><span class="o">&gt;</span>
</span></code></pre></div></td></tr></table></div>
<ul>
<li>name属性，对象的变量名</li>
<li>property属性，对象的属性名</li>
<li>values属性，属性的值</li>
</ul>
<h4 id="344-jspgetproperty">3.4.4 jsp:getProperty<a class="headerlink" href="#344-jspgetproperty" title="Permanent link">&para;</a></h4>
<blockquote>
<p>获取创建的对象的值，并输出到网页</p>
</blockquote>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1">1</a></span>
<span class="normal"><a href="#__codelineno-21-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="k">&lt;%-</span><span class="o">-</span><span class="w"> </span><span class="n">相当于</span><span class="w"> </span><span class="n">book</span><span class="p">.</span><span class="na">getBookId</span><span class="p">()</span><span class="err">，</span><span class="n">并将获取的值输出到页面</span><span class="w">   </span><span class="o">--</span><span class="k">%&gt;</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2"></a><span class="k">&lt;jsp:getProperty name=&quot;book&quot; property=&quot;bookId&quot;/&gt;</span>
</span></code></pre></div></td></tr></table></div>
<ul>
<li>name属性，对象的变量名</li>
<li>property属性，对象的属性名</li>
</ul>
<h4 id="345-jspforward">3.4.5 jsp:forward<a class="headerlink" href="#345-jspforward" title="Permanent link">&para;</a></h4>
<blockquote>
<p>用于转发客户端请求</p>
</blockquote>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="k">&lt;jsp:forward page=&quot;test2.jsp&quot;&gt;&lt;/jsp:forward&gt;</span>
</span></code></pre></div></td></tr></table></div>
<h4 id="346-jspparam">3.4.6 jsp:param<a class="headerlink" href="#346-jspparam" title="Permanent link">&para;</a></h4>
<blockquote>
<p>在JSP页面转发过程中进行参数传递</p>
</blockquote>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-23-1">1</a></span>
<span class="normal"><a href="#__codelineno-23-2">2</a></span>
<span class="normal"><a href="#__codelineno-23-3">3</a></span>
<span class="normal"><a href="#__codelineno-23-4">4</a></span>
<span class="normal"><a href="#__codelineno-23-5">5</a></span>
<span class="normal"><a href="#__codelineno-23-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="k">&lt;%-</span><span class="o">-</span><span class="w">  </span><span class="n">从当前JSP转发到另一个JSP</span><span class="w">   </span><span class="o">--</span><span class="k">%&gt;</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2"></a><span class="k">&lt;jsp:forward page=&quot;test2.jsp&quot;&gt;</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3"></a><span class="w">    </span><span class="k">&lt;%-</span><span class="o">-</span><span class="w"> </span><span class="n">转发的同时携带参数</span><span class="w">  </span><span class="o">--</span><span class="k">%&gt;</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4"></a><span class="w">    </span><span class="nt">&lt;jsp:param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;zhangsan&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5"></a><span class="w">    </span><span class="nt">&lt;jsp:param</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;sex&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;nan&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6"></a><span class="k">&lt;/jsp:forward&gt;</span>
</span></code></pre></div></td></tr></table></div>
<h3 id="35-jsp">3.5 JSP九大内置对象<a class="headerlink" href="#35-jsp" title="Permanent link">&para;</a></h3>
<blockquote>
<p>一个JSP文件在服务器上是转换成Java文件（Servlet类）编译执行的，我们在JSP文件中嵌入的Java代码都会转换到这个Java文件的方法中（_jspService）,因此这个方法的参数、方法中定义的变量以及当前类继承的父类中定义的变量，我们的代码都可以使用。</p>
<p>在JSP中编写Java代码可以不用创建、直接使用的对象我们称之为JSP内置对象。</p>
</blockquote>
<table>
<thead>
<tr>
<th>对象名</th>
<th>类型</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>request</code></td>
<td>javax.servlet.http.HttpServletRequest</td>
<td>表示客户端请求对象，用户获取HTTP请求信息</td>
</tr>
<tr>
<td>response</td>
<td>javax.servlet.http.HttpServletResponse</td>
<td>表示服务器对客户端的响应对象，用于将JSP处理的数据响应给客户端</td>
</tr>
<tr>
<td><code>session</code></td>
<td>javax.servlet.http.HttpSession</td>
<td>表示当前客户端与服务器的会话对象</td>
</tr>
<tr>
<td><code>application</code></td>
<td>javax.servlet.ServletContext</td>
<td>当前web应用在服务器上的全局对象</td>
</tr>
<tr>
<td>config</td>
<td>javax.servlet.ServletConfig</td>
<td>表示当前Servlet类的配置信息</td>
</tr>
<tr>
<td><code>pageContext</code></td>
<td>javax.servlet.jsp.PageContext</td>
<td>当前JSP的上下文，可以获取当前JSP的任何信息</td>
</tr>
<tr>
<td>out</td>
<td>javax.servlet.jsp.JspWriter</td>
<td>指向当前JSP文档的输出流</td>
</tr>
<tr>
<td>exception</td>
<td>java.lang.Throwable</td>
<td>只有在设置了isErrorPage=“true”的JSP可使用</td>
</tr>
<tr>
<td>page</td>
<td>java.lang.Object</td>
<td>当前JSP转换的servlet类的实例，相当于this</td>
</tr>
</tbody>
</table>
<h3 id="36-jsp">3.6 JSP四大域对象<a class="headerlink" href="#36-jsp" title="Permanent link">&para;</a></h3>
<blockquote>
<p>域对象——可以用来存取数据的对象</p>
<ul>
<li>pageContext</li>
<li>request</li>
<li>session</li>
<li>application</li>
</ul>
</blockquote>
<h4 id="361-pagecontext">3.6.1 pageContext<a class="headerlink" href="#361-pagecontext" title="Permanent link">&para;</a></h4>
<blockquote>
<p>pageConext对象 只作用于当前JSP文件</p>
</blockquote>
<p><img alt="image-20211115192340756" src="imgs/image-20211115192340756.png" /></p>
<h4 id="362-request">3.6.2 request<a class="headerlink" href="#362-request" title="Permanent link">&para;</a></h4>
<blockquote>
<p>request作用于一次请求</p>
</blockquote>
<p><img alt="image-20211115193904951" src="imgs/image-20211115193904951.png" /></p>
<h4 id="363-session">3.6.3 session<a class="headerlink" href="#363-session" title="Permanent link">&para;</a></h4>
<blockquote>
<p>session对象作用于用户一次连接的多次请求</p>
</blockquote>
<p><img alt="image-20211115193438233" src="imgs/image-20211115193438233.png" /></p>
<h4 id="364-application">3.6.4 application<a class="headerlink" href="#364-application" title="Permanent link">&para;</a></h4>
<blockquote>
<p>application实际上就是servletContext对象，作用于一个web应用的所有用户</p>
</blockquote>
<p><img alt="image-20211115193814764" src="imgs/image-20211115193814764.png" /></p>
<h4 id="365">3.6.5 使用域对象传值示例<a class="headerlink" href="#365" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>Servlet类</p>
<div class="language-java highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-24-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-24-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-24-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-24-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-24-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-24-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-24-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-24-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-24-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-24-10">10</a></span>
<span class="normal"><a href="#__codelineno-24-11">11</a></span>
<span class="normal"><a href="#__codelineno-24-12">12</a></span>
<span class="normal"><a href="#__codelineno-24-13">13</a></span>
<span class="normal"><a href="#__codelineno-24-14">14</a></span>
<span class="normal"><a href="#__codelineno-24-15">15</a></span>
<span class="normal"><a href="#__codelineno-24-16">16</a></span>
<span class="normal"><a href="#__codelineno-24-17">17</a></span>
<span class="normal"><a href="#__codelineno-24-18">18</a></span>
<span class="normal"><a href="#__codelineno-24-19">19</a></span>
<span class="normal"><a href="#__codelineno-24-20">20</a></span>
<span class="normal"><a href="#__codelineno-24-21">21</a></span>
<span class="normal"><a href="#__codelineno-24-22">22</a></span>
<span class="normal"><a href="#__codelineno-24-23">23</a></span>
<span class="normal"><a href="#__codelineno-24-24">24</a></span>
<span class="normal"><a href="#__codelineno-24-25">25</a></span>
<span class="normal"><a href="#__codelineno-24-26">26</a></span>
<span class="normal"><a href="#__codelineno-24-27">27</a></span>
<span class="normal"><a href="#__codelineno-24-28">28</a></span>
<span class="normal"><a href="#__codelineno-24-29">29</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.qfedu.jsp.servlets</span><span class="p">;</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2"></a><span class="cm">/**</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3"></a><span class="cm"> * @Description</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4"></a><span class="cm"> * @Author 千锋涛哥</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5"></a><span class="cm"> * 公众号： Java架构栈</span>
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6"></a><span class="cm"> */</span>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7"></a><span class="nd">@WebServlet</span><span class="p">(</span><span class="s">&quot;/TestServlet&quot;</span><span class="p">)</span>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TestServlet</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">HttpServlet</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9"></a><span class="w">    </span><span class="nd">@Override</span>
</span><span id="__span-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10"></a><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doGet</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">req</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">resp</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-11"><a id="__codelineno-24-11" name="__codelineno-24-11"></a><span class="w">        </span><span class="n">doPost</span><span class="p">(</span><span class="n">req</span><span class="p">,</span><span class="w"> </span><span class="n">resp</span><span class="p">);</span>
</span><span id="__span-24-12"><a id="__codelineno-24-12" name="__codelineno-24-12"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-24-13"><a id="__codelineno-24-13" name="__codelineno-24-13"></a>
</span><span id="__span-24-14"><a id="__codelineno-24-14" name="__codelineno-24-14"></a><span class="w">    </span><span class="nd">@Override</span>
</span><span id="__span-24-15"><a id="__codelineno-24-15" name="__codelineno-24-15"></a><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doPost</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-16"><a id="__codelineno-24-16" name="__codelineno-24-16"></a>
</span><span id="__span-24-17"><a id="__codelineno-24-17" name="__codelineno-24-17"></a><span class="w">        </span><span class="c1">//1.分别通过 request、session、application传值</span>
</span><span id="__span-24-18"><a id="__codelineno-24-18" name="__codelineno-24-18"></a><span class="w">        </span><span class="n">request</span><span class="p">.</span><span class="na">setAttribute</span><span class="p">(</span><span class="s">&quot;key1&quot;</span><span class="p">,</span><span class="s">&quot;value1&quot;</span><span class="p">);</span>
</span><span id="__span-24-19"><a id="__codelineno-24-19" name="__codelineno-24-19"></a>
</span><span id="__span-24-20"><a id="__codelineno-24-20" name="__codelineno-24-20"></a><span class="w">        </span><span class="n">HttpSession</span><span class="w"> </span><span class="n">session</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">getSession</span><span class="p">();</span>
</span><span id="__span-24-21"><a id="__codelineno-24-21" name="__codelineno-24-21"></a><span class="w">        </span><span class="n">session</span><span class="p">.</span><span class="na">setAttribute</span><span class="p">(</span><span class="s">&quot;key2&quot;</span><span class="p">,</span><span class="s">&quot;value2&quot;</span><span class="p">);</span>
</span><span id="__span-24-22"><a id="__codelineno-24-22" name="__codelineno-24-22"></a>
</span><span id="__span-24-23"><a id="__codelineno-24-23" name="__codelineno-24-23"></a><span class="w">        </span><span class="n">ServletContext</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getServletContext</span><span class="p">();</span>
</span><span id="__span-24-24"><a id="__codelineno-24-24" name="__codelineno-24-24"></a><span class="w">        </span><span class="n">application</span><span class="p">.</span><span class="na">setAttribute</span><span class="p">(</span><span class="s">&quot;key3&quot;</span><span class="p">,</span><span class="s">&quot;value3&quot;</span><span class="p">);</span>
</span><span id="__span-24-25"><a id="__codelineno-24-25" name="__codelineno-24-25"></a>
</span><span id="__span-24-26"><a id="__codelineno-24-26" name="__codelineno-24-26"></a><span class="w">        </span><span class="c1">//2.转发到test3.jsp</span>
</span><span id="__span-24-27"><a id="__codelineno-24-27" name="__codelineno-24-27"></a><span class="w">        </span><span class="n">request</span><span class="p">.</span><span class="na">getRequestDispatcher</span><span class="p">(</span><span class="s">&quot;test3.jsp&quot;</span><span class="p">).</span><span class="na">forward</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="n">response</span><span class="p">);</span>
</span><span id="__span-24-28"><a id="__codelineno-24-28" name="__codelineno-24-28"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-24-29"><a id="__codelineno-24-29" name="__codelineno-24-29"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
</li>
</ul>
<ul>
<li>
<p>JSP页面</p>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-25-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-25-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-25-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-25-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-25-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-25-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-25-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-25-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-25-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-25-10">10</a></span>
<span class="normal"><a href="#__codelineno-25-11">11</a></span>
<span class="normal"><a href="#__codelineno-25-12">12</a></span>
<span class="normal"><a href="#__codelineno-25-13">13</a></span>
<span class="normal"><a href="#__codelineno-25-14">14</a></span>
<span class="normal"><a href="#__codelineno-25-15">15</a></span>
<span class="normal"><a href="#__codelineno-25-16">16</a></span>
<span class="normal"><a href="#__codelineno-25-17">17</a></span>
<span class="normal"><a href="#__codelineno-25-18">18</a></span>
<span class="normal"><a href="#__codelineno-25-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1"></a><span class="k">&lt;%@</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="n">contentType</span><span class="o">=</span><span class="s">&quot;text/html;charset=UTF-8&quot;</span><span class="w"> </span><span class="n">language</span><span class="o">=</span><span class="s">&quot;java&quot;</span><span class="w"> </span><span class="k">%&gt;</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2"></a><span class="nt">&lt;html&gt;</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3"></a><span class="nt">&lt;head&gt;</span>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4"></a><span class="w">    </span><span class="nt">&lt;title&gt;</span>Title<span class="nt">&lt;/title&gt;</span>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5"></a><span class="nt">&lt;/head&gt;</span>
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6"></a><span class="nt">&lt;body&gt;</span>
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7"></a>Test3
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8"></a><span class="nt">&lt;hr/&gt;</span>
</span><span id="__span-25-9"><a id="__codelineno-25-9" name="__codelineno-25-9"></a>
</span><span id="__span-25-10"><a id="__codelineno-25-10" name="__codelineno-25-10"></a><span class="k">&lt;%</span>
</span><span id="__span-25-11"><a id="__codelineno-25-11" name="__codelineno-25-11"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="p">)</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">getAttribute</span><span class="p">(</span><span class="s">&quot;key1&quot;</span><span class="p">);</span>
</span><span id="__span-25-12"><a id="__codelineno-25-12" name="__codelineno-25-12"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="p">)</span><span class="w"> </span><span class="n">session</span><span class="p">.</span><span class="na">getAttribute</span><span class="p">(</span><span class="s">&quot;key2&quot;</span><span class="p">);</span>
</span><span id="__span-25-13"><a id="__codelineno-25-13" name="__codelineno-25-13"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">s3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="p">)</span><span class="w"> </span><span class="n">application</span><span class="p">.</span><span class="na">getAttribute</span><span class="p">(</span><span class="s">&quot;key3&quot;</span><span class="p">);</span>
</span><span id="__span-25-14"><a id="__codelineno-25-14" name="__codelineno-25-14"></a><span class="k">%&gt;</span>
</span><span id="__span-25-15"><a id="__codelineno-25-15" name="__codelineno-25-15"></a>request取出的数据:<span class="k">&lt;%=</span><span class="n">s1</span><span class="k">%&gt;</span><span class="w"> </span><span class="nt">&lt;br/&gt;</span>
</span><span id="__span-25-16"><a id="__codelineno-25-16" name="__codelineno-25-16"></a>session取出的数据:<span class="k">&lt;%=</span><span class="n">s2</span><span class="k">%&gt;</span><span class="w"> </span><span class="nt">&lt;br/&gt;</span>
</span><span id="__span-25-17"><a id="__codelineno-25-17" name="__codelineno-25-17"></a>application取出的数据:<span class="k">&lt;%=</span><span class="n">s3</span><span class="k">%&gt;</span><span class="w"> </span><span class="nt">&lt;br/&gt;</span>
</span><span id="__span-25-18"><a id="__codelineno-25-18" name="__codelineno-25-18"></a><span class="nt">&lt;/body&gt;</span>
</span><span id="__span-25-19"><a id="__codelineno-25-19" name="__codelineno-25-19"></a><span class="nt">&lt;/html&gt;</span>
</span></code></pre></div></td></tr></table></div>
</li>
</ul>
<h3 id="37-jsp">3.7 JSP开发应用<a class="headerlink" href="#37-jsp" title="Permanent link">&para;</a></h3>
<p><img alt="image-20211115210009119" src="imgs/image-20211115210009119.png" /></p>
<ul>
<li>JSP负责项目中的视图呈现</li>
<li>Servlet负责接收、处理用户请求</li>
<li>Servlet类查询的数据转发并传递给JSP页面进行显示</li>
</ul>
<p><code>注意：当将进行页面显示的Servlet类转换成jsp文件之后，要修改对应跳转的路径；同时注意修改登录过滤器的放行路径，以及未登录时要跳转到login.jsp（而不是原来的LoginPageServlet）</code></p>
<h2 id="el">四、EL表达式<a class="headerlink" href="#el" title="Permanent link">&para;</a></h2>
<blockquote>
<p>思考问题：JSP相较于Servlet来说，在动态网页的数据渲染方面要便捷很多，但是依然要进行HTML和Java代码的混合编程，代码的可读性和维护性依然有待提高，能不能做HTML和Java代码的完全分离呢？</p>
</blockquote>
<h3 id="41-el">4.1 什么是EL?<a class="headerlink" href="#41-el" title="Permanent link">&para;</a></h3>
<blockquote>
<p>Expression Language 表达式语言，应用于JSP页面，可以更简单、便捷的获取page、request、session、application等作用域的值，进行渲染。</p>
</blockquote>
<p><strong>EL表达式就是替代以下代码的作用</strong>：</p>
<ul>
<li>pageContext.getAttribute("key");</li>
<li>request.getAttribute("key");</li>
<li>session.getAttribute("key");</li>
<li>application.getAttribute("key");</li>
</ul>
<p><strong>EL表达式使用示例：</strong></p>
<ul>
<li>
<p>Servlet类:</p>
<div class="language-java highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-26-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-26-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-26-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-26-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-26-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-26-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-26-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-26-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-26-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-26-10">10</a></span>
<span class="normal"><a href="#__codelineno-26-11">11</a></span>
<span class="normal"><a href="#__codelineno-26-12">12</a></span>
<span class="normal"><a href="#__codelineno-26-13">13</a></span>
<span class="normal"><a href="#__codelineno-26-14">14</a></span>
<span class="normal"><a href="#__codelineno-26-15">15</a></span>
<span class="normal"><a href="#__codelineno-26-16">16</a></span>
<span class="normal"><a href="#__codelineno-26-17">17</a></span>
<span class="normal"><a href="#__codelineno-26-18">18</a></span>
<span class="normal"><a href="#__codelineno-26-19">19</a></span>
<span class="normal"><a href="#__codelineno-26-20">20</a></span>
<span class="normal"><a href="#__codelineno-26-21">21</a></span>
<span class="normal"><a href="#__codelineno-26-22">22</a></span>
<span class="normal"><a href="#__codelineno-26-23">23</a></span>
<span class="normal"><a href="#__codelineno-26-24">24</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1"></a><span class="cm">/**</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2"></a><span class="cm"> * @Description</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3"></a><span class="cm"> * @Author 千锋涛哥</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4"></a><span class="cm"> * 公众号： Java架构栈</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5"></a><span class="cm"> */</span>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6"></a><span class="nd">@WebServlet</span><span class="p">(</span><span class="s">&quot;/TestServlet&quot;</span><span class="p">)</span>
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TestServlet</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">HttpServlet</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-26-8"><a id="__codelineno-26-8" name="__codelineno-26-8"></a>
</span><span id="__span-26-9"><a id="__codelineno-26-9" name="__codelineno-26-9"></a><span class="w">    </span><span class="nd">@Override</span>
</span><span id="__span-26-10"><a id="__codelineno-26-10" name="__codelineno-26-10"></a><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doGet</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">)</span>
</span><span id="__span-26-11"><a id="__codelineno-26-11" name="__codelineno-26-11"></a><span class="w">            </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-26-12"><a id="__codelineno-26-12" name="__codelineno-26-12"></a><span class="w">        </span><span class="n">doPost</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">);</span>
</span><span id="__span-26-13"><a id="__codelineno-26-13" name="__codelineno-26-13"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-26-14"><a id="__codelineno-26-14" name="__codelineno-26-14"></a>
</span><span id="__span-26-15"><a id="__codelineno-26-15" name="__codelineno-26-15"></a><span class="w">    </span><span class="nd">@Override</span>
</span><span id="__span-26-16"><a id="__codelineno-26-16" name="__codelineno-26-16"></a><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doPost</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">)</span>
</span><span id="__span-26-17"><a id="__codelineno-26-17" name="__codelineno-26-17"></a><span class="w">            </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-26-18"><a id="__codelineno-26-18" name="__codelineno-26-18"></a><span class="w">        </span><span class="c1">//1.传递数据</span>
</span><span id="__span-26-19"><a id="__codelineno-26-19" name="__codelineno-26-19"></a><span class="w">        </span><span class="n">request</span><span class="p">.</span><span class="na">setAttribute</span><span class="p">(</span><span class="s">&quot;str&quot;</span><span class="p">,</span><span class="s">&quot;Hello EL!&quot;</span><span class="p">);</span>
</span><span id="__span-26-20"><a id="__codelineno-26-20" name="__codelineno-26-20"></a><span class="w">        </span><span class="c1">//2.转发到JSP页面</span>
</span><span id="__span-26-21"><a id="__codelineno-26-21" name="__codelineno-26-21"></a><span class="w">        </span><span class="n">request</span><span class="p">.</span><span class="na">getRequestDispatcher</span><span class="p">(</span><span class="s">&quot;test.jsp&quot;</span><span class="p">).</span><span class="na">forward</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="n">response</span><span class="p">);</span>
</span><span id="__span-26-22"><a id="__codelineno-26-22" name="__codelineno-26-22"></a>
</span><span id="__span-26-23"><a id="__codelineno-26-23" name="__codelineno-26-23"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-26-24"><a id="__codelineno-26-24" name="__codelineno-26-24"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
</li>
</ul>
<ul>
<li>
<p>JSP文件：</p>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-27-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-27-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-27-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-27-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-27-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-27-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-27-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-27-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-27-10">10</a></span>
<span class="normal"><a href="#__codelineno-27-11">11</a></span>
<span class="normal"><a href="#__codelineno-27-12">12</a></span>
<span class="normal"><a href="#__codelineno-27-13">13</a></span>
<span class="normal"><a href="#__codelineno-27-14">14</a></span>
<span class="normal"><a href="#__codelineno-27-15">15</a></span>
<span class="normal"><a href="#__codelineno-27-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="k">&lt;%@</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="n">contentType</span><span class="o">=</span><span class="s">&quot;text/html;charset=UTF-8&quot;</span><span class="w"> </span><span class="n">language</span><span class="o">=</span><span class="s">&quot;java&quot;</span><span class="w"> </span><span class="k">%&gt;</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2"></a><span class="nt">&lt;html&gt;</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3"></a><span class="w">    </span><span class="nt">&lt;head&gt;</span>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4"></a><span class="w">        </span><span class="nt">&lt;title&gt;</span>Title<span class="nt">&lt;/title&gt;</span>
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5"></a><span class="w">    </span><span class="nt">&lt;/head&gt;</span>
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6"></a><span class="w">    </span><span class="nt">&lt;body&gt;</span>
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7"></a><span class="w">        </span><span class="k">&lt;%-</span><span class="o">-</span><span class="w"> </span><span class="n">使用Java代码接收数据</span><span class="w"> </span><span class="o">--</span><span class="k">%&gt;</span>
</span><span id="__span-27-8"><a id="__codelineno-27-8" name="__codelineno-27-8"></a><span class="w">        </span><span class="k">&lt;%</span>
</span><span id="__span-27-9"><a id="__codelineno-27-9" name="__codelineno-27-9"></a><span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="p">)</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">getAttribute</span><span class="p">(</span><span class="s">&quot;str&quot;</span><span class="p">);</span>
</span><span id="__span-27-10"><a id="__codelineno-27-10" name="__codelineno-27-10"></a><span class="w">        </span><span class="k">%&gt;</span>
</span><span id="__span-27-11"><a id="__codelineno-27-11" name="__codelineno-27-11"></a><span class="w">        </span>Java脚本获取的数据：<span class="k">&lt;%=</span><span class="n">s</span><span class="w"> </span><span class="k">%&gt;</span>
</span><span id="__span-27-12"><a id="__codelineno-27-12" name="__codelineno-27-12"></a>
</span><span id="__span-27-13"><a id="__codelineno-27-13" name="__codelineno-27-13"></a><span class="w">        </span><span class="k">&lt;%-</span><span class="o">-</span><span class="w">  </span><span class="n">通过EL获取并显示TestServlet传递的数据</span><span class="w">  </span><span class="o">--</span><span class="k">%&gt;</span>
</span><span id="__span-27-14"><a id="__codelineno-27-14" name="__codelineno-27-14"></a><span class="w">        </span>EL表达式获取的数据：${str}
</span><span id="__span-27-15"><a id="__codelineno-27-15" name="__codelineno-27-15"></a><span class="w">    </span><span class="nt">&lt;/body&gt;</span>
</span><span id="__span-27-16"><a id="__codelineno-27-16" name="__codelineno-27-16"></a><span class="nt">&lt;/html&gt;</span>
</span></code></pre></div></td></tr></table></div>
</li>
</ul>
<h3 id="42-el">4.2 EL表达式应用<a class="headerlink" href="#42-el" title="Permanent link">&para;</a></h3>
<h4 id="421">4.2.1 实体类<a class="headerlink" href="#421" title="Permanent link">&para;</a></h4>
<div class="language-java highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-28-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-28-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-28-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-28-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-28-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-28-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-28-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-28-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-28-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-28-10">10</a></span>
<span class="normal"><a href="#__codelineno-28-11">11</a></span>
<span class="normal"><a href="#__codelineno-28-12">12</a></span>
<span class="normal"><a href="#__codelineno-28-13">13</a></span>
<span class="normal"><a href="#__codelineno-28-14">14</a></span>
<span class="normal"><a href="#__codelineno-28-15">15</a></span>
<span class="normal"><a href="#__codelineno-28-16">16</a></span>
<span class="normal"><a href="#__codelineno-28-17">17</a></span>
<span class="normal"><a href="#__codelineno-28-18">18</a></span>
<span class="normal"><a href="#__codelineno-28-19">19</a></span>
<span class="normal"><a href="#__codelineno-28-20">20</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.qfedu.dto</span><span class="p">;</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2"></a>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3"></a><span class="cm">/**</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4"></a><span class="cm"> * @Description 图书信息实体类</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5"></a><span class="cm"> * @Author 千锋涛哥</span>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6"></a><span class="cm"> * 公众号： Java架构栈</span>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7"></a><span class="cm"> */</span>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Book</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9"></a>
</span><span id="__span-28-10"><a id="__codelineno-28-10" name="__codelineno-28-10"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">bookId</span><span class="p">;</span>
</span><span id="__span-28-11"><a id="__codelineno-28-11" name="__codelineno-28-11"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">bookName</span><span class="p">;</span>
</span><span id="__span-28-12"><a id="__codelineno-28-12" name="__codelineno-28-12"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">bookAuthor</span><span class="p">;</span>
</span><span id="__span-28-13"><a id="__codelineno-28-13" name="__codelineno-28-13"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">bookPrice</span><span class="p">;</span>
</span><span id="__span-28-14"><a id="__codelineno-28-14" name="__codelineno-28-14"></a>
</span><span id="__span-28-15"><a id="__codelineno-28-15" name="__codelineno-28-15"></a><span class="w">    </span><span class="c1">//无参构造器</span>
</span><span id="__span-28-16"><a id="__codelineno-28-16" name="__codelineno-28-16"></a><span class="w">    </span><span class="c1">//全参构造器</span>
</span><span id="__span-28-17"><a id="__codelineno-28-17" name="__codelineno-28-17"></a><span class="w">    </span><span class="c1">//toString</span>
</span><span id="__span-28-18"><a id="__codelineno-28-18" name="__codelineno-28-18"></a><span class="w">    </span><span class="c1">//get和set方法</span>
</span><span id="__span-28-19"><a id="__codelineno-28-19" name="__codelineno-28-19"></a>
</span><span id="__span-28-20"><a id="__codelineno-28-20" name="__codelineno-28-20"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<h4 id="422-testservlet">4.2.2 TestServlet类<a class="headerlink" href="#422-testservlet" title="Permanent link">&para;</a></h4>
<ul>
<li>在TestServlet类传递各种数据，并转发到test.jsp页面</li>
</ul>
<div class="language-java highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-29-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-29-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-29-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-29-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-29-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-29-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-29-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-29-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-29-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-29-10">10</a></span>
<span class="normal"><a href="#__codelineno-29-11">11</a></span>
<span class="normal"><a href="#__codelineno-29-12">12</a></span>
<span class="normal"><a href="#__codelineno-29-13">13</a></span>
<span class="normal"><a href="#__codelineno-29-14">14</a></span>
<span class="normal"><a href="#__codelineno-29-15">15</a></span>
<span class="normal"><a href="#__codelineno-29-16">16</a></span>
<span class="normal"><a href="#__codelineno-29-17">17</a></span>
<span class="normal"><a href="#__codelineno-29-18">18</a></span>
<span class="normal"><a href="#__codelineno-29-19">19</a></span>
<span class="normal"><a href="#__codelineno-29-20">20</a></span>
<span class="normal"><a href="#__codelineno-29-21">21</a></span>
<span class="normal"><a href="#__codelineno-29-22">22</a></span>
<span class="normal"><a href="#__codelineno-29-23">23</a></span>
<span class="normal"><a href="#__codelineno-29-24">24</a></span>
<span class="normal"><a href="#__codelineno-29-25">25</a></span>
<span class="normal"><a href="#__codelineno-29-26">26</a></span>
<span class="normal"><a href="#__codelineno-29-27">27</a></span>
<span class="normal"><a href="#__codelineno-29-28">28</a></span>
<span class="normal"><a href="#__codelineno-29-29">29</a></span>
<span class="normal"><a href="#__codelineno-29-30">30</a></span>
<span class="normal"><a href="#__codelineno-29-31">31</a></span>
<span class="normal"><a href="#__codelineno-29-32">32</a></span>
<span class="normal"><a href="#__codelineno-29-33">33</a></span>
<span class="normal"><a href="#__codelineno-29-34">34</a></span>
<span class="normal"><a href="#__codelineno-29-35">35</a></span>
<span class="normal"><a href="#__codelineno-29-36">36</a></span>
<span class="normal"><a href="#__codelineno-29-37">37</a></span>
<span class="normal"><a href="#__codelineno-29-38">38</a></span>
<span class="normal"><a href="#__codelineno-29-39">39</a></span>
<span class="normal"><a href="#__codelineno-29-40">40</a></span>
<span class="normal"><a href="#__codelineno-29-41">41</a></span>
<span class="normal"><a href="#__codelineno-29-42">42</a></span>
<span class="normal"><a href="#__codelineno-29-43">43</a></span>
<span class="normal"><a href="#__codelineno-29-44">44</a></span>
<span class="normal"><a href="#__codelineno-29-45">45</a></span>
<span class="normal"><a href="#__codelineno-29-46">46</a></span>
<span class="normal"><a href="#__codelineno-29-47">47</a></span>
<span class="normal"><a href="#__codelineno-29-48">48</a></span>
<span class="normal"><a href="#__codelineno-29-49">49</a></span>
<span class="normal"><a href="#__codelineno-29-50">50</a></span>
<span class="normal"><a href="#__codelineno-29-51">51</a></span>
<span class="normal"><a href="#__codelineno-29-52">52</a></span>
<span class="normal"><a href="#__codelineno-29-53">53</a></span>
<span class="normal"><a href="#__codelineno-29-54">54</a></span>
<span class="normal"><a href="#__codelineno-29-55">55</a></span>
<span class="normal"><a href="#__codelineno-29-56">56</a></span>
<span class="normal"><a href="#__codelineno-29-57">57</a></span>
<span class="normal"><a href="#__codelineno-29-58">58</a></span>
<span class="normal"><a href="#__codelineno-29-59">59</a></span>
<span class="normal"><a href="#__codelineno-29-60">60</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.qfedu.servlets</span><span class="p">;</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2"></a>
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.qfedu.dto.Book</span><span class="p">;</span>
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4"></a>
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.servlet.ServletException</span><span class="p">;</span>
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.servlet.annotation.WebServlet</span><span class="p">;</span>
</span><span id="__span-29-7"><a id="__codelineno-29-7" name="__codelineno-29-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.servlet.http.HttpServlet</span><span class="p">;</span>
</span><span id="__span-29-8"><a id="__codelineno-29-8" name="__codelineno-29-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.servlet.http.HttpServletRequest</span><span class="p">;</span>
</span><span id="__span-29-9"><a id="__codelineno-29-9" name="__codelineno-29-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.servlet.http.HttpServletResponse</span><span class="p">;</span>
</span><span id="__span-29-10"><a id="__codelineno-29-10" name="__codelineno-29-10"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.io.IOException</span><span class="p">;</span>
</span><span id="__span-29-11"><a id="__codelineno-29-11" name="__codelineno-29-11"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span>
</span><span id="__span-29-12"><a id="__codelineno-29-12" name="__codelineno-29-12"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.HashMap</span><span class="p">;</span>
</span><span id="__span-29-13"><a id="__codelineno-29-13" name="__codelineno-29-13"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
</span><span id="__span-29-14"><a id="__codelineno-29-14" name="__codelineno-29-14"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Map</span><span class="p">;</span>
</span><span id="__span-29-15"><a id="__codelineno-29-15" name="__codelineno-29-15"></a>
</span><span id="__span-29-16"><a id="__codelineno-29-16" name="__codelineno-29-16"></a><span class="cm">/**</span>
</span><span id="__span-29-17"><a id="__codelineno-29-17" name="__codelineno-29-17"></a><span class="cm"> * @Description</span>
</span><span id="__span-29-18"><a id="__codelineno-29-18" name="__codelineno-29-18"></a><span class="cm"> * @Author 千锋涛哥</span>
</span><span id="__span-29-19"><a id="__codelineno-29-19" name="__codelineno-29-19"></a><span class="cm"> * 公众号： Java架构栈</span>
</span><span id="__span-29-20"><a id="__codelineno-29-20" name="__codelineno-29-20"></a><span class="cm"> */</span>
</span><span id="__span-29-21"><a id="__codelineno-29-21" name="__codelineno-29-21"></a><span class="nd">@WebServlet</span><span class="p">(</span><span class="s">&quot;/TestServlet&quot;</span><span class="p">)</span>
</span><span id="__span-29-22"><a id="__codelineno-29-22" name="__codelineno-29-22"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TestServlet</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">HttpServlet</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-29-23"><a id="__codelineno-29-23" name="__codelineno-29-23"></a>
</span><span id="__span-29-24"><a id="__codelineno-29-24" name="__codelineno-29-24"></a><span class="w">    </span><span class="nd">@Override</span>
</span><span id="__span-29-25"><a id="__codelineno-29-25" name="__codelineno-29-25"></a><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doGet</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">)</span>
</span><span id="__span-29-26"><a id="__codelineno-29-26" name="__codelineno-29-26"></a><span class="w">            </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-29-27"><a id="__codelineno-29-27" name="__codelineno-29-27"></a><span class="w">        </span><span class="n">doPost</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">);</span>
</span><span id="__span-29-28"><a id="__codelineno-29-28" name="__codelineno-29-28"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-29-29"><a id="__codelineno-29-29" name="__codelineno-29-29"></a>
</span><span id="__span-29-30"><a id="__codelineno-29-30" name="__codelineno-29-30"></a><span class="w">    </span><span class="nd">@Override</span>
</span><span id="__span-29-31"><a id="__codelineno-29-31" name="__codelineno-29-31"></a><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doPost</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">)</span>
</span><span id="__span-29-32"><a id="__codelineno-29-32" name="__codelineno-29-32"></a><span class="w">            </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-29-33"><a id="__codelineno-29-33" name="__codelineno-29-33"></a><span class="w">        </span><span class="c1">//1.传递数据</span>
</span><span id="__span-29-34"><a id="__codelineno-29-34" name="__codelineno-29-34"></a><span class="w">        </span><span class="c1">//简单类型</span>
</span><span id="__span-29-35"><a id="__codelineno-29-35" name="__codelineno-29-35"></a><span class="w">        </span><span class="n">request</span><span class="p">.</span><span class="na">setAttribute</span><span class="p">(</span><span class="s">&quot;key1&quot;</span><span class="p">,</span><span class="mi">123</span><span class="p">);</span>
</span><span id="__span-29-36"><a id="__codelineno-29-36" name="__codelineno-29-36"></a><span class="w">        </span><span class="c1">//字符串</span>
</span><span id="__span-29-37"><a id="__codelineno-29-37" name="__codelineno-29-37"></a><span class="w">        </span><span class="n">request</span><span class="p">.</span><span class="na">setAttribute</span><span class="p">(</span><span class="s">&quot;key2&quot;</span><span class="p">,</span><span class="s">&quot;Hello EL!&quot;</span><span class="p">);</span>
</span><span id="__span-29-38"><a id="__codelineno-29-38" name="__codelineno-29-38"></a><span class="w">        </span><span class="c1">//对象</span>
</span><span id="__span-29-39"><a id="__codelineno-29-39" name="__codelineno-29-39"></a><span class="w">        </span><span class="n">request</span><span class="p">.</span><span class="na">setAttribute</span><span class="p">(</span><span class="s">&quot;key3&quot;</span><span class="p">,</span><span class="k">new</span><span class="w"> </span><span class="n">Book</span><span class="p">(</span><span class="s">&quot;1001&quot;</span><span class="p">,</span><span class="s">&quot;Java&quot;</span><span class="p">,</span><span class="s">&quot;亮亮&quot;</span><span class="p">,</span><span class="mf">20.00</span><span class="p">));</span>
</span><span id="__span-29-40"><a id="__codelineno-29-40" name="__codelineno-29-40"></a><span class="w">        </span><span class="c1">//数组</span>
</span><span id="__span-29-41"><a id="__codelineno-29-41" name="__codelineno-29-41"></a><span class="w">        </span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s">&quot;aaa&quot;</span><span class="p">,</span><span class="s">&quot;bbb&quot;</span><span class="p">,</span><span class="s">&quot;ccc&quot;</span><span class="p">};</span>
</span><span id="__span-29-42"><a id="__codelineno-29-42" name="__codelineno-29-42"></a><span class="w">        </span><span class="n">request</span><span class="p">.</span><span class="na">setAttribute</span><span class="p">(</span><span class="s">&quot;key4&quot;</span><span class="p">,</span><span class="n">arr</span><span class="p">);</span>
</span><span id="__span-29-43"><a id="__codelineno-29-43" name="__codelineno-29-43"></a><span class="w">        </span><span class="c1">//集合</span>
</span><span id="__span-29-44"><a id="__codelineno-29-44" name="__codelineno-29-44"></a><span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bookList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
</span><span id="__span-29-45"><a id="__codelineno-29-45" name="__codelineno-29-45"></a><span class="w">        </span><span class="n">bookList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Book</span><span class="p">(</span><span class="s">&quot;1001&quot;</span><span class="p">,</span><span class="s">&quot;Java&quot;</span><span class="p">,</span><span class="s">&quot;亮亮&quot;</span><span class="p">,</span><span class="mf">20.00</span><span class="p">));</span>
</span><span id="__span-29-46"><a id="__codelineno-29-46" name="__codelineno-29-46"></a><span class="w">        </span><span class="n">bookList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Book</span><span class="p">(</span><span class="s">&quot;1002&quot;</span><span class="p">,</span><span class="s">&quot;C++&quot;</span><span class="p">,</span><span class="s">&quot;张三&quot;</span><span class="p">,</span><span class="mf">21.00</span><span class="p">));</span>
</span><span id="__span-29-47"><a id="__codelineno-29-47" name="__codelineno-29-47"></a><span class="w">        </span><span class="n">bookList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Book</span><span class="p">(</span><span class="s">&quot;1003&quot;</span><span class="p">,</span><span class="s">&quot;Python&quot;</span><span class="p">,</span><span class="s">&quot;李四&quot;</span><span class="p">,</span><span class="mf">22.00</span><span class="p">));</span>
</span><span id="__span-29-48"><a id="__codelineno-29-48" name="__codelineno-29-48"></a><span class="w">        </span><span class="n">request</span><span class="p">.</span><span class="na">setAttribute</span><span class="p">(</span><span class="s">&quot;key5&quot;</span><span class="p">,</span><span class="n">bookList</span><span class="p">);</span>
</span><span id="__span-29-49"><a id="__codelineno-29-49" name="__codelineno-29-49"></a><span class="w">        </span><span class="c1">//Map</span>
</span><span id="__span-29-50"><a id="__codelineno-29-50" name="__codelineno-29-50"></a><span class="w">        </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
</span><span id="__span-29-51"><a id="__codelineno-29-51" name="__codelineno-29-51"></a><span class="w">        </span><span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;a1001&quot;</span><span class="p">,</span><span class="k">new</span><span class="w"> </span><span class="n">Book</span><span class="p">(</span><span class="s">&quot;1001&quot;</span><span class="p">,</span><span class="s">&quot;Java&quot;</span><span class="p">,</span><span class="s">&quot;亮亮&quot;</span><span class="p">,</span><span class="mf">20.00</span><span class="p">));</span>
</span><span id="__span-29-52"><a id="__codelineno-29-52" name="__codelineno-29-52"></a><span class="w">        </span><span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;a1002&quot;</span><span class="p">,</span><span class="k">new</span><span class="w"> </span><span class="n">Book</span><span class="p">(</span><span class="s">&quot;1002&quot;</span><span class="p">,</span><span class="s">&quot;C++&quot;</span><span class="p">,</span><span class="s">&quot;张三&quot;</span><span class="p">,</span><span class="mf">21.00</span><span class="p">));</span>
</span><span id="__span-29-53"><a id="__codelineno-29-53" name="__codelineno-29-53"></a><span class="w">        </span><span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;a1003&quot;</span><span class="p">,</span><span class="k">new</span><span class="w"> </span><span class="n">Book</span><span class="p">(</span><span class="s">&quot;1003&quot;</span><span class="p">,</span><span class="s">&quot;Python&quot;</span><span class="p">,</span><span class="s">&quot;李四&quot;</span><span class="p">,</span><span class="mf">22.00</span><span class="p">));</span>
</span><span id="__span-29-54"><a id="__codelineno-29-54" name="__codelineno-29-54"></a><span class="w">        </span><span class="n">request</span><span class="p">.</span><span class="na">setAttribute</span><span class="p">(</span><span class="s">&quot;key6&quot;</span><span class="p">,</span><span class="n">map</span><span class="p">);</span>
</span><span id="__span-29-55"><a id="__codelineno-29-55" name="__codelineno-29-55"></a>
</span><span id="__span-29-56"><a id="__codelineno-29-56" name="__codelineno-29-56"></a><span class="w">        </span><span class="c1">//2.转发到JSP页面</span>
</span><span id="__span-29-57"><a id="__codelineno-29-57" name="__codelineno-29-57"></a><span class="w">        </span><span class="n">request</span><span class="p">.</span><span class="na">getRequestDispatcher</span><span class="p">(</span><span class="s">&quot;test.jsp&quot;</span><span class="p">).</span><span class="na">forward</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="n">response</span><span class="p">);</span>
</span><span id="__span-29-58"><a id="__codelineno-29-58" name="__codelineno-29-58"></a>
</span><span id="__span-29-59"><a id="__codelineno-29-59" name="__codelineno-29-59"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-29-60"><a id="__codelineno-29-60" name="__codelineno-29-60"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<h4 id="423-testjsp">4.2.3 test.jsp<a class="headerlink" href="#423-testjsp" title="Permanent link">&para;</a></h4>
<ul>
<li>在test.jsp页面通过EL表达式获取各种类型数据</li>
</ul>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-30-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-30-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-30-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-30-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-30-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-30-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-30-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-30-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-30-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-30-10">10</a></span>
<span class="normal"><a href="#__codelineno-30-11">11</a></span>
<span class="normal"><a href="#__codelineno-30-12">12</a></span>
<span class="normal"><a href="#__codelineno-30-13">13</a></span>
<span class="normal"><a href="#__codelineno-30-14">14</a></span>
<span class="normal"><a href="#__codelineno-30-15">15</a></span>
<span class="normal"><a href="#__codelineno-30-16">16</a></span>
<span class="normal"><a href="#__codelineno-30-17">17</a></span>
<span class="normal"><a href="#__codelineno-30-18">18</a></span>
<span class="normal"><a href="#__codelineno-30-19">19</a></span>
<span class="normal"><a href="#__codelineno-30-20">20</a></span>
<span class="normal"><a href="#__codelineno-30-21">21</a></span>
<span class="normal"><a href="#__codelineno-30-22">22</a></span>
<span class="normal"><a href="#__codelineno-30-23">23</a></span>
<span class="normal"><a href="#__codelineno-30-24">24</a></span>
<span class="normal"><a href="#__codelineno-30-25">25</a></span>
<span class="normal"><a href="#__codelineno-30-26">26</a></span>
<span class="normal"><a href="#__codelineno-30-27">27</a></span>
<span class="normal"><a href="#__codelineno-30-28">28</a></span>
<span class="normal"><a href="#__codelineno-30-29">29</a></span>
<span class="normal"><a href="#__codelineno-30-30">30</a></span>
<span class="normal"><a href="#__codelineno-30-31">31</a></span>
<span class="normal"><a href="#__codelineno-30-32">32</a></span>
<span class="normal"><a href="#__codelineno-30-33">33</a></span>
<span class="normal"><a href="#__codelineno-30-34">34</a></span>
<span class="normal"><a href="#__codelineno-30-35">35</a></span>
<span class="normal"><a href="#__codelineno-30-36">36</a></span>
<span class="normal"><a href="#__codelineno-30-37">37</a></span>
<span class="normal"><a href="#__codelineno-30-38">38</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1"></a><span class="k">&lt;%@</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="n">contentType</span><span class="o">=</span><span class="s">&quot;text/html;charset=UTF-8&quot;</span><span class="w"> </span><span class="n">language</span><span class="o">=</span><span class="s">&quot;java&quot;</span><span class="w"> </span><span class="k">%&gt;</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2"></a><span class="nt">&lt;html&gt;</span>
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3"></a><span class="w">    </span><span class="nt">&lt;head&gt;</span>
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4"></a><span class="w">        </span><span class="nt">&lt;title&gt;</span>Title<span class="nt">&lt;/title&gt;</span>
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5"></a><span class="w">    </span><span class="nt">&lt;/head&gt;</span>
</span><span id="__span-30-6"><a id="__codelineno-30-6" name="__codelineno-30-6"></a><span class="w">    </span><span class="nt">&lt;body&gt;</span>
</span><span id="__span-30-7"><a id="__codelineno-30-7" name="__codelineno-30-7"></a><span class="k">&lt;%-</span><span class="o">-</span><span class="w">  </span><span class="mf">1.</span><span class="n">接收简单类型及字符串</span><span class="w"> </span><span class="n">$</span><span class="p">{</span><span class="n">key</span><span class="p">}</span><span class="w">  </span><span class="o">--</span><span class="k">%&gt;</span>
</span><span id="__span-30-8"><a id="__codelineno-30-8" name="__codelineno-30-8"></a><span class="w">    </span>${key1}<span class="nt">&lt;br/&gt;</span>
</span><span id="__span-30-9"><a id="__codelineno-30-9" name="__codelineno-30-9"></a><span class="w">    </span>${key2}<span class="nt">&lt;br/&gt;</span>
</span><span id="__span-30-10"><a id="__codelineno-30-10" name="__codelineno-30-10"></a>
</span><span id="__span-30-11"><a id="__codelineno-30-11" name="__codelineno-30-11"></a><span class="k">&lt;%-</span><span class="o">-</span><span class="w">  </span><span class="mf">2.</span><span class="n">接收对象数据</span><span class="w">  </span><span class="n">$</span><span class="p">{</span><span class="n">key</span><span class="p">}</span><span class="n">获取对象的toString方法输出</span><span class="err">，</span>
</span><span id="__span-30-12"><a id="__codelineno-30-12" name="__codelineno-30-12"></a><span class="w">      </span><span class="n">我们可以通过</span><span class="w"> </span><span class="n">$</span><span class="p">{</span><span class="n">key</span><span class="p">.</span><span class="na">attrName</span><span class="p">}</span><span class="n">获取对象属性值</span><span class="err">，</span><span class="n">通过反射调用类中属性的get方法获取属性值</span>
</span><span id="__span-30-13"><a id="__codelineno-30-13" name="__codelineno-30-13"></a><span class="w">       </span><span class="n">因此传递到JSP页面</span><span class="err">、</span><span class="n">使用EL表达式获取属性值的对象必须提供get方法</span><span class="w"> </span><span class="o">--</span><span class="k">%&gt;</span>
</span><span id="__span-30-14"><a id="__codelineno-30-14" name="__codelineno-30-14"></a><span class="w">    </span>${key3}<span class="nt">&lt;br/&gt;</span>
</span><span id="__span-30-15"><a id="__codelineno-30-15" name="__codelineno-30-15"></a><span class="w">    </span>${key3.bookId}<span class="nt">&lt;br/&gt;</span>
</span><span id="__span-30-16"><a id="__codelineno-30-16" name="__codelineno-30-16"></a><span class="w">    </span>${key3.bookName}<span class="nt">&lt;br/&gt;</span>
</span><span id="__span-30-17"><a id="__codelineno-30-17" name="__codelineno-30-17"></a><span class="w">    </span>${key3.bookAuthor}<span class="nt">&lt;br/&gt;</span>
</span><span id="__span-30-18"><a id="__codelineno-30-18" name="__codelineno-30-18"></a><span class="w">    </span>${key3.bookPrice}<span class="nt">&lt;br/&gt;</span>
</span><span id="__span-30-19"><a id="__codelineno-30-19" name="__codelineno-30-19"></a>
</span><span id="__span-30-20"><a id="__codelineno-30-20" name="__codelineno-30-20"></a><span class="k">&lt;%-</span><span class="o">-</span><span class="w"> </span><span class="mf">3.</span><span class="n">接收数组数据</span><span class="w">  </span><span class="n">$</span><span class="p">{</span><span class="n">key</span><span class="o">[</span><span class="n">index</span><span class="o">]</span><span class="p">}</span><span class="w"> </span><span class="o">--</span><span class="k">%&gt;</span>
</span><span id="__span-30-21"><a id="__codelineno-30-21" name="__codelineno-30-21"></a><span class="w">    </span>${key4[0]}-${key4[1]}-${key4[2]}<span class="nt">&lt;br/&gt;</span>
</span><span id="__span-30-22"><a id="__codelineno-30-22" name="__codelineno-30-22"></a>
</span><span id="__span-30-23"><a id="__codelineno-30-23" name="__codelineno-30-23"></a><span class="k">&lt;%-</span><span class="o">-</span><span class="w"> </span><span class="mf">4.</span><span class="n">接收集合中的数据</span><span class="err">：</span><span class="n">$</span><span class="p">{</span><span class="n">key</span><span class="o">[</span><span class="n">index</span><span class="o">]</span><span class="p">}</span>
</span><span id="__span-30-24"><a id="__codelineno-30-24" name="__codelineno-30-24"></a><span class="w">     </span><span class="n">如何集合中的元素是对象</span><span class="w"> </span><span class="err">，</span><span class="n">可以进一步使用</span><span class="w"> </span><span class="n">$</span><span class="p">{</span><span class="n">key</span><span class="o">[</span><span class="n">index</span><span class="o">]</span><span class="p">.</span><span class="na">attrName</span><span class="p">}</span><span class="w"> </span><span class="n">获取集合中对象的属性</span><span class="o">--</span><span class="k">%&gt;</span>
</span><span id="__span-30-25"><a id="__codelineno-30-25" name="__codelineno-30-25"></a><span class="w">    </span>${key5[0].bookName}-<span class="w"> </span>${key5[0].bookAuthor}<span class="nt">&lt;br/&gt;</span>
</span><span id="__span-30-26"><a id="__codelineno-30-26" name="__codelineno-30-26"></a><span class="w">    </span>${key5[1].bookName}-<span class="w"> </span>${key5[1].bookAuthor}<span class="nt">&lt;br/&gt;</span>
</span><span id="__span-30-27"><a id="__codelineno-30-27" name="__codelineno-30-27"></a><span class="w">    </span>${key5[2].bookName}-<span class="w"> </span>${key5[2].bookAuthor}<span class="nt">&lt;br/&gt;</span>
</span><span id="__span-30-28"><a id="__codelineno-30-28" name="__codelineno-30-28"></a>
</span><span id="__span-30-29"><a id="__codelineno-30-29" name="__codelineno-30-29"></a><span class="k">&lt;%-</span><span class="o">-</span><span class="w"> </span><span class="mf">5.</span><span class="n">接收Map中的数据</span><span class="p">:</span><span class="w"> </span><span class="n">使用$</span><span class="p">{</span><span class="n">key</span><span class="p">}</span><span class="n">获取整个map</span>
</span><span id="__span-30-30"><a id="__codelineno-30-30" name="__codelineno-30-30"></a><span class="w">                    </span><span class="n">使用$</span><span class="p">{</span><span class="n">key</span><span class="p">.</span><span class="na">mapKey</span><span class="p">}</span><span class="w"> </span><span class="n">根据可以获取元素</span>
</span><span id="__span-30-31"><a id="__codelineno-30-31" name="__codelineno-30-31"></a><span class="w">                    </span><span class="n">如果map中的key是以数字开头</span><span class="err">，</span><span class="n">可以使用$</span><span class="p">{</span><span class="n">key</span><span class="o">[</span><span class="err">&#39;</span><span class="n">mapKey</span><span class="err">&#39;</span><span class="o">]</span><span class="p">}</span>
</span><span id="__span-30-32"><a id="__codelineno-30-32" name="__codelineno-30-32"></a><span class="w">     </span><span class="n">如果map中的value是对象</span><span class="err">，</span><span class="n">我们还可以进一步使用</span><span class="w"> </span><span class="n">$</span><span class="p">{</span><span class="n">key</span><span class="p">.</span><span class="na">mapKey</span><span class="p">.</span><span class="na">attrName</span><span class="p">}</span><span class="n">获取对象属性值</span><span class="o">--</span><span class="k">%&gt;</span>
</span><span id="__span-30-33"><a id="__codelineno-30-33" name="__codelineno-30-33"></a><span class="w">    </span>${key6[&#39;a1001&#39;]}<span class="nt">&lt;br/&gt;</span>
</span><span id="__span-30-34"><a id="__codelineno-30-34" name="__codelineno-30-34"></a><span class="w">    </span>${key6.a1001}<span class="nt">&lt;br/&gt;</span>
</span><span id="__span-30-35"><a id="__codelineno-30-35" name="__codelineno-30-35"></a><span class="w">    </span>${key6.a1001.bookName}<span class="nt">&lt;br/&gt;</span>
</span><span id="__span-30-36"><a id="__codelineno-30-36" name="__codelineno-30-36"></a>
</span><span id="__span-30-37"><a id="__codelineno-30-37" name="__codelineno-30-37"></a><span class="w">    </span><span class="nt">&lt;/body&gt;</span>
</span><span id="__span-30-38"><a id="__codelineno-30-38" name="__codelineno-30-38"></a><span class="nt">&lt;/html&gt;</span>
</span></code></pre></div></td></tr></table></div>
<h3 id="43-el">4.3 EL访问域对象<a class="headerlink" href="#43-el" title="Permanent link">&para;</a></h3>
<blockquote>
<p>如果从Servlet分别使用request、session、application同时向JSP页面传递数据，并且key都相同；那么在JSP页面直接使用${key}获取的是什么数据呢？ 如何能够获取我们想要访问的域对象中的数据呢？</p>
</blockquote>
<p><img alt="image-20211116003956162" src="imgs/image-20211116003956162.png" /></p>
<h4 id="431-key">4.3.1 ${key}获取哪个域对象的数据呢？<a class="headerlink" href="#431-key" title="Permanent link">&para;</a></h4>
<ul>
<li>四个域对象的访问从小到大依次是：pageContext--&gt;request--&gt;session--&gt;application</li>
<li>如果没有指定域对象，${key}默认获取最小域对象中的数据</li>
</ul>
<h4 id="432-el">4.3.2 如何使用EL获取指定域对象数据？<a class="headerlink" href="#432-el" title="Permanent link">&para;</a></h4>
<ul>
<li>在EL表达式中，分别为四个域对象各自取了一个名字<ul>
<li>pageContext对象 ---&gt; pageScope</li>
<li>request对象---&gt;requestScope</li>
<li>session对象---&gt;sessionScope</li>
<li>application对象---&gt;applicationScope</li>
</ul>
</li>
</ul>
<ul>
<li>
<p>在JSP中如果多个域对象都有相同的key，可以通过<code>${***Scope.key}</code>来获取指定域对象中数据，如果获取不到则返回""，显示到页面为空白</p>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-31-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1"></a>${sessionScope.key}
</span></code></pre></div></td></tr></table></div>
</li>
</ul>
<h3 id="44-el">4.4 EL的隐式对象<a class="headerlink" href="#44-el" title="Permanent link">&para;</a></h3>
<blockquote>
<p>EL语法中提供的隐藏对象——隐式对象</p>
<p>除了四个域对象pageScope、requestScope、sessionScope、applicationScope之外，EL中还提供了另外七个隐式对象，分别用于获取不同的数据</p>
</blockquote>
<table>
<thead>
<tr>
<th>隐式对象</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>param</td>
<td>获取Rquest对象的参数，返回String，<br/><code>${param.key}</code>等价于<code>request.getParameter("key")</code></td>
</tr>
<tr>
<td>paramValues</td>
<td>获取Rquest对象传递的所有的参数值，返回字符串集合<br> <code>${paramValues}</code>等价于<code>request.getParameterValues()</code></td>
</tr>
<tr>
<td>header</td>
<td>获取HTTP请求头  <code>${header.contentPosition}</code></td>
</tr>
<tr>
<td>headerValues</td>
<td>获取HTTP请求头中所有的值</td>
</tr>
<tr>
<td>initParam</td>
<td>获取上下文初始化参数</td>
</tr>
<tr>
<td>pageContext</td>
<td>获取当前页面的pageContext对象：  <br><code>${pageContext.request.contextPath}</code>当前web项目在服务器的访问路径</td>
</tr>
<tr>
<td>cookie</td>
<td>获取cookie中的值，${cookie.username}</td>
</tr>
</tbody>
</table>
<h3 id="45-el">4.5 EL的运算符<a class="headerlink" href="#45-el" title="Permanent link">&para;</a></h3>
<p>EL表达式不能能够从域对象获取数据，同时可以对取出的数据进行算术运算、关系比较、逻辑运算等运算</p>
<h4 id="451">4.5.1 算术运算<a class="headerlink" href="#451" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述/示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td><code>${key1+key2}</code>  表示根据key1获取的值然后加上key2获取的值，显示到网页</td>
</tr>
<tr>
<td>-</td>
<td>减法</td>
</tr>
<tr>
<td>*</td>
<td>乘法</td>
</tr>
<tr>
<td>/  or  div</td>
<td>除法，   <code>${key/4}</code> 等价于 <code>${key div 4}</code></td>
</tr>
<tr>
<td>% or mod</td>
<td>取模</td>
</tr>
</tbody>
</table>
<h4 id="452">4.5.2 关系比较<a class="headerlink" href="#452" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述/示例</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>==</code> or <code>eq</code></td>
<td><code>${key == v}</code>  表示比较根据key获取的值是否等于v，返回结果为true/false<br>等价于 <code>${key eq v}</code></td>
</tr>
<tr>
<td><code>!=</code> or <code>ne</code></td>
<td>不等于</td>
</tr>
<tr>
<td><code>&gt;</code> or  <code>gt</code></td>
<td>大于</td>
</tr>
<tr>
<td><code>&lt;</code> or <code>lt</code></td>
<td>小于</td>
</tr>
<tr>
<td><code>&gt;=</code> or <code>ge</code></td>
<td>大于等于</td>
</tr>
<tr>
<td><code>&lt;=</code> or <code>le</code></td>
<td>小于等于</td>
</tr>
</tbody>
</table>
<h4 id="453">4.5.3 逻辑运算<a class="headerlink" href="#453" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述/示例</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&amp;&amp;</code> or <code>and</code></td>
<td>逻辑与,用于连接两个条件</td>
</tr>
<tr>
<td><code>||</code>or <code>or</code></td>
<td>逻辑或</td>
</tr>
<tr>
<td><code>!</code> or <code>not</code></td>
<td>逻辑非</td>
</tr>
</tbody>
</table>
<h4 id="454">4.5.4 判空<a class="headerlink" href="#454" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述/示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>empty</td>
<td><code>${empty key}</code> 如果key对应取出的值为空，则返回true</td>
</tr>
</tbody>
</table>
<h2 id="jstl">五、JSTL<a class="headerlink" href="#jstl" title="Permanent link">&para;</a></h2>
<blockquote>
<p>如果EL表达式在JSP页面中获取的集合中的元素个数不确定，我们该如何将集合中的数据全部显示呢？</p>
</blockquote>
<h3 id="51-jstl">5.1 JSTL简介<a class="headerlink" href="#51-jstl" title="Permanent link">&para;</a></h3>
<blockquote>
<p>JSTL (JSP Standard Tag Library) JSP标准标签库，用于扩展JSP中的标签，能够为JSP页面提供流程控制、类型转换等功能的标签。</p>
<p>作用：在JSP中通常是JSTL+EL的组合来进行数据的提取及渲染。</p>
</blockquote>
<p>JSTL标签库提供了多类标签：</p>
<ul>
<li>c ，核心标签库，提供流程控制的标签</li>
<li>fmt，转换标签库，提供了日期、数值类型转换的标签</li>
<li>sql</li>
<li>fn</li>
<li>x</li>
</ul>
<h3 id="52-jstl">5.2 JSTL的引入步骤<a class="headerlink" href="#52-jstl" title="Permanent link">&para;</a></h3>
<blockquote>
<p>需要在JSP中引用JSTL标签库之后，才可以使用JSTL提供的标签</p>
</blockquote>
<ol>
<li>
<p>下载JSTL标签库的依赖jar  https://mvnrepository.com/</p>
<ul>
<li><img alt="image-20211116110631598" src="imgs/image-20211116110631598.png" /></li>
<li><img alt="image-20211116110657149" src="imgs/image-20211116110657149.png" /></li>
</ul>
</li>
<li>
<p>将jar文件引入到当前web项目</p>
</li>
<li>
<p>在需要使用JSTL标签的JSP文件，通过<code>&lt;%@taglib%&gt;</code>引入JSTL标签库（JSTL包含多种标签，每种标签需要单独引入）</p>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-32-1">1</a></span>
<span class="normal"><a href="#__codelineno-32-2">2</a></span>
<span class="normal"><a href="#__codelineno-32-3">3</a></span>
<span class="normal"><a href="#__codelineno-32-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1"></a><span class="cm">&lt;!--引入JSTL的核心标签库--&gt;</span>
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2"></a><span class="k">&lt;%@</span><span class="w"> </span><span class="n">taglib</span><span class="w"> </span><span class="n">prefix</span><span class="o">=</span><span class="s">&quot;c&quot;</span><span class="w"> </span><span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://java.sun.com/jsp/jstl/core&quot;</span><span class="w"> </span><span class="k">%&gt;</span>
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3"></a><span class="cm">&lt;!--引入JSTL的转换标签库--&gt;</span>
</span><span id="__span-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4"></a><span class="k">&lt;%@</span><span class="w"> </span><span class="n">taglib</span><span class="w"> </span><span class="n">prefix</span><span class="o">=</span><span class="s">&quot;fmt&quot;</span><span class="w"> </span><span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://java.sun.com/jsp/jstl/fmt&quot;</span><span class="w"> </span><span class="k">%&gt;</span>
</span></code></pre></div></td></tr></table></div>
</li>
</ol>
<h3 id="53-jstl">5.3 JSTL核心标签库<a class="headerlink" href="#53-jstl" title="Permanent link">&para;</a></h3>
<blockquote>
<p>c标签，主要用于完成JSP页面中逻辑控制/流程控制</p>
<ul>
<li>分支</li>
<li>循环</li>
</ul>
</blockquote>
<h4 id="531-cif">5.3.1 c:if<a class="headerlink" href="#531-cif" title="Permanent link">&para;</a></h4>
<blockquote>
<p><code>&lt;c:if test="EL表达式条件"&gt;</code></p>
<p>​      html</p>
<p><code>&lt;/c:if&gt;</code></p>
</blockquote>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-33-1">1</a></span>
<span class="normal"><a href="#__codelineno-33-2">2</a></span>
<span class="normal"><a href="#__codelineno-33-3">3</a></span>
<span class="normal"><a href="#__codelineno-33-4">4</a></span>
<span class="normal"><a href="#__codelineno-33-5">5</a></span>
<span class="normal"><a href="#__codelineno-33-6">6</a></span>
<span class="normal"><a href="#__codelineno-33-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1"></a><span class="k">&lt;%-</span><span class="o">-</span><span class="w">  </span><span class="n">如果test属性的el表达式返回的为true</span><span class="err">，</span><span class="n">则显示c</span><span class="p">:</span><span class="n">if标签包含的HTML</span><span class="w">  </span><span class="o">--</span><span class="k">%&gt;</span>
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2"></a><span class="nt">&lt;c:if</span><span class="w"> </span><span class="na">test=</span><span class="s">&quot;${score &gt;= 60}&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3"></a><span class="w">    </span><span class="nt">&lt;label</span><span class="w"> </span><span class="na">style=</span><span class="s">&quot;color: green&quot;</span><span class="nt">&gt;</span>通过<span class="nt">&lt;/label&gt;</span>
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4"></a><span class="nt">&lt;/c:if&gt;</span>
</span><span id="__span-33-5"><a id="__codelineno-33-5" name="__codelineno-33-5"></a><span class="nt">&lt;c:if</span><span class="w"> </span><span class="na">test=</span><span class="s">&quot;${score &lt; 60}&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-33-6"><a id="__codelineno-33-6" name="__codelineno-33-6"></a><span class="w">    </span><span class="nt">&lt;label</span><span class="w"> </span><span class="na">style=</span><span class="s">&quot;color: red&quot;</span><span class="nt">&gt;</span>不通过<span class="nt">&lt;/label&gt;</span>
</span><span id="__span-33-7"><a id="__codelineno-33-7" name="__codelineno-33-7"></a><span class="nt">&lt;/c:if&gt;</span>
</span></code></pre></div></td></tr></table></div>
<h4 id="532-cchoose">5.3.2 c:choose<a class="headerlink" href="#532-cchoose" title="Permanent link">&para;</a></h4>
<blockquote>
<p>c:choose为多分支语句，可以包含多个c:when和一个c:otherwise ,
寻找并执行第一个条件成立的c:when，如果所有c:when的条件都不成立则执行c:otherwise</p>
</blockquote>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-34-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-34-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-34-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-34-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-34-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-34-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-34-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-34-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-34-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-34-10">10</a></span>
<span class="normal"><a href="#__codelineno-34-11">11</a></span>
<span class="normal"><a href="#__codelineno-34-12">12</a></span>
<span class="normal"><a href="#__codelineno-34-13">13</a></span>
<span class="normal"><a href="#__codelineno-34-14">14</a></span>
<span class="normal"><a href="#__codelineno-34-15">15</a></span>
<span class="normal"><a href="#__codelineno-34-16">16</a></span>
<span class="normal"><a href="#__codelineno-34-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1"></a><span class="nt">&lt;c:choose&gt;</span>
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2"></a><span class="w">    </span><span class="nt">&lt;c:when</span><span class="w"> </span><span class="na">test=</span><span class="s">&quot;${score&gt;=90}&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-34-3"><a id="__codelineno-34-3" name="__codelineno-34-3"></a><span class="w">        </span><span class="nt">&lt;label</span><span class="w"> </span><span class="na">style=</span><span class="s">&quot;color: green&quot;</span><span class="nt">&gt;</span>优秀<span class="nt">&lt;/label&gt;</span>
</span><span id="__span-34-4"><a id="__codelineno-34-4" name="__codelineno-34-4"></a><span class="w">    </span><span class="nt">&lt;/c:when&gt;</span>
</span><span id="__span-34-5"><a id="__codelineno-34-5" name="__codelineno-34-5"></a><span class="w">    </span><span class="nt">&lt;c:when</span><span class="w"> </span><span class="na">test=</span><span class="s">&quot;${score&gt;=80}&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-34-6"><a id="__codelineno-34-6" name="__codelineno-34-6"></a><span class="w">        </span><span class="nt">&lt;label</span><span class="w"> </span><span class="na">style=</span><span class="s">&quot;color: green&quot;</span><span class="nt">&gt;</span>良好<span class="nt">&lt;/label&gt;</span>
</span><span id="__span-34-7"><a id="__codelineno-34-7" name="__codelineno-34-7"></a><span class="w">    </span><span class="nt">&lt;/c:when&gt;</span>
</span><span id="__span-34-8"><a id="__codelineno-34-8" name="__codelineno-34-8"></a><span class="w">    </span><span class="nt">&lt;c:when</span><span class="w"> </span><span class="na">test=</span><span class="s">&quot;${score&gt;=70}&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-34-9"><a id="__codelineno-34-9" name="__codelineno-34-9"></a><span class="w">        </span><span class="nt">&lt;label</span><span class="w"> </span><span class="na">style=</span><span class="s">&quot;color: green&quot;</span><span class="nt">&gt;</span>中等<span class="nt">&lt;/label&gt;</span>
</span><span id="__span-34-10"><a id="__codelineno-34-10" name="__codelineno-34-10"></a><span class="w">    </span><span class="nt">&lt;/c:when&gt;</span>
</span><span id="__span-34-11"><a id="__codelineno-34-11" name="__codelineno-34-11"></a><span class="w">    </span><span class="nt">&lt;c:when</span><span class="w"> </span><span class="na">test=</span><span class="s">&quot;${score&gt;=60}&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-34-12"><a id="__codelineno-34-12" name="__codelineno-34-12"></a><span class="w">        </span><span class="nt">&lt;label</span><span class="w"> </span><span class="na">style=</span><span class="s">&quot;color: green&quot;</span><span class="nt">&gt;</span>及格<span class="nt">&lt;/label&gt;</span>
</span><span id="__span-34-13"><a id="__codelineno-34-13" name="__codelineno-34-13"></a><span class="w">    </span><span class="nt">&lt;/c:when&gt;</span>
</span><span id="__span-34-14"><a id="__codelineno-34-14" name="__codelineno-34-14"></a><span class="w">    </span><span class="nt">&lt;c:otherwise&gt;</span>
</span><span id="__span-34-15"><a id="__codelineno-34-15" name="__codelineno-34-15"></a><span class="w">        </span><span class="nt">&lt;label</span><span class="w"> </span><span class="na">style=</span><span class="s">&quot;color: red&quot;</span><span class="nt">&gt;</span>不及格<span class="nt">&lt;/label&gt;</span>
</span><span id="__span-34-16"><a id="__codelineno-34-16" name="__codelineno-34-16"></a><span class="w">    </span><span class="nt">&lt;/c:otherwise&gt;</span>
</span><span id="__span-34-17"><a id="__codelineno-34-17" name="__codelineno-34-17"></a><span class="nt">&lt;/c:choose&gt;</span>
</span></code></pre></div></td></tr></table></div>
<h4 id="533-cforeach">5.3.3 c:forEach<a class="headerlink" href="#533-cforeach" title="Permanent link">&para;</a></h4>
<blockquote>
<p>迭代标签、循环标签</p>
</blockquote>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-35-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-35-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-35-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-35-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-35-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-35-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-35-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-35-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-35-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-35-10">10</a></span>
<span class="normal"><a href="#__codelineno-35-11">11</a></span>
<span class="normal"><a href="#__codelineno-35-12">12</a></span>
<span class="normal"><a href="#__codelineno-35-13">13</a></span>
<span class="normal"><a href="#__codelineno-35-14">14</a></span>
<span class="normal"><a href="#__codelineno-35-15">15</a></span>
<span class="normal"><a href="#__codelineno-35-16">16</a></span>
<span class="normal"><a href="#__codelineno-35-17">17</a></span>
<span class="normal"><a href="#__codelineno-35-18">18</a></span>
<span class="normal"><a href="#__codelineno-35-19">19</a></span>
<span class="normal"><a href="#__codelineno-35-20">20</a></span>
<span class="normal"><a href="#__codelineno-35-21">21</a></span>
<span class="normal"><a href="#__codelineno-35-22">22</a></span>
<span class="normal"><a href="#__codelineno-35-23">23</a></span>
<span class="normal"><a href="#__codelineno-35-24">24</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1"></a><span class="w"> </span><span class="k">&lt;%-</span><span class="o">-</span><span class="w">  </span><span class="n">遍历传递过来的集合中的图书信息</span><span class="err">，</span><span class="n">显示在一个表格中</span><span class="w">  </span><span class="o">--</span><span class="k">%&gt;</span>
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2"></a><span class="nt">&lt;table</span><span class="w"> </span><span class="na">align=</span><span class="s">&quot;center&quot;</span><span class="w"> </span><span class="na">border=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="na">cellspacing=</span><span class="s">&quot;0&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3"></a><span class="w">    </span><span class="nt">&lt;tr&gt;</span>
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4"></a><span class="w">        </span><span class="nt">&lt;th&gt;</span>图书编号<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5"></a><span class="w">        </span><span class="nt">&lt;th&gt;</span>图书名称<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-35-6"><a id="__codelineno-35-6" name="__codelineno-35-6"></a><span class="w">        </span><span class="nt">&lt;th&gt;</span>图书作者<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-35-7"><a id="__codelineno-35-7" name="__codelineno-35-7"></a><span class="w">        </span><span class="nt">&lt;th&gt;</span>图书价格<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-35-8"><a id="__codelineno-35-8" name="__codelineno-35-8"></a><span class="w">    </span><span class="nt">&lt;/tr&gt;</span>
</span><span id="__span-35-9"><a id="__codelineno-35-9" name="__codelineno-35-9"></a><span class="w">    </span><span class="k">&lt;%-</span><span class="o">-</span><span class="w">    </span><span class="n">获取传递过来的集合</span><span class="err">，</span><span class="n">集合中有几个图书信息</span><span class="err">，</span><span class="n">table就显示几行</span>
</span><span id="__span-35-10"><a id="__codelineno-35-10" name="__codelineno-35-10"></a><span class="w">    </span><span class="n">items</span><span class="w"> </span><span class="n">指定要遍历的集合</span>
</span><span id="__span-35-11"><a id="__codelineno-35-11" name="__codelineno-35-11"></a><span class="w">    </span><span class="kd">var</span><span class="w">  </span><span class="n">指定从集合中每次取出的数据的变量</span>
</span><span id="__span-35-12"><a id="__codelineno-35-12" name="__codelineno-35-12"></a><span class="w">    </span><span class="n">begin</span><span class="w"> </span><span class="n">指定从集合中的哪个元素开始显示</span><span class="err">，</span><span class="mi">0</span><span class="n">表示第一个</span>
</span><span id="__span-35-13"><a id="__codelineno-35-13" name="__codelineno-35-13"></a><span class="w">    </span><span class="n">end</span><span class="w"> </span><span class="n">指定取到哪个索引对应的集合元素</span>
</span><span id="__span-35-14"><a id="__codelineno-35-14" name="__codelineno-35-14"></a><span class="w">    </span><span class="n">step</span><span class="w"> </span><span class="n">指定元素的间隔个数</span><span class="err">（</span><span class="n">默认为1</span><span class="err">，</span><span class="n">依次取出所有元素</span><span class="err">）</span>
</span><span id="__span-35-15"><a id="__codelineno-35-15" name="__codelineno-35-15"></a><span class="w">    </span><span class="o">--</span><span class="k">%&gt;</span>
</span><span id="__span-35-16"><a id="__codelineno-35-16" name="__codelineno-35-16"></a><span class="w">    </span><span class="nt">&lt;c:forEach</span><span class="w"> </span><span class="na">items=</span><span class="s">&quot;${bookList}&quot;</span><span class="w"> </span><span class="na">var=</span><span class="s">&quot;book&quot;</span><span class="w"> </span><span class="na">begin=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="na">end=</span><span class="s">&quot;4&quot;</span><span class="w"> </span><span class="na">step=</span><span class="s">&quot;2&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-35-17"><a id="__codelineno-35-17" name="__codelineno-35-17"></a><span class="w">        </span><span class="nt">&lt;tr&gt;</span>
</span><span id="__span-35-18"><a id="__codelineno-35-18" name="__codelineno-35-18"></a><span class="w">            </span><span class="nt">&lt;td&gt;</span>${book.bookId}<span class="nt">&lt;/td&gt;</span>
</span><span id="__span-35-19"><a id="__codelineno-35-19" name="__codelineno-35-19"></a><span class="w">            </span><span class="nt">&lt;td&gt;</span>${book.bookName}<span class="nt">&lt;/td&gt;</span>
</span><span id="__span-35-20"><a id="__codelineno-35-20" name="__codelineno-35-20"></a><span class="w">            </span><span class="nt">&lt;td&gt;</span>${book.bookAuthor}<span class="nt">&lt;/td&gt;</span>
</span><span id="__span-35-21"><a id="__codelineno-35-21" name="__codelineno-35-21"></a><span class="w">            </span><span class="nt">&lt;td&gt;</span>${book.bookPrice}<span class="nt">&lt;/td&gt;</span>
</span><span id="__span-35-22"><a id="__codelineno-35-22" name="__codelineno-35-22"></a><span class="w">        </span><span class="nt">&lt;/tr&gt;</span>
</span><span id="__span-35-23"><a id="__codelineno-35-23" name="__codelineno-35-23"></a><span class="w">    </span><span class="nt">&lt;/c:forEach&gt;</span>
</span><span id="__span-35-24"><a id="__codelineno-35-24" name="__codelineno-35-24"></a><span class="nt">&lt;/table&gt;</span>
</span></code></pre></div></td></tr></table></div>
<h3 id="54-jstl">5.4 JSTL转换标签<a class="headerlink" href="#54-jstl" title="Permanent link">&para;</a></h3>
<blockquote>
<p>fmt标签，提供了用于日期、数字等类型数据的格式转换的标签</p>
</blockquote>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-36-1">1</a></span>
<span class="normal"><a href="#__codelineno-36-2">2</a></span>
<span class="normal"><a href="#__codelineno-36-3">3</a></span>
<span class="normal"><a href="#__codelineno-36-4">4</a></span>
<span class="normal"><a href="#__codelineno-36-5">5</a></span>
<span class="normal"><a href="#__codelineno-36-6">6</a></span>
<span class="normal"><a href="#__codelineno-36-7">7</a></span>
<span class="normal"><a href="#__codelineno-36-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1"></a><span class="k">&lt;%-</span><span class="o">-</span><span class="w">  </span><span class="n">格式化数字输出</span><span class="w"> </span><span class="o">--</span><span class="k">%&gt;</span>
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2"></a><span class="nt">&lt;fmt:formatNumber</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;${num}&quot;</span><span class="w"> </span><span class="na">pattern=</span><span class="s">&quot;#.0000&quot;</span><span class="nt">&gt;&lt;/fmt:formatNumber&gt;&lt;br/&gt;</span>
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3"></a><span class="nt">&lt;fmt:formatNumber</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;${num}&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;currency&quot;</span><span class="nt">&gt;&lt;/fmt:formatNumber&gt;&lt;br/&gt;</span>
</span><span id="__span-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4"></a>
</span><span id="__span-36-5"><a id="__codelineno-36-5" name="__codelineno-36-5"></a><span class="k">&lt;%-</span><span class="o">-</span><span class="w"> </span><span class="n">格式化日期输出</span><span class="w"> </span><span class="o">--</span><span class="k">%&gt;</span>
</span><span id="__span-36-6"><a id="__codelineno-36-6" name="__codelineno-36-6"></a><span class="nt">&lt;fmt:formatDate</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;${date}&quot;</span><span class="w"> </span><span class="na">pattern=</span><span class="s">&quot;yyyy-MM-dd&quot;</span><span class="nt">&gt;&lt;/fmt:formatDate&gt;&lt;br/&gt;</span>
</span><span id="__span-36-7"><a id="__codelineno-36-7" name="__codelineno-36-7"></a><span class="nt">&lt;fmt:formatDate</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;${date}&quot;</span><span class="w"> </span><span class="na">pattern=</span><span class="s">&quot;hh:mm:ss&quot;</span><span class="nt">&gt;&lt;/fmt:formatDate&gt;&lt;br/&gt;</span>
</span><span id="__span-36-8"><a id="__codelineno-36-8" name="__codelineno-36-8"></a><span class="nt">&lt;fmt:formatDate</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;${date}&quot;</span><span class="w"> </span><span class="na">pattern=</span><span class="s">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="nt">&gt;&lt;/fmt:formatDate&gt;&lt;br/&gt;</span>
</span></code></pre></div></td></tr></table></div>
<h2 id="servletjsp">六、Servlet和JSP的综合案例<a class="headerlink" href="#servletjsp" title="Permanent link">&para;</a></h2>
<blockquote>
<p>图书信息管理系统：管理员登录，对图书信息进行管理</p>
<ul>
<li>管理员登录</li>
<li>添加图书信息</li>
<li>图书信息列表</li>
<li>修改图书信息</li>
<li>删除图书信息</li>
</ul>
</blockquote>
<h3 id="61">6.1 书城后台管理系统业务流程<a class="headerlink" href="#61" title="Permanent link">&para;</a></h3>
<p><img alt="image-20211116155037789" src="imgs/image-20211116155037789.png" /></p>
<h3 id="62-mvc">6.2 项目的MVC分层架构<a class="headerlink" href="#62-mvc" title="Permanent link">&para;</a></h3>
<p>将项目中实现不同业务的代码进行分离:</p>
<ul>
<li>视图View — jsp负责进行客户端的页面呈现</li>
</ul>
<ul>
<li>控制器Controller — servlet负责接收用户请求，调用service进行处理，根据处理结果进行流程跳转</li>
<li>模型Model — service对数据的业务处理、DAO对数据的持久化操作</li>
</ul>
<h3 id="63">6.3 数据库设计<a class="headerlink" href="#63" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>根据项目业务功能抽象数据实体</p>
<ul>
<li>管理员</li>
<li>图书</li>
</ul>
</li>
<li>
<p>提取实体的数据项</p>
<ul>
<li>管理员（ID，登录名，登录密码，真实姓名，性别，电话，备注）</li>
<li>图书（编号，名称，作者，价格，封面图片，描述，库存，分类...）</li>
</ul>
</li>
<li>
<p>使用三范式约束的实体数据项（???）</p>
</li>
<li>
<p>E-R图</p>
</li>
<li>
<p>数据库建模</p>
</li>
<li>
<p>建库建表</p>
<div class="language-sql highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">SQL</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-37-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-37-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-37-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-37-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-37-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-37-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-37-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-37-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-37-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-37-10">10</a></span>
<span class="normal"><a href="#__codelineno-37-11">11</a></span>
<span class="normal"><a href="#__codelineno-37-12">12</a></span>
<span class="normal"><a href="#__codelineno-37-13">13</a></span>
<span class="normal"><a href="#__codelineno-37-14">14</a></span>
<span class="normal"><a href="#__codelineno-37-15">15</a></span>
<span class="normal"><a href="#__codelineno-37-16">16</a></span>
<span class="normal"><a href="#__codelineno-37-17">17</a></span>
<span class="normal"><a href="#__codelineno-37-18">18</a></span>
<span class="normal"><a href="#__codelineno-37-19">19</a></span>
<span class="normal"><a href="#__codelineno-37-20">20</a></span>
<span class="normal"><a href="#__codelineno-37-21">21</a></span>
<span class="normal"><a href="#__codelineno-37-22">22</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1"></a><span class="k">create</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="n">db_bookmall</span><span class="p">;</span>
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2"></a>
</span><span id="__span-37-3"><a id="__codelineno-37-3" name="__codelineno-37-3"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">users</span><span class="p">(</span>
</span><span id="__span-37-4"><a id="__codelineno-37-4" name="__codelineno-37-4"></a><span class="w">    </span><span class="n">user_id</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="n">auto_increment</span><span class="p">,</span>
</span><span id="__span-37-5"><a id="__codelineno-37-5" name="__codelineno-37-5"></a><span class="w">    </span><span class="n">user_name</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">unique</span><span class="p">,</span>
</span><span id="__span-37-6"><a id="__codelineno-37-6" name="__codelineno-37-6"></a><span class="w">    </span><span class="n">user_pwd</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span>
</span><span id="__span-37-7"><a id="__codelineno-37-7" name="__codelineno-37-7"></a><span class="w">    </span><span class="n">real_name</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span>
</span><span id="__span-37-8"><a id="__codelineno-37-8" name="__codelineno-37-8"></a><span class="w">    </span><span class="n">user_gender</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span>
</span><span id="__span-37-9"><a id="__codelineno-37-9" name="__codelineno-37-9"></a><span class="w">    </span><span class="n">user_tel</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">unique</span><span class="p">,</span>
</span><span id="__span-37-10"><a id="__codelineno-37-10" name="__codelineno-37-10"></a><span class="w">    </span><span class="n">user_desc</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
</span><span id="__span-37-11"><a id="__codelineno-37-11" name="__codelineno-37-11"></a><span class="p">);</span>
</span><span id="__span-37-12"><a id="__codelineno-37-12" name="__codelineno-37-12"></a>
</span><span id="__span-37-13"><a id="__codelineno-37-13" name="__codelineno-37-13"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">books</span><span class="p">(</span>
</span><span id="__span-37-14"><a id="__codelineno-37-14" name="__codelineno-37-14"></a><span class="w">     </span><span class="n">book_id</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="p">,</span>
</span><span id="__span-37-15"><a id="__codelineno-37-15" name="__codelineno-37-15"></a><span class="w">  </span><span class="n">book_name</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span>
</span><span id="__span-37-16"><a id="__codelineno-37-16" name="__codelineno-37-16"></a><span class="w">  </span><span class="n">book_author</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span>
</span><span id="__span-37-17"><a id="__codelineno-37-17" name="__codelineno-37-17"></a><span class="w">  </span><span class="n">book_price</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
</span><span id="__span-37-18"><a id="__codelineno-37-18" name="__codelineno-37-18"></a><span class="w">  </span><span class="n">book_img_path</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span>
</span><span id="__span-37-19"><a id="__codelineno-37-19" name="__codelineno-37-19"></a><span class="w">  </span><span class="n">book_desc</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">200</span><span class="p">),</span>
</span><span id="__span-37-20"><a id="__codelineno-37-20" name="__codelineno-37-20"></a><span class="w">     </span><span class="n">book_stcok</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span>
</span><span id="__span-37-21"><a id="__codelineno-37-21" name="__codelineno-37-21"></a><span class="w">  </span><span class="n">book_type</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span>
</span><span id="__span-37-22"><a id="__codelineno-37-22" name="__codelineno-37-22"></a><span class="p">);</span>
</span></code></pre></div></td></tr></table></div>
</li>
</ol>
<h3 id="64-web">6.4 web项目环境搭建<a class="headerlink" href="#64-web" title="Permanent link">&para;</a></h3>
<ol>
<li>创建web项目</li>
<li>搭建JDBC环境<ul>
<li>驱动</li>
<li>连接池</li>
<li>DBUtils</li>
</ul>
</li>
</ol>
<h3 id="65">6.5 数据库访问实现<a class="headerlink" href="#65" title="Permanent link">&para;</a></h3>
<h4 id="651">6.5.1 管理员登录的数据库操作<a class="headerlink" href="#651" title="Permanent link">&para;</a></h4>
<blockquote>
<ul>
<li>根据登录名查询用户信息 （根据用户名查询用户，将查询出来的用户的密码和输入的密码进行对别）</li>
</ul>
</blockquote>
<ol>
<li>
<p>创建实体类</p>
<div class="language-java highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-38-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-38-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-38-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-38-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-38-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-38-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-38-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-38-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-38-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-38-10">10</a></span>
<span class="normal"><a href="#__codelineno-38-11">11</a></span>
<span class="normal"><a href="#__codelineno-38-12">12</a></span>
<span class="normal"><a href="#__codelineno-38-13">13</a></span>
<span class="normal"><a href="#__codelineno-38-14">14</a></span>
<span class="normal"><a href="#__codelineno-38-15">15</a></span>
<span class="normal"><a href="#__codelineno-38-16">16</a></span>
<span class="normal"><a href="#__codelineno-38-17">17</a></span>
<span class="normal"><a href="#__codelineno-38-18">18</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.qfedu.bookmall.ms.dto</span><span class="p">;</span>
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2"></a>
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3"></a><span class="cm">/**</span>
</span><span id="__span-38-4"><a id="__codelineno-38-4" name="__codelineno-38-4"></a><span class="cm"> * @Description 管理员实体类</span>
</span><span id="__span-38-5"><a id="__codelineno-38-5" name="__codelineno-38-5"></a><span class="cm"> * @Author 千锋涛哥</span>
</span><span id="__span-38-6"><a id="__codelineno-38-6" name="__codelineno-38-6"></a><span class="cm"> * 公众号： Java架构栈</span>
</span><span id="__span-38-7"><a id="__codelineno-38-7" name="__codelineno-38-7"></a><span class="cm"> */</span>
</span><span id="__span-38-8"><a id="__codelineno-38-8" name="__codelineno-38-8"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">User</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-38-9"><a id="__codelineno-38-9" name="__codelineno-38-9"></a>
</span><span id="__span-38-10"><a id="__codelineno-38-10" name="__codelineno-38-10"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">userId</span><span class="p">;</span>
</span><span id="__span-38-11"><a id="__codelineno-38-11" name="__codelineno-38-11"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">userName</span><span class="p">;</span>
</span><span id="__span-38-12"><a id="__codelineno-38-12" name="__codelineno-38-12"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">userPwd</span><span class="p">;</span>
</span><span id="__span-38-13"><a id="__codelineno-38-13" name="__codelineno-38-13"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">realName</span><span class="p">;</span>
</span><span id="__span-38-14"><a id="__codelineno-38-14" name="__codelineno-38-14"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">userGender</span><span class="p">;</span>
</span><span id="__span-38-15"><a id="__codelineno-38-15" name="__codelineno-38-15"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">userTel</span><span class="p">;</span>
</span><span id="__span-38-16"><a id="__codelineno-38-16" name="__codelineno-38-16"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">userDesc</span><span class="p">;</span>
</span><span id="__span-38-17"><a id="__codelineno-38-17" name="__codelineno-38-17"></a><span class="w"> </span><span class="c1">//....</span>
</span><span id="__span-38-18"><a id="__codelineno-38-18" name="__codelineno-38-18"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
</li>
<li>
<p>创建DAO类实现数据库操作</p>
<div class="language-java highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-39-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-39-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-39-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-39-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-39-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-39-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-39-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-39-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-39-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-39-10">10</a></span>
<span class="normal"><a href="#__codelineno-39-11">11</a></span>
<span class="normal"><a href="#__codelineno-39-12">12</a></span>
<span class="normal"><a href="#__codelineno-39-13">13</a></span>
<span class="normal"><a href="#__codelineno-39-14">14</a></span>
<span class="normal"><a href="#__codelineno-39-15">15</a></span>
<span class="normal"><a href="#__codelineno-39-16">16</a></span>
<span class="normal"><a href="#__codelineno-39-17">17</a></span>
<span class="normal"><a href="#__codelineno-39-18">18</a></span>
<span class="normal"><a href="#__codelineno-39-19">19</a></span>
<span class="normal"><a href="#__codelineno-39-20">20</a></span>
<span class="normal"><a href="#__codelineno-39-21">21</a></span>
<span class="normal"><a href="#__codelineno-39-22">22</a></span>
<span class="normal"><a href="#__codelineno-39-23">23</a></span>
<span class="normal"><a href="#__codelineno-39-24">24</a></span>
<span class="normal"><a href="#__codelineno-39-25">25</a></span>
<span class="normal"><a href="#__codelineno-39-26">26</a></span>
<span class="normal"><a href="#__codelineno-39-27">27</a></span>
<span class="normal"><a href="#__codelineno-39-28">28</a></span>
<span class="normal"><a href="#__codelineno-39-29">29</a></span>
<span class="normal"><a href="#__codelineno-39-30">30</a></span>
<span class="normal"><a href="#__codelineno-39-31">31</a></span>
<span class="normal"><a href="#__codelineno-39-32">32</a></span>
<span class="normal"><a href="#__codelineno-39-33">33</a></span>
<span class="normal"><a href="#__codelineno-39-34">34</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.qfedu.bookmall.ms.dao</span><span class="p">;</span>
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2"></a>
</span><span id="__span-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.qfedu.bookmall.ms.dto.User</span><span class="p">;</span>
</span><span id="__span-39-4"><a id="__codelineno-39-4" name="__codelineno-39-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.qfedu.bookmall.ms.utils.DruidUtils</span><span class="p">;</span>
</span><span id="__span-39-5"><a id="__codelineno-39-5" name="__codelineno-39-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.commons.dbutils.QueryRunner</span><span class="p">;</span>
</span><span id="__span-39-6"><a id="__codelineno-39-6" name="__codelineno-39-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.commons.dbutils.handlers.BeanHandler</span><span class="p">;</span>
</span><span id="__span-39-7"><a id="__codelineno-39-7" name="__codelineno-39-7"></a>
</span><span id="__span-39-8"><a id="__codelineno-39-8" name="__codelineno-39-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.sql.SQLException</span><span class="p">;</span>
</span><span id="__span-39-9"><a id="__codelineno-39-9" name="__codelineno-39-9"></a>
</span><span id="__span-39-10"><a id="__codelineno-39-10" name="__codelineno-39-10"></a><span class="cm">/**</span>
</span><span id="__span-39-11"><a id="__codelineno-39-11" name="__codelineno-39-11"></a><span class="cm"> * @Description 用于实现管理员的数据库操作</span>
</span><span id="__span-39-12"><a id="__codelineno-39-12" name="__codelineno-39-12"></a><span class="cm"> * @Author 千锋涛哥</span>
</span><span id="__span-39-13"><a id="__codelineno-39-13" name="__codelineno-39-13"></a><span class="cm"> * 公众号： Java架构栈</span>
</span><span id="__span-39-14"><a id="__codelineno-39-14" name="__codelineno-39-14"></a><span class="cm"> */</span>
</span><span id="__span-39-15"><a id="__codelineno-39-15" name="__codelineno-39-15"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">UserDAO</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-39-16"><a id="__codelineno-39-16" name="__codelineno-39-16"></a>
</span><span id="__span-39-17"><a id="__codelineno-39-17" name="__codelineno-39-17"></a><span class="w">    </span><span class="cm">/**</span>
</span><span id="__span-39-18"><a id="__codelineno-39-18" name="__codelineno-39-18"></a><span class="cm">     * 根据管理员登录名查询管理员信息</span>
</span><span id="__span-39-19"><a id="__codelineno-39-19" name="__codelineno-39-19"></a><span class="cm">     * @param userName</span>
</span><span id="__span-39-20"><a id="__codelineno-39-20" name="__codelineno-39-20"></a><span class="cm">     * @return</span>
</span><span id="__span-39-21"><a id="__codelineno-39-21" name="__codelineno-39-21"></a><span class="cm">     */</span>
</span><span id="__span-39-22"><a id="__codelineno-39-22" name="__codelineno-39-22"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="nf">selectUserByUserName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">userName</span><span class="p">){</span>
</span><span id="__span-39-23"><a id="__codelineno-39-23" name="__codelineno-39-23"></a><span class="w">        </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
</span><span id="__span-39-24"><a id="__codelineno-39-24" name="__codelineno-39-24"></a><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-39-25"><a id="__codelineno-39-25" name="__codelineno-39-25"></a><span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">sql</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;select user_id userId,user_name userName,user_pwd userPwd,real_name realName,user_gender userGender,user_tel userTel,user_desc userDesc from users where user_name=?&quot;</span><span class="p">;</span>
</span><span id="__span-39-26"><a id="__codelineno-39-26" name="__codelineno-39-26"></a><span class="w">            </span><span class="n">QueryRunner</span><span class="w"> </span><span class="n">queryRunner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">QueryRunner</span><span class="p">(</span><span class="n">DruidUtils</span><span class="p">.</span><span class="na">getDataSource</span><span class="p">());</span>
</span><span id="__span-39-27"><a id="__codelineno-39-27" name="__codelineno-39-27"></a><span class="w">            </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">queryRunner</span><span class="p">.</span><span class="na">query</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BeanHandler</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="p">(</span><span class="n">User</span><span class="p">.</span><span class="na">class</span><span class="p">));</span>
</span><span id="__span-39-28"><a id="__codelineno-39-28" name="__codelineno-39-28"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">SQLException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-39-29"><a id="__codelineno-39-29" name="__codelineno-39-29"></a><span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span id="__span-39-30"><a id="__codelineno-39-30" name="__codelineno-39-30"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-39-31"><a id="__codelineno-39-31" name="__codelineno-39-31"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">user</span><span class="p">;</span>
</span><span id="__span-39-32"><a id="__codelineno-39-32" name="__codelineno-39-32"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-39-33"><a id="__codelineno-39-33" name="__codelineno-39-33"></a>
</span><span id="__span-39-34"><a id="__codelineno-39-34" name="__codelineno-39-34"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
</li>
</ol>
<h4 id="652">6.5.2 图书管理的数据库操作<a class="headerlink" href="#652" title="Permanent link">&para;</a></h4>
<blockquote>
<ul>
<li>添加图书信息</li>
<li>查询所有图书信息</li>
<li>根据图书ID删除一个图书信息</li>
<li>根据图书ID查询一个图书信息</li>
<li>根据图书ID修改一个图书信息</li>
</ul>
</blockquote>
<ol>
<li>
<p>创建图书实体类</p>
<div class="language-java highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-40-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-40-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-40-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-40-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-40-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-40-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-40-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-40-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-40-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-40-10">10</a></span>
<span class="normal"><a href="#__codelineno-40-11">11</a></span>
<span class="normal"><a href="#__codelineno-40-12">12</a></span>
<span class="normal"><a href="#__codelineno-40-13">13</a></span>
<span class="normal"><a href="#__codelineno-40-14">14</a></span>
<span class="normal"><a href="#__codelineno-40-15">15</a></span>
<span class="normal"><a href="#__codelineno-40-16">16</a></span>
<span class="normal"><a href="#__codelineno-40-17">17</a></span>
<span class="normal"><a href="#__codelineno-40-18">18</a></span>
<span class="normal"><a href="#__codelineno-40-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.qfedu.bookmall.ms.dto</span><span class="p">;</span>
</span><span id="__span-40-2"><a id="__codelineno-40-2" name="__codelineno-40-2"></a>
</span><span id="__span-40-3"><a id="__codelineno-40-3" name="__codelineno-40-3"></a><span class="cm">/**</span>
</span><span id="__span-40-4"><a id="__codelineno-40-4" name="__codelineno-40-4"></a><span class="cm"> * @Description 图书信息实体类</span>
</span><span id="__span-40-5"><a id="__codelineno-40-5" name="__codelineno-40-5"></a><span class="cm"> * @Author 千锋涛哥</span>
</span><span id="__span-40-6"><a id="__codelineno-40-6" name="__codelineno-40-6"></a><span class="cm"> * 公众号： Java架构栈</span>
</span><span id="__span-40-7"><a id="__codelineno-40-7" name="__codelineno-40-7"></a><span class="cm"> */</span>
</span><span id="__span-40-8"><a id="__codelineno-40-8" name="__codelineno-40-8"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Book</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-40-9"><a id="__codelineno-40-9" name="__codelineno-40-9"></a>
</span><span id="__span-40-10"><a id="__codelineno-40-10" name="__codelineno-40-10"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">bookId</span><span class="p">;</span>
</span><span id="__span-40-11"><a id="__codelineno-40-11" name="__codelineno-40-11"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">bookName</span><span class="p">;</span>
</span><span id="__span-40-12"><a id="__codelineno-40-12" name="__codelineno-40-12"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">bookAuthor</span><span class="p">;</span>
</span><span id="__span-40-13"><a id="__codelineno-40-13" name="__codelineno-40-13"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">bookPrice</span><span class="p">;</span>
</span><span id="__span-40-14"><a id="__codelineno-40-14" name="__codelineno-40-14"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">bookImgPath</span><span class="p">;</span>
</span><span id="__span-40-15"><a id="__codelineno-40-15" name="__codelineno-40-15"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">bookDesc</span><span class="p">;</span>
</span><span id="__span-40-16"><a id="__codelineno-40-16" name="__codelineno-40-16"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">bookStock</span><span class="p">;</span>
</span><span id="__span-40-17"><a id="__codelineno-40-17" name="__codelineno-40-17"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">bookType</span><span class="p">;</span>
</span><span id="__span-40-18"><a id="__codelineno-40-18" name="__codelineno-40-18"></a>
</span><span id="__span-40-19"><a id="__codelineno-40-19" name="__codelineno-40-19"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
</li>
<li>
<p>创建DAO类完成数据库操作</p>
<div class="language-java highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-41-1">  1</a></span>
<span class="normal"><a href="#__codelineno-41-2">  2</a></span>
<span class="normal"><a href="#__codelineno-41-3">  3</a></span>
<span class="normal"><a href="#__codelineno-41-4">  4</a></span>
<span class="normal"><a href="#__codelineno-41-5">  5</a></span>
<span class="normal"><a href="#__codelineno-41-6">  6</a></span>
<span class="normal"><a href="#__codelineno-41-7">  7</a></span>
<span class="normal"><a href="#__codelineno-41-8">  8</a></span>
<span class="normal"><a href="#__codelineno-41-9">  9</a></span>
<span class="normal"><a href="#__codelineno-41-10"> 10</a></span>
<span class="normal"><a href="#__codelineno-41-11"> 11</a></span>
<span class="normal"><a href="#__codelineno-41-12"> 12</a></span>
<span class="normal"><a href="#__codelineno-41-13"> 13</a></span>
<span class="normal"><a href="#__codelineno-41-14"> 14</a></span>
<span class="normal"><a href="#__codelineno-41-15"> 15</a></span>
<span class="normal"><a href="#__codelineno-41-16"> 16</a></span>
<span class="normal"><a href="#__codelineno-41-17"> 17</a></span>
<span class="normal"><a href="#__codelineno-41-18"> 18</a></span>
<span class="normal"><a href="#__codelineno-41-19"> 19</a></span>
<span class="normal"><a href="#__codelineno-41-20"> 20</a></span>
<span class="normal"><a href="#__codelineno-41-21"> 21</a></span>
<span class="normal"><a href="#__codelineno-41-22"> 22</a></span>
<span class="normal"><a href="#__codelineno-41-23"> 23</a></span>
<span class="normal"><a href="#__codelineno-41-24"> 24</a></span>
<span class="normal"><a href="#__codelineno-41-25"> 25</a></span>
<span class="normal"><a href="#__codelineno-41-26"> 26</a></span>
<span class="normal"><a href="#__codelineno-41-27"> 27</a></span>
<span class="normal"><a href="#__codelineno-41-28"> 28</a></span>
<span class="normal"><a href="#__codelineno-41-29"> 29</a></span>
<span class="normal"><a href="#__codelineno-41-30"> 30</a></span>
<span class="normal"><a href="#__codelineno-41-31"> 31</a></span>
<span class="normal"><a href="#__codelineno-41-32"> 32</a></span>
<span class="normal"><a href="#__codelineno-41-33"> 33</a></span>
<span class="normal"><a href="#__codelineno-41-34"> 34</a></span>
<span class="normal"><a href="#__codelineno-41-35"> 35</a></span>
<span class="normal"><a href="#__codelineno-41-36"> 36</a></span>
<span class="normal"><a href="#__codelineno-41-37"> 37</a></span>
<span class="normal"><a href="#__codelineno-41-38"> 38</a></span>
<span class="normal"><a href="#__codelineno-41-39"> 39</a></span>
<span class="normal"><a href="#__codelineno-41-40"> 40</a></span>
<span class="normal"><a href="#__codelineno-41-41"> 41</a></span>
<span class="normal"><a href="#__codelineno-41-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-41-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-41-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-41-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-41-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-41-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-41-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-41-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-41-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-41-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-41-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-41-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-41-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-41-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-41-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-41-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-41-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-41-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-41-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-41-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-41-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-41-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-41-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-41-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-41-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-41-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-41-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-41-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-41-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-41-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-41-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-41-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-41-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-41-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-41-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-41-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-41-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-41-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-41-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-41-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-41-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-41-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-41-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-41-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-41-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-41-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-41-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-41-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-41-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-41-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-41-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-41-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-41-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-41-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-41-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-41-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-41-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-41-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-41-100">100</a></span>
<span class="normal"><a href="#__codelineno-41-101">101</a></span>
<span class="normal"><a href="#__codelineno-41-102">102</a></span>
<span class="normal"><a href="#__codelineno-41-103">103</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.qfedu.bookmall.ms.dao</span><span class="p">;</span>
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2"></a>
</span><span id="__span-41-3"><a id="__codelineno-41-3" name="__codelineno-41-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.qfedu.bookmall.ms.dto.Book</span><span class="p">;</span>
</span><span id="__span-41-4"><a id="__codelineno-41-4" name="__codelineno-41-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.qfedu.bookmall.ms.utils.DruidUtils</span><span class="p">;</span>
</span><span id="__span-41-5"><a id="__codelineno-41-5" name="__codelineno-41-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.commons.dbutils.QueryRunner</span><span class="p">;</span>
</span><span id="__span-41-6"><a id="__codelineno-41-6" name="__codelineno-41-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.commons.dbutils.handlers.BeanHandler</span><span class="p">;</span>
</span><span id="__span-41-7"><a id="__codelineno-41-7" name="__codelineno-41-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.commons.dbutils.handlers.BeanListHandler</span><span class="p">;</span>
</span><span id="__span-41-8"><a id="__codelineno-41-8" name="__codelineno-41-8"></a>
</span><span id="__span-41-9"><a id="__codelineno-41-9" name="__codelineno-41-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.sql.SQLException</span><span class="p">;</span>
</span><span id="__span-41-10"><a id="__codelineno-41-10" name="__codelineno-41-10"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
</span><span id="__span-41-11"><a id="__codelineno-41-11" name="__codelineno-41-11"></a>
</span><span id="__span-41-12"><a id="__codelineno-41-12" name="__codelineno-41-12"></a><span class="cm">/**</span>
</span><span id="__span-41-13"><a id="__codelineno-41-13" name="__codelineno-41-13"></a><span class="cm"> * @Description 完成图书信息的数据库操作</span>
</span><span id="__span-41-14"><a id="__codelineno-41-14" name="__codelineno-41-14"></a><span class="cm"> * @Author 千锋涛哥</span>
</span><span id="__span-41-15"><a id="__codelineno-41-15" name="__codelineno-41-15"></a><span class="cm"> * 公众号： Java架构栈</span>
</span><span id="__span-41-16"><a id="__codelineno-41-16" name="__codelineno-41-16"></a><span class="cm"> */</span>
</span><span id="__span-41-17"><a id="__codelineno-41-17" name="__codelineno-41-17"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">BookDAO</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-41-18"><a id="__codelineno-41-18" name="__codelineno-41-18"></a>
</span><span id="__span-41-19"><a id="__codelineno-41-19" name="__codelineno-41-19"></a><span class="w">    </span><span class="cm">/**</span>
</span><span id="__span-41-20"><a id="__codelineno-41-20" name="__codelineno-41-20"></a><span class="cm">     * 添加图书信息</span>
</span><span id="__span-41-21"><a id="__codelineno-41-21" name="__codelineno-41-21"></a><span class="cm">     * @param book</span>
</span><span id="__span-41-22"><a id="__codelineno-41-22" name="__codelineno-41-22"></a><span class="cm">     * @return</span>
</span><span id="__span-41-23"><a id="__codelineno-41-23" name="__codelineno-41-23"></a><span class="cm">     */</span>
</span><span id="__span-41-24"><a id="__codelineno-41-24" name="__codelineno-41-24"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">insertBook</span><span class="p">(</span><span class="n">Book</span><span class="w"> </span><span class="n">book</span><span class="p">){</span>
</span><span id="__span-41-25"><a id="__codelineno-41-25" name="__codelineno-41-25"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-41-26"><a id="__codelineno-41-26" name="__codelineno-41-26"></a><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-41-27"><a id="__codelineno-41-27" name="__codelineno-41-27"></a><span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">sql</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;insert into books(book_id,book_name,book_author,book_price,book_img_path,book_desc,book_stcok,book_type) values(?,?,?,?,?,?,?,?)&quot;</span><span class="p">;</span>
</span><span id="__span-41-28"><a id="__codelineno-41-28" name="__codelineno-41-28"></a><span class="w">            </span><span class="n">QueryRunner</span><span class="w"> </span><span class="n">queryRunner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">QueryRunner</span><span class="p">(</span><span class="n">DruidUtils</span><span class="p">.</span><span class="na">getDataSource</span><span class="p">());</span>
</span><span id="__span-41-29"><a id="__codelineno-41-29" name="__codelineno-41-29"></a><span class="w">            </span><span class="c1">//给SQL中的参数赋值</span>
</span><span id="__span-41-30"><a id="__codelineno-41-30" name="__codelineno-41-30"></a><span class="w">            </span><span class="n">Object</span><span class="o">[]</span><span class="w"> </span><span class="n">params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">book</span><span class="p">.</span><span class="na">getBookId</span><span class="p">(),</span><span class="n">book</span><span class="p">.</span><span class="na">getBookName</span><span class="p">(),</span><span class="n">book</span><span class="p">.</span><span class="na">getBookAuthor</span><span class="p">(),</span><span class="n">book</span><span class="p">.</span><span class="na">getBookPrice</span><span class="p">(),</span><span class="n">book</span><span class="p">.</span><span class="na">getBookImgPath</span><span class="p">(),</span><span class="n">book</span><span class="p">.</span><span class="na">getBookDesc</span><span class="p">(),</span><span class="n">book</span><span class="p">.</span><span class="na">getBookStock</span><span class="p">(),</span><span class="n">book</span><span class="p">.</span><span class="na">getBookType</span><span class="p">()};</span>
</span><span id="__span-41-31"><a id="__codelineno-41-31" name="__codelineno-41-31"></a><span class="w">            </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">queryRunner</span><span class="p">.</span><span class="na">update</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span><span class="w"> </span><span class="n">params</span><span class="p">);</span>
</span><span id="__span-41-32"><a id="__codelineno-41-32" name="__codelineno-41-32"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">SQLException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-41-33"><a id="__codelineno-41-33" name="__codelineno-41-33"></a><span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span id="__span-41-34"><a id="__codelineno-41-34" name="__codelineno-41-34"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-41-35"><a id="__codelineno-41-35" name="__codelineno-41-35"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
</span><span id="__span-41-36"><a id="__codelineno-41-36" name="__codelineno-41-36"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-41-37"><a id="__codelineno-41-37" name="__codelineno-41-37"></a>
</span><span id="__span-41-38"><a id="__codelineno-41-38" name="__codelineno-41-38"></a><span class="w">    </span><span class="cm">/**</span>
</span><span id="__span-41-39"><a id="__codelineno-41-39" name="__codelineno-41-39"></a><span class="cm">     * 查询所有图书信息</span>
</span><span id="__span-41-40"><a id="__codelineno-41-40" name="__codelineno-41-40"></a><span class="cm">     * @return</span>
</span><span id="__span-41-41"><a id="__codelineno-41-41" name="__codelineno-41-41"></a><span class="cm">     */</span>
</span><span id="__span-41-42"><a id="__codelineno-41-42" name="__codelineno-41-42"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">selectBooks</span><span class="p">(){</span>
</span><span id="__span-41-43"><a id="__codelineno-41-43" name="__codelineno-41-43"></a><span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bookList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
</span><span id="__span-41-44"><a id="__codelineno-41-44" name="__codelineno-41-44"></a><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-41-45"><a id="__codelineno-41-45" name="__codelineno-41-45"></a><span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">sql</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;select book_id bookId,book_name bookName,book_author bookAuthor,book_price bookPrice,book_img_path bookImgPath,book_desc bookDesc,book_stcok bookStock,book_type bookType from books&quot;</span><span class="p">;</span>
</span><span id="__span-41-46"><a id="__codelineno-41-46" name="__codelineno-41-46"></a><span class="w">            </span><span class="n">QueryRunner</span><span class="w"> </span><span class="n">queryRunner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">QueryRunner</span><span class="p">(</span><span class="n">DruidUtils</span><span class="p">.</span><span class="na">getDataSource</span><span class="p">());</span>
</span><span id="__span-41-47"><a id="__codelineno-41-47" name="__codelineno-41-47"></a><span class="w">            </span><span class="n">bookList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">queryRunner</span><span class="p">.</span><span class="na">query</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BeanListHandler</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Book</span><span class="p">.</span><span class="na">class</span><span class="p">));</span>
</span><span id="__span-41-48"><a id="__codelineno-41-48" name="__codelineno-41-48"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">SQLException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-41-49"><a id="__codelineno-41-49" name="__codelineno-41-49"></a><span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span id="__span-41-50"><a id="__codelineno-41-50" name="__codelineno-41-50"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-41-51"><a id="__codelineno-41-51" name="__codelineno-41-51"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">bookList</span><span class="p">;</span>
</span><span id="__span-41-52"><a id="__codelineno-41-52" name="__codelineno-41-52"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-41-53"><a id="__codelineno-41-53" name="__codelineno-41-53"></a>
</span><span id="__span-41-54"><a id="__codelineno-41-54" name="__codelineno-41-54"></a><span class="w">    </span><span class="cm">/**</span>
</span><span id="__span-41-55"><a id="__codelineno-41-55" name="__codelineno-41-55"></a><span class="cm">     * 根据图书ID删除一个图书信息</span>
</span><span id="__span-41-56"><a id="__codelineno-41-56" name="__codelineno-41-56"></a><span class="cm">     * @param bookId</span>
</span><span id="__span-41-57"><a id="__codelineno-41-57" name="__codelineno-41-57"></a><span class="cm">     * @return</span>
</span><span id="__span-41-58"><a id="__codelineno-41-58" name="__codelineno-41-58"></a><span class="cm">     */</span>
</span><span id="__span-41-59"><a id="__codelineno-41-59" name="__codelineno-41-59"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">deleteBook</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">bookId</span><span class="p">){</span>
</span><span id="__span-41-60"><a id="__codelineno-41-60" name="__codelineno-41-60"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-41-61"><a id="__codelineno-41-61" name="__codelineno-41-61"></a><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-41-62"><a id="__codelineno-41-62" name="__codelineno-41-62"></a><span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">sql</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;delete from books where book_id=?&quot;</span><span class="p">;</span>
</span><span id="__span-41-63"><a id="__codelineno-41-63" name="__codelineno-41-63"></a><span class="w">            </span><span class="n">QueryRunner</span><span class="w"> </span><span class="n">queryRunner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">QueryRunner</span><span class="p">(</span><span class="n">DruidUtils</span><span class="p">.</span><span class="na">getDataSource</span><span class="p">());</span>
</span><span id="__span-41-64"><a id="__codelineno-41-64" name="__codelineno-41-64"></a><span class="w">            </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">queryRunner</span><span class="p">.</span><span class="na">update</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span><span class="w"> </span><span class="n">bookId</span><span class="p">);</span>
</span><span id="__span-41-65"><a id="__codelineno-41-65" name="__codelineno-41-65"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">SQLException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-41-66"><a id="__codelineno-41-66" name="__codelineno-41-66"></a><span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span id="__span-41-67"><a id="__codelineno-41-67" name="__codelineno-41-67"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-41-68"><a id="__codelineno-41-68" name="__codelineno-41-68"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
</span><span id="__span-41-69"><a id="__codelineno-41-69" name="__codelineno-41-69"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-41-70"><a id="__codelineno-41-70" name="__codelineno-41-70"></a>
</span><span id="__span-41-71"><a id="__codelineno-41-71" name="__codelineno-41-71"></a><span class="w">    </span><span class="cm">/**</span>
</span><span id="__span-41-72"><a id="__codelineno-41-72" name="__codelineno-41-72"></a><span class="cm">     * 根据图书ID查询一个图书信息</span>
</span><span id="__span-41-73"><a id="__codelineno-41-73" name="__codelineno-41-73"></a><span class="cm">     */</span>
</span><span id="__span-41-74"><a id="__codelineno-41-74" name="__codelineno-41-74"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Book</span><span class="w"> </span><span class="nf">selectBookByBookId</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">bookId</span><span class="p">){</span>
</span><span id="__span-41-75"><a id="__codelineno-41-75" name="__codelineno-41-75"></a><span class="w">        </span><span class="n">Book</span><span class="w"> </span><span class="n">book</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
</span><span id="__span-41-76"><a id="__codelineno-41-76" name="__codelineno-41-76"></a><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-41-77"><a id="__codelineno-41-77" name="__codelineno-41-77"></a><span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">sql</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;select book_id bookId,book_name bookName,book_author bookAuthor,book_price bookPrice,book_img_path bookImgPath,book_desc bookDesc,book_stcok bookStock,book_type bookType from books where book_id=?&quot;</span><span class="p">;</span>
</span><span id="__span-41-78"><a id="__codelineno-41-78" name="__codelineno-41-78"></a><span class="w">            </span><span class="n">QueryRunner</span><span class="w"> </span><span class="n">queryRunner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">QueryRunner</span><span class="p">(</span><span class="n">DruidUtils</span><span class="p">.</span><span class="na">getDataSource</span><span class="p">());</span>
</span><span id="__span-41-79"><a id="__codelineno-41-79" name="__codelineno-41-79"></a><span class="w">            </span><span class="n">book</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">queryRunner</span><span class="p">.</span><span class="na">query</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BeanHandler</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Book</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="n">bookId</span><span class="p">);</span>
</span><span id="__span-41-80"><a id="__codelineno-41-80" name="__codelineno-41-80"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">SQLException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-41-81"><a id="__codelineno-41-81" name="__codelineno-41-81"></a><span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span id="__span-41-82"><a id="__codelineno-41-82" name="__codelineno-41-82"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-41-83"><a id="__codelineno-41-83" name="__codelineno-41-83"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">book</span><span class="p">;</span>
</span><span id="__span-41-84"><a id="__codelineno-41-84" name="__codelineno-41-84"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-41-85"><a id="__codelineno-41-85" name="__codelineno-41-85"></a>
</span><span id="__span-41-86"><a id="__codelineno-41-86" name="__codelineno-41-86"></a><span class="w">    </span><span class="cm">/**</span>
</span><span id="__span-41-87"><a id="__codelineno-41-87" name="__codelineno-41-87"></a><span class="cm">     * 根据图书ID修改一个图书信息</span>
</span><span id="__span-41-88"><a id="__codelineno-41-88" name="__codelineno-41-88"></a><span class="cm">     * @param book</span>
</span><span id="__span-41-89"><a id="__codelineno-41-89" name="__codelineno-41-89"></a><span class="cm">     * @return</span>
</span><span id="__span-41-90"><a id="__codelineno-41-90" name="__codelineno-41-90"></a><span class="cm">     */</span>
</span><span id="__span-41-91"><a id="__codelineno-41-91" name="__codelineno-41-91"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">updateBook</span><span class="p">(</span><span class="n">Book</span><span class="w"> </span><span class="n">book</span><span class="p">){</span>
</span><span id="__span-41-92"><a id="__codelineno-41-92" name="__codelineno-41-92"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-41-93"><a id="__codelineno-41-93" name="__codelineno-41-93"></a><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-41-94"><a id="__codelineno-41-94" name="__codelineno-41-94"></a><span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">sql</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;update books set book_name=?,book_author=?,book_price=?,book_img_path=?,book_desc=?,book_stcok=?,book_type=? where book_id=?&quot;</span><span class="p">;</span>
</span><span id="__span-41-95"><a id="__codelineno-41-95" name="__codelineno-41-95"></a><span class="w">            </span><span class="n">QueryRunner</span><span class="w"> </span><span class="n">queryRunner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">QueryRunner</span><span class="p">(</span><span class="n">DruidUtils</span><span class="p">.</span><span class="na">getDataSource</span><span class="p">());</span>
</span><span id="__span-41-96"><a id="__codelineno-41-96" name="__codelineno-41-96"></a><span class="w">            </span><span class="n">Object</span><span class="o">[]</span><span class="w"> </span><span class="n">params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">book</span><span class="p">.</span><span class="na">getBookName</span><span class="p">(),</span><span class="n">book</span><span class="p">.</span><span class="na">getBookAuthor</span><span class="p">(),</span><span class="n">book</span><span class="p">.</span><span class="na">getBookPrice</span><span class="p">(),</span><span class="n">book</span><span class="p">.</span><span class="na">getBookImgPath</span><span class="p">(),</span><span class="n">book</span><span class="p">.</span><span class="na">getBookDesc</span><span class="p">(),</span><span class="n">book</span><span class="p">.</span><span class="na">getBookStock</span><span class="p">(),</span><span class="n">book</span><span class="p">.</span><span class="na">getBookType</span><span class="p">(),</span><span class="n">book</span><span class="p">.</span><span class="na">getBookId</span><span class="p">()};</span>
</span><span id="__span-41-97"><a id="__codelineno-41-97" name="__codelineno-41-97"></a><span class="w">            </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">queryRunner</span><span class="p">.</span><span class="na">update</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span><span class="w"> </span><span class="n">params</span><span class="p">);</span>
</span><span id="__span-41-98"><a id="__codelineno-41-98" name="__codelineno-41-98"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">SQLException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-41-99"><a id="__codelineno-41-99" name="__codelineno-41-99"></a><span class="w">            </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span id="__span-41-100"><a id="__codelineno-41-100" name="__codelineno-41-100"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-41-101"><a id="__codelineno-41-101" name="__codelineno-41-101"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
</span><span id="__span-41-102"><a id="__codelineno-41-102" name="__codelineno-41-102"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-41-103"><a id="__codelineno-41-103" name="__codelineno-41-103"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
</li>
</ol>
<h3 id="66">6.6 网页设计<a class="headerlink" href="#66" title="Permanent link">&para;</a></h3>
<ul>
<li>login.html</li>
<li>index.html</li>
<li>prompt.html</li>
<li>book-add.html</li>
<li>book-list.html</li>
<li>book-modify.html</li>
</ul>
<h3 id="67">6.7 业务层实现<a class="headerlink" href="#67" title="Permanent link">&para;</a></h3>
<h4 id="671">6.7.1 管理员登录业务<a class="headerlink" href="#671" title="Permanent link">&para;</a></h4>
<div class="language-java highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-42-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-42-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-42-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-42-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-42-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-42-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-42-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-42-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-42-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-42-10">10</a></span>
<span class="normal"><a href="#__codelineno-42-11">11</a></span>
<span class="normal"><a href="#__codelineno-42-12">12</a></span>
<span class="normal"><a href="#__codelineno-42-13">13</a></span>
<span class="normal"><a href="#__codelineno-42-14">14</a></span>
<span class="normal"><a href="#__codelineno-42-15">15</a></span>
<span class="normal"><a href="#__codelineno-42-16">16</a></span>
<span class="normal"><a href="#__codelineno-42-17">17</a></span>
<span class="normal"><a href="#__codelineno-42-18">18</a></span>
<span class="normal"><a href="#__codelineno-42-19">19</a></span>
<span class="normal"><a href="#__codelineno-42-20">20</a></span>
<span class="normal"><a href="#__codelineno-42-21">21</a></span>
<span class="normal"><a href="#__codelineno-42-22">22</a></span>
<span class="normal"><a href="#__codelineno-42-23">23</a></span>
<span class="normal"><a href="#__codelineno-42-24">24</a></span>
<span class="normal"><a href="#__codelineno-42-25">25</a></span>
<span class="normal"><a href="#__codelineno-42-26">26</a></span>
<span class="normal"><a href="#__codelineno-42-27">27</a></span>
<span class="normal"><a href="#__codelineno-42-28">28</a></span>
<span class="normal"><a href="#__codelineno-42-29">29</a></span>
<span class="normal"><a href="#__codelineno-42-30">30</a></span>
<span class="normal"><a href="#__codelineno-42-31">31</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.qfedu.bookmall.ms.service</span><span class="p">;</span>
</span><span id="__span-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2"></a>
</span><span id="__span-42-3"><a id="__codelineno-42-3" name="__codelineno-42-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.qfedu.bookmall.ms.dao.UserDAO</span><span class="p">;</span>
</span><span id="__span-42-4"><a id="__codelineno-42-4" name="__codelineno-42-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.qfedu.bookmall.ms.dto.User</span><span class="p">;</span>
</span><span id="__span-42-5"><a id="__codelineno-42-5" name="__codelineno-42-5"></a>
</span><span id="__span-42-6"><a id="__codelineno-42-6" name="__codelineno-42-6"></a><span class="cm">/**</span>
</span><span id="__span-42-7"><a id="__codelineno-42-7" name="__codelineno-42-7"></a><span class="cm"> * @Description 管理员相关业务实现</span>
</span><span id="__span-42-8"><a id="__codelineno-42-8" name="__codelineno-42-8"></a><span class="cm"> * @Author 千锋涛哥</span>
</span><span id="__span-42-9"><a id="__codelineno-42-9" name="__codelineno-42-9"></a><span class="cm"> * 公众号： Java架构栈</span>
</span><span id="__span-42-10"><a id="__codelineno-42-10" name="__codelineno-42-10"></a><span class="cm"> */</span>
</span><span id="__span-42-11"><a id="__codelineno-42-11" name="__codelineno-42-11"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">UserService</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-42-12"><a id="__codelineno-42-12" name="__codelineno-42-12"></a>
</span><span id="__span-42-13"><a id="__codelineno-42-13" name="__codelineno-42-13"></a><span class="w">    </span><span class="cm">/**</span>
</span><span id="__span-42-14"><a id="__codelineno-42-14" name="__codelineno-42-14"></a><span class="cm">     * 管理员登录业务：根据账号密码验证管理登录，验证通过返回user对象，否则返回null</span>
</span><span id="__span-42-15"><a id="__codelineno-42-15" name="__codelineno-42-15"></a><span class="cm">     * @param userName</span>
</span><span id="__span-42-16"><a id="__codelineno-42-16" name="__codelineno-42-16"></a><span class="cm">     * @param userPwd</span>
</span><span id="__span-42-17"><a id="__codelineno-42-17" name="__codelineno-42-17"></a><span class="cm">     * @return</span>
</span><span id="__span-42-18"><a id="__codelineno-42-18" name="__codelineno-42-18"></a><span class="cm">     */</span>
</span><span id="__span-42-19"><a id="__codelineno-42-19" name="__codelineno-42-19"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="nf">checkLogin</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">userName</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">userPwd</span><span class="p">){</span>
</span><span id="__span-42-20"><a id="__codelineno-42-20" name="__codelineno-42-20"></a><span class="w">        </span><span class="c1">//1.根据userName查询管理员信息</span>
</span><span id="__span-42-21"><a id="__codelineno-42-21" name="__codelineno-42-21"></a><span class="w">        </span><span class="n">UserDAO</span><span class="w"> </span><span class="n">userDAO</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UserDAO</span><span class="p">();</span>
</span><span id="__span-42-22"><a id="__codelineno-42-22" name="__codelineno-42-22"></a><span class="w">        </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">userDAO</span><span class="p">.</span><span class="na">selectUserByUserName</span><span class="p">(</span><span class="n">userName</span><span class="p">);</span>
</span><span id="__span-42-23"><a id="__codelineno-42-23" name="__codelineno-42-23"></a><span class="w">        </span><span class="c1">//2.判断密码</span>
</span><span id="__span-42-24"><a id="__codelineno-42-24" name="__codelineno-42-24"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">user</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="na">getUserPwd</span><span class="p">()</span><span class="w"> </span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">userPwd</span><span class="p">)){</span>
</span><span id="__span-42-25"><a id="__codelineno-42-25" name="__codelineno-42-25"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">user</span><span class="p">;</span>
</span><span id="__span-42-26"><a id="__codelineno-42-26" name="__codelineno-42-26"></a><span class="w">        </span><span class="p">}</span><span class="k">else</span><span class="p">{</span>
</span><span id="__span-42-27"><a id="__codelineno-42-27" name="__codelineno-42-27"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
</span><span id="__span-42-28"><a id="__codelineno-42-28" name="__codelineno-42-28"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-42-29"><a id="__codelineno-42-29" name="__codelineno-42-29"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-42-30"><a id="__codelineno-42-30" name="__codelineno-42-30"></a>
</span><span id="__span-42-31"><a id="__codelineno-42-31" name="__codelineno-42-31"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<h4 id="672">6.7.2 图书管理业务实现<a class="headerlink" href="#672" title="Permanent link">&para;</a></h4>
<div class="language-java highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-43-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-43-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-43-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-43-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-43-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-43-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-43-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-43-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-43-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-43-10">10</a></span>
<span class="normal"><a href="#__codelineno-43-11">11</a></span>
<span class="normal"><a href="#__codelineno-43-12">12</a></span>
<span class="normal"><a href="#__codelineno-43-13">13</a></span>
<span class="normal"><a href="#__codelineno-43-14">14</a></span>
<span class="normal"><a href="#__codelineno-43-15">15</a></span>
<span class="normal"><a href="#__codelineno-43-16">16</a></span>
<span class="normal"><a href="#__codelineno-43-17">17</a></span>
<span class="normal"><a href="#__codelineno-43-18">18</a></span>
<span class="normal"><a href="#__codelineno-43-19">19</a></span>
<span class="normal"><a href="#__codelineno-43-20">20</a></span>
<span class="normal"><a href="#__codelineno-43-21">21</a></span>
<span class="normal"><a href="#__codelineno-43-22">22</a></span>
<span class="normal"><a href="#__codelineno-43-23">23</a></span>
<span class="normal"><a href="#__codelineno-43-24">24</a></span>
<span class="normal"><a href="#__codelineno-43-25">25</a></span>
<span class="normal"><a href="#__codelineno-43-26">26</a></span>
<span class="normal"><a href="#__codelineno-43-27">27</a></span>
<span class="normal"><a href="#__codelineno-43-28">28</a></span>
<span class="normal"><a href="#__codelineno-43-29">29</a></span>
<span class="normal"><a href="#__codelineno-43-30">30</a></span>
<span class="normal"><a href="#__codelineno-43-31">31</a></span>
<span class="normal"><a href="#__codelineno-43-32">32</a></span>
<span class="normal"><a href="#__codelineno-43-33">33</a></span>
<span class="normal"><a href="#__codelineno-43-34">34</a></span>
<span class="normal"><a href="#__codelineno-43-35">35</a></span>
<span class="normal"><a href="#__codelineno-43-36">36</a></span>
<span class="normal"><a href="#__codelineno-43-37">37</a></span>
<span class="normal"><a href="#__codelineno-43-38">38</a></span>
<span class="normal"><a href="#__codelineno-43-39">39</a></span>
<span class="normal"><a href="#__codelineno-43-40">40</a></span>
<span class="normal"><a href="#__codelineno-43-41">41</a></span>
<span class="normal"><a href="#__codelineno-43-42">42</a></span>
<span class="normal"><a href="#__codelineno-43-43">43</a></span>
<span class="normal"><a href="#__codelineno-43-44">44</a></span>
<span class="normal"><a href="#__codelineno-43-45">45</a></span>
<span class="normal"><a href="#__codelineno-43-46">46</a></span>
<span class="normal"><a href="#__codelineno-43-47">47</a></span>
<span class="normal"><a href="#__codelineno-43-48">48</a></span>
<span class="normal"><a href="#__codelineno-43-49">49</a></span>
<span class="normal"><a href="#__codelineno-43-50">50</a></span>
<span class="normal"><a href="#__codelineno-43-51">51</a></span>
<span class="normal"><a href="#__codelineno-43-52">52</a></span>
<span class="normal"><a href="#__codelineno-43-53">53</a></span>
<span class="normal"><a href="#__codelineno-43-54">54</a></span>
<span class="normal"><a href="#__codelineno-43-55">55</a></span>
<span class="normal"><a href="#__codelineno-43-56">56</a></span>
<span class="normal"><a href="#__codelineno-43-57">57</a></span>
<span class="normal"><a href="#__codelineno-43-58">58</a></span>
<span class="normal"><a href="#__codelineno-43-59">59</a></span>
<span class="normal"><a href="#__codelineno-43-60">60</a></span>
<span class="normal"><a href="#__codelineno-43-61">61</a></span>
<span class="normal"><a href="#__codelineno-43-62">62</a></span>
<span class="normal"><a href="#__codelineno-43-63">63</a></span>
<span class="normal"><a href="#__codelineno-43-64">64</a></span>
<span class="normal"><a href="#__codelineno-43-65">65</a></span>
<span class="normal"><a href="#__codelineno-43-66">66</a></span>
<span class="normal"><a href="#__codelineno-43-67">67</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.qfedu.bookmall.ms.service</span><span class="p">;</span>
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2"></a>
</span><span id="__span-43-3"><a id="__codelineno-43-3" name="__codelineno-43-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.qfedu.bookmall.ms.dao.BookDAO</span><span class="p">;</span>
</span><span id="__span-43-4"><a id="__codelineno-43-4" name="__codelineno-43-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.qfedu.bookmall.ms.dto.Book</span><span class="p">;</span>
</span><span id="__span-43-5"><a id="__codelineno-43-5" name="__codelineno-43-5"></a>
</span><span id="__span-43-6"><a id="__codelineno-43-6" name="__codelineno-43-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
</span><span id="__span-43-7"><a id="__codelineno-43-7" name="__codelineno-43-7"></a>
</span><span id="__span-43-8"><a id="__codelineno-43-8" name="__codelineno-43-8"></a><span class="cm">/**</span>
</span><span id="__span-43-9"><a id="__codelineno-43-9" name="__codelineno-43-9"></a><span class="cm"> * @Description 图书管理的业务实现</span>
</span><span id="__span-43-10"><a id="__codelineno-43-10" name="__codelineno-43-10"></a><span class="cm"> * @Author 千锋涛哥</span>
</span><span id="__span-43-11"><a id="__codelineno-43-11" name="__codelineno-43-11"></a><span class="cm"> * 公众号： Java架构栈</span>
</span><span id="__span-43-12"><a id="__codelineno-43-12" name="__codelineno-43-12"></a><span class="cm"> */</span>
</span><span id="__span-43-13"><a id="__codelineno-43-13" name="__codelineno-43-13"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">BookService</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-43-14"><a id="__codelineno-43-14" name="__codelineno-43-14"></a>
</span><span id="__span-43-15"><a id="__codelineno-43-15" name="__codelineno-43-15"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">BookDAO</span><span class="w"> </span><span class="n">bookDAO</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BookDAO</span><span class="p">();</span>
</span><span id="__span-43-16"><a id="__codelineno-43-16" name="__codelineno-43-16"></a>
</span><span id="__span-43-17"><a id="__codelineno-43-17" name="__codelineno-43-17"></a><span class="w">    </span><span class="cm">/**</span>
</span><span id="__span-43-18"><a id="__codelineno-43-18" name="__codelineno-43-18"></a><span class="cm">     * 添加图书业务实现</span>
</span><span id="__span-43-19"><a id="__codelineno-43-19" name="__codelineno-43-19"></a><span class="cm">     * @param book</span>
</span><span id="__span-43-20"><a id="__codelineno-43-20" name="__codelineno-43-20"></a><span class="cm">     * @return</span>
</span><span id="__span-43-21"><a id="__codelineno-43-21" name="__codelineno-43-21"></a><span class="cm">     */</span>
</span><span id="__span-43-22"><a id="__codelineno-43-22" name="__codelineno-43-22"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">saveBook</span><span class="p">(</span><span class="n">Book</span><span class="w"> </span><span class="n">book</span><span class="p">){</span>
</span><span id="__span-43-23"><a id="__codelineno-43-23" name="__codelineno-43-23"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bookDAO</span><span class="p">.</span><span class="na">insertBook</span><span class="p">(</span><span class="n">book</span><span class="p">);</span>
</span><span id="__span-43-24"><a id="__codelineno-43-24" name="__codelineno-43-24"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">i</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">?</span><span class="kc">true</span><span class="p">:</span><span class="kc">false</span><span class="p">;</span>
</span><span id="__span-43-25"><a id="__codelineno-43-25" name="__codelineno-43-25"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-43-26"><a id="__codelineno-43-26" name="__codelineno-43-26"></a>
</span><span id="__span-43-27"><a id="__codelineno-43-27" name="__codelineno-43-27"></a><span class="w">    </span><span class="cm">/**</span>
</span><span id="__span-43-28"><a id="__codelineno-43-28" name="__codelineno-43-28"></a><span class="cm">     * 删除图书业务实现</span>
</span><span id="__span-43-29"><a id="__codelineno-43-29" name="__codelineno-43-29"></a><span class="cm">     * @param bookId</span>
</span><span id="__span-43-30"><a id="__codelineno-43-30" name="__codelineno-43-30"></a><span class="cm">     * @return</span>
</span><span id="__span-43-31"><a id="__codelineno-43-31" name="__codelineno-43-31"></a><span class="cm">     */</span>
</span><span id="__span-43-32"><a id="__codelineno-43-32" name="__codelineno-43-32"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">deleteBook</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">bookId</span><span class="p">){</span>
</span><span id="__span-43-33"><a id="__codelineno-43-33" name="__codelineno-43-33"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bookDAO</span><span class="p">.</span><span class="na">deleteBook</span><span class="p">(</span><span class="n">bookId</span><span class="p">);</span>
</span><span id="__span-43-34"><a id="__codelineno-43-34" name="__codelineno-43-34"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">i</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">?</span><span class="kc">true</span><span class="p">:</span><span class="kc">false</span><span class="p">;</span>
</span><span id="__span-43-35"><a id="__codelineno-43-35" name="__codelineno-43-35"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-43-36"><a id="__codelineno-43-36" name="__codelineno-43-36"></a>
</span><span id="__span-43-37"><a id="__codelineno-43-37" name="__codelineno-43-37"></a><span class="w">    </span><span class="cm">/**</span>
</span><span id="__span-43-38"><a id="__codelineno-43-38" name="__codelineno-43-38"></a><span class="cm">     * 根据ID查询一个图书的业务实现</span>
</span><span id="__span-43-39"><a id="__codelineno-43-39" name="__codelineno-43-39"></a><span class="cm">     * @param bookId</span>
</span><span id="__span-43-40"><a id="__codelineno-43-40" name="__codelineno-43-40"></a><span class="cm">     * @return</span>
</span><span id="__span-43-41"><a id="__codelineno-43-41" name="__codelineno-43-41"></a><span class="cm">     */</span>
</span><span id="__span-43-42"><a id="__codelineno-43-42" name="__codelineno-43-42"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Book</span><span class="w"> </span><span class="nf">getBook</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">bookId</span><span class="p">){</span>
</span><span id="__span-43-43"><a id="__codelineno-43-43" name="__codelineno-43-43"></a><span class="w">        </span><span class="n">Book</span><span class="w"> </span><span class="n">book</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bookDAO</span><span class="p">.</span><span class="na">selectBookByBookId</span><span class="p">(</span><span class="n">bookId</span><span class="p">);</span>
</span><span id="__span-43-44"><a id="__codelineno-43-44" name="__codelineno-43-44"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">book</span><span class="p">;</span>
</span><span id="__span-43-45"><a id="__codelineno-43-45" name="__codelineno-43-45"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-43-46"><a id="__codelineno-43-46" name="__codelineno-43-46"></a>
</span><span id="__span-43-47"><a id="__codelineno-43-47" name="__codelineno-43-47"></a>
</span><span id="__span-43-48"><a id="__codelineno-43-48" name="__codelineno-43-48"></a><span class="w">    </span><span class="cm">/**</span>
</span><span id="__span-43-49"><a id="__codelineno-43-49" name="__codelineno-43-49"></a><span class="cm">     * 修改图书业务实现</span>
</span><span id="__span-43-50"><a id="__codelineno-43-50" name="__codelineno-43-50"></a><span class="cm">     * @param book</span>
</span><span id="__span-43-51"><a id="__codelineno-43-51" name="__codelineno-43-51"></a><span class="cm">     * @return</span>
</span><span id="__span-43-52"><a id="__codelineno-43-52" name="__codelineno-43-52"></a><span class="cm">     */</span>
</span><span id="__span-43-53"><a id="__codelineno-43-53" name="__codelineno-43-53"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">modifyBook</span><span class="p">(</span><span class="n">Book</span><span class="w"> </span><span class="n">book</span><span class="p">){</span>
</span><span id="__span-43-54"><a id="__codelineno-43-54" name="__codelineno-43-54"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bookDAO</span><span class="p">.</span><span class="na">updateBook</span><span class="p">(</span><span class="n">book</span><span class="p">);</span>
</span><span id="__span-43-55"><a id="__codelineno-43-55" name="__codelineno-43-55"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">i</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">?</span><span class="kc">true</span><span class="p">:</span><span class="kc">false</span><span class="p">;</span>
</span><span id="__span-43-56"><a id="__codelineno-43-56" name="__codelineno-43-56"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-43-57"><a id="__codelineno-43-57" name="__codelineno-43-57"></a>
</span><span id="__span-43-58"><a id="__codelineno-43-58" name="__codelineno-43-58"></a><span class="w">    </span><span class="cm">/**</span>
</span><span id="__span-43-59"><a id="__codelineno-43-59" name="__codelineno-43-59"></a><span class="cm">     * 查询所有图书信息</span>
</span><span id="__span-43-60"><a id="__codelineno-43-60" name="__codelineno-43-60"></a><span class="cm">     * @return</span>
</span><span id="__span-43-61"><a id="__codelineno-43-61" name="__codelineno-43-61"></a><span class="cm">     */</span>
</span><span id="__span-43-62"><a id="__codelineno-43-62" name="__codelineno-43-62"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">listBooks</span><span class="p">(){</span>
</span><span id="__span-43-63"><a id="__codelineno-43-63" name="__codelineno-43-63"></a><span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bookList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bookDAO</span><span class="p">.</span><span class="na">selectBooks</span><span class="p">();</span>
</span><span id="__span-43-64"><a id="__codelineno-43-64" name="__codelineno-43-64"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">bookList</span><span class="p">;</span>
</span><span id="__span-43-65"><a id="__codelineno-43-65" name="__codelineno-43-65"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-43-66"><a id="__codelineno-43-66" name="__codelineno-43-66"></a>
</span><span id="__span-43-67"><a id="__codelineno-43-67" name="__codelineno-43-67"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<h3 id="68">6.8 功能流程实现<a class="headerlink" href="#68" title="Permanent link">&para;</a></h3>
<h4 id="681-jspservlet">6.8.1 创建JSP及Servlet类<a class="headerlink" href="#681-jspservlet" title="Permanent link">&para;</a></h4>
<ol>
<li>在项目创建所需的JSP文件，将设计好的HTML整合到JSP中</li>
<li>创建servlets包，在servlets中创建业务流程实现所需的Servlet类</li>
</ol>
<h4 id="682">6.8.2 管理员登录<a class="headerlink" href="#682" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th><code>login.jsp</code>  ---&gt;   提交账号和密码到LoginCheckServlet</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="image-20211116200041611" src="imgs/image-20211116200041611.png" /></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><code>LoginCheckServlet</code>  ---&gt;  接收账号和密码进行校验，根据校验跳转</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="image-20211116200652142" src="imgs/image-20211116200652142.png" /></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><code>login.jsp</code> ---&gt; 显示登录失败时传递的提示信息</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="image-20211116200932491" src="imgs/image-20211116200932491.png" /></td>
</tr>
</tbody>
</table>
<h4 id="683">6.8.3 添加图书<a class="headerlink" href="#683" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th><code>index.jsp</code> ---&gt; 点击添加图书菜单，显示book-add.jsp</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="image-20211116202227915" src="imgs/image-20211116202227915.png" /></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><code>book-add.jsp</code> ---&gt; 提交数据到BookSaveServlet（表单中有文件上传）</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="image-20211116202457419" src="imgs/image-20211116202457419.png" /></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><code>BookSaveServlet</code> ---&gt; 在Servlet前添加 <code>@MultipartConfig</code>注解</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="image-20211116204213194" src="imgs/image-20211116204213194.png" /></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><code>prompt.jsp</code> ---&gt; 显示提示信息</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="image-20211116203906248" src="imgs/image-20211116203906248.png" /></td>
</tr>
</tbody>
</table>
<p>注意：如果添加的中文出现乱码则添加编码过滤器</p>
<h4 id="684">6.8.4 图书列表<a class="headerlink" href="#684" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th><code>index.jsp</code> ----&gt; 点击图书列表向BookListServlet发送请求</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="image-20211116223248436" src="imgs/image-20211116223248436.png" /></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><code>BookListServlet</code> ---&gt;查询图书信息，转发传递到book-list.jsp</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="image-20211116223450672" src="imgs/image-20211116223450672.png" /></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><code>book-list.jsp</code> ---&gt; JSTL+EL遍历显示图书信息 （需要在项目中引入jstl的2个jar文件）</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="image-20211116224720659" src="imgs/image-20211116224720659.png" /></td>
</tr>
</tbody>
</table>
<h4 id="685">6.8.5 删除图书<a class="headerlink" href="#685" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th><code>book-list.jsp</code>---&gt; 显示图书列表时，将图书id和删除按钮绑定，点击删除时将当前图书的id传递到BookDeleteServlet</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="image-20211116231444817" src="imgs/image-20211116231444817.png" /></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><code>BookDeleteServlet</code> ---&gt; 获取图书ID，删除图书信息，进行提示</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="image-20211116231154693" src="imgs/image-20211116231154693.png" /></td>
</tr>
</tbody>
</table>
<h4 id="686">6.8.6 修改图书<a class="headerlink" href="#686" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th><code>book-list.jsp</code> ---&gt; 点击修改，将图书ID传递到BookQueryServlet</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="image-20211116235257984" src="imgs/image-20211116235257984.png" /></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><code>BookQueryServlet</code> ---&gt; 查询要修改的图书的原始信息</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="image-20211116235646132" src="imgs/image-20211116235646132.png" /></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><code>book-modify.jsp</code> ---&gt; 显示BookQueryServlet传递的图书的原始信息,修改之后提交到BookUpdateServlet<br/>红色标注表示显示图书原始信息、紫色标注表示提交修改</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="image-20211117001900308" src="imgs/image-20211117001900308.png" /></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><code>BookUpdateServlet</code>---&gt; 接收修改后的数据，执行修改，并提示</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="image-20211117002311401" src="imgs/image-20211117002311401.png" /></td>
</tr>
</tbody>
</table>
<h2 id="_1">七、分页功能实现<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<h3 id="71">7.1 分页概念<a class="headerlink" href="#71" title="Permanent link">&para;</a></h3>
<blockquote>
<p>分页是web应用开发中非常重要的一个业务实现。数据库中的数据可能很多（成千上万、几十万、上百万都又可能），不能将这些数据全部查询出来并显示到列表页面。一般我们需要为用户提供<code>翻页功能</code>，例如一次显示10行/20行，然后点击下一页查看接下来的10行/20行。</p>
</blockquote>
<p><img alt="image-20211117010033508" src="imgs/image-20211117010033508.png" /></p>
<h3 id="72">7.2 分页实现思路<a class="headerlink" href="#72" title="Permanent link">&para;</a></h3>
<p><img alt="image-20211117013457645" src="imgs/image-20211117013457645.png" /></p>
<h3 id="73">7.3 分页代码实现<a class="headerlink" href="#73" title="Permanent link">&para;</a></h3>
<h4 id="731-bookdao">7.3.1 BookDAO<a class="headerlink" href="#731-bookdao" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>分页查询数据</p>
<div class="language-java highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-44-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-44-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-44-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-44-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-44-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-44-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-44-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-44-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-44-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-44-10">10</a></span>
<span class="normal"><a href="#__codelineno-44-11">11</a></span>
<span class="normal"><a href="#__codelineno-44-12">12</a></span>
<span class="normal"><a href="#__codelineno-44-13">13</a></span>
<span class="normal"><a href="#__codelineno-44-14">14</a></span>
<span class="normal"><a href="#__codelineno-44-15">15</a></span>
<span class="normal"><a href="#__codelineno-44-16">16</a></span>
<span class="normal"><a href="#__codelineno-44-17">17</a></span>
<span class="normal"><a href="#__codelineno-44-18">18</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1"></a><span class="cm">/**</span>
</span><span id="__span-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2"></a><span class="cm">* 分页查询图书信息</span>
</span><span id="__span-44-3"><a id="__codelineno-44-3" name="__codelineno-44-3"></a><span class="cm">* @param start 查询数据的起始行索引</span>
</span><span id="__span-44-4"><a id="__codelineno-44-4" name="__codelineno-44-4"></a><span class="cm">* @param limit 最多返回的数据记录数（每页显示的条数）</span>
</span><span id="__span-44-5"><a id="__codelineno-44-5" name="__codelineno-44-5"></a><span class="cm">* @return 返回的集合中只包含一页的数据</span>
</span><span id="__span-44-6"><a id="__codelineno-44-6" name="__codelineno-44-6"></a><span class="cm">*/</span>
</span><span id="__span-44-7"><a id="__codelineno-44-7" name="__codelineno-44-7"></a><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">selectBooks</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">start</span><span class="p">,</span><span class="kt">int</span><span class="w"> </span><span class="n">limit</span><span class="p">){</span>
</span><span id="__span-44-8"><a id="__codelineno-44-8" name="__codelineno-44-8"></a><span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bookList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
</span><span id="__span-44-9"><a id="__codelineno-44-9" name="__codelineno-44-9"></a><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-44-10"><a id="__codelineno-44-10" name="__codelineno-44-10"></a><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">sql</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;select book_id bookId,book_name bookName,book_author bookAuthor,book_price bookPrice,book_img_path bookImgPath,book_desc bookDesc,book_stcok bookStock,book_type bookType from books limit ?,?&quot;</span><span class="p">;</span>
</span><span id="__span-44-11"><a id="__codelineno-44-11" name="__codelineno-44-11"></a><span class="w">        </span><span class="n">QueryRunner</span><span class="w"> </span><span class="n">queryRunner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">QueryRunner</span><span class="p">(</span><span class="n">DruidUtils</span><span class="p">.</span><span class="na">getDataSource</span><span class="p">());</span>
</span><span id="__span-44-12"><a id="__codelineno-44-12" name="__codelineno-44-12"></a><span class="w">        </span><span class="n">bookList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>
</span><span id="__span-44-13"><a id="__codelineno-44-13" name="__codelineno-44-13"></a><span class="w">            </span><span class="n">queryRunner</span><span class="p">.</span><span class="na">query</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BeanListHandler</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Book</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="n">start</span><span class="p">,</span><span class="n">limit</span><span class="p">);</span>
</span><span id="__span-44-14"><a id="__codelineno-44-14" name="__codelineno-44-14"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">SQLException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-44-15"><a id="__codelineno-44-15" name="__codelineno-44-15"></a><span class="w">        </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span id="__span-44-16"><a id="__codelineno-44-16" name="__codelineno-44-16"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-44-17"><a id="__codelineno-44-17" name="__codelineno-44-17"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">bookList</span><span class="p">;</span>
</span><span id="__span-44-18"><a id="__codelineno-44-18" name="__codelineno-44-18"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
</li>
</ul>
<ul>
<li>
<p>查询总记录数</p>
<div class="language-java highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-45-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-45-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-45-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-45-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-45-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-45-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-45-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-45-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-45-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-45-10">10</a></span>
<span class="normal"><a href="#__codelineno-45-11">11</a></span>
<span class="normal"><a href="#__codelineno-45-12">12</a></span>
<span class="normal"><a href="#__codelineno-45-13">13</a></span>
<span class="normal"><a href="#__codelineno-45-14">14</a></span>
<span class="normal"><a href="#__codelineno-45-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1"></a><span class="cm">/**</span>
</span><span id="__span-45-2"><a id="__codelineno-45-2" name="__codelineno-45-2"></a><span class="cm">* 查询图书的总记录数</span>
</span><span id="__span-45-3"><a id="__codelineno-45-3" name="__codelineno-45-3"></a><span class="cm">* @return</span>
</span><span id="__span-45-4"><a id="__codelineno-45-4" name="__codelineno-45-4"></a><span class="cm">*/</span>
</span><span id="__span-45-5"><a id="__codelineno-45-5" name="__codelineno-45-5"></a><span class="kd">public</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="nf">selectBookCount</span><span class="p">(){</span>
</span><span id="__span-45-6"><a id="__codelineno-45-6" name="__codelineno-45-6"></a><span class="w">    </span><span class="kt">long</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-45-7"><a id="__codelineno-45-7" name="__codelineno-45-7"></a><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-45-8"><a id="__codelineno-45-8" name="__codelineno-45-8"></a><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">sql</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;select count(1) from books&quot;</span><span class="p">;</span>
</span><span id="__span-45-9"><a id="__codelineno-45-9" name="__codelineno-45-9"></a><span class="w">        </span><span class="n">QueryRunner</span><span class="w"> </span><span class="n">queryRunner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">QueryRunner</span><span class="p">(</span><span class="n">DruidUtils</span><span class="p">.</span><span class="na">getDataSource</span><span class="p">());</span>
</span><span id="__span-45-10"><a id="__codelineno-45-10" name="__codelineno-45-10"></a><span class="w">        </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">queryRunner</span><span class="p">.</span><span class="na">query</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span><span class="k">new</span><span class="w"> </span><span class="n">ScalarHandler</span><span class="o">&lt;</span><span class="n">Long</span><span class="o">&gt;</span><span class="p">());</span>
</span><span id="__span-45-11"><a id="__codelineno-45-11" name="__codelineno-45-11"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">SQLException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-45-12"><a id="__codelineno-45-12" name="__codelineno-45-12"></a><span class="w">        </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
</span><span id="__span-45-13"><a id="__codelineno-45-13" name="__codelineno-45-13"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-45-14"><a id="__codelineno-45-14" name="__codelineno-45-14"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">count</span><span class="p">;</span>
</span><span id="__span-45-15"><a id="__codelineno-45-15" name="__codelineno-45-15"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
</li>
</ul>
<h4 id="732-bookservice">7.3.2 BookService<a class="headerlink" href="#732-bookservice" title="Permanent link">&para;</a></h4>
<ul>
<li>根据页码、每页条数查询当前页的数据</li>
</ul>
<ul>
<li>
<p>根据每页条数计算总页数</p>
<div class="language-java highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-46-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-46-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-46-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-46-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-46-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-46-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-46-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-46-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-46-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-46-10">10</a></span>
<span class="normal"><a href="#__codelineno-46-11">11</a></span>
<span class="normal"><a href="#__codelineno-46-12">12</a></span>
<span class="normal"><a href="#__codelineno-46-13">13</a></span>
<span class="normal"><a href="#__codelineno-46-14">14</a></span>
<span class="normal"><a href="#__codelineno-46-15">15</a></span>
<span class="normal"><a href="#__codelineno-46-16">16</a></span>
<span class="normal"><a href="#__codelineno-46-17">17</a></span>
<span class="normal"><a href="#__codelineno-46-18">18</a></span>
<span class="normal"><a href="#__codelineno-46-19">19</a></span>
<span class="normal"><a href="#__codelineno-46-20">20</a></span>
<span class="normal"><a href="#__codelineno-46-21">21</a></span>
<span class="normal"><a href="#__codelineno-46-22">22</a></span>
<span class="normal"><a href="#__codelineno-46-23">23</a></span>
<span class="normal"><a href="#__codelineno-46-24">24</a></span>
<span class="normal"><a href="#__codelineno-46-25">25</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1"></a><span class="cm">/**</span>
</span><span id="__span-46-2"><a id="__codelineno-46-2" name="__codelineno-46-2"></a><span class="cm">     * 分页查询图书信息</span>
</span><span id="__span-46-3"><a id="__codelineno-46-3" name="__codelineno-46-3"></a><span class="cm">     * @param pageNum 页码</span>
</span><span id="__span-46-4"><a id="__codelineno-46-4" name="__codelineno-46-4"></a><span class="cm">     * @param pageSize 每页显示的条数</span>
</span><span id="__span-46-5"><a id="__codelineno-46-5" name="__codelineno-46-5"></a><span class="cm">     * @return</span>
</span><span id="__span-46-6"><a id="__codelineno-46-6" name="__codelineno-46-6"></a><span class="cm">     */</span>
</span><span id="__span-46-7"><a id="__codelineno-46-7" name="__codelineno-46-7"></a><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">listBooksByPage</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">pageNum</span><span class="p">,</span><span class="kt">int</span><span class="w"> </span><span class="n">pageSize</span><span class="p">){</span>
</span><span id="__span-46-8"><a id="__codelineno-46-8" name="__codelineno-46-8"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">pageNum</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">pageSize</span><span class="p">;</span>
</span><span id="__span-46-9"><a id="__codelineno-46-9" name="__codelineno-46-9"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pageSize</span><span class="p">;</span>
</span><span id="__span-46-10"><a id="__codelineno-46-10" name="__codelineno-46-10"></a><span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bookList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bookDAO</span><span class="p">.</span><span class="na">selectBooks</span><span class="p">(</span><span class="n">start</span><span class="p">,</span><span class="n">limit</span><span class="p">);</span>
</span><span id="__span-46-11"><a id="__codelineno-46-11" name="__codelineno-46-11"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">bookList</span><span class="p">;</span>
</span><span id="__span-46-12"><a id="__codelineno-46-12" name="__codelineno-46-12"></a><span class="p">}</span>
</span><span id="__span-46-13"><a id="__codelineno-46-13" name="__codelineno-46-13"></a>
</span><span id="__span-46-14"><a id="__codelineno-46-14" name="__codelineno-46-14"></a><span class="cm">/**</span>
</span><span id="__span-46-15"><a id="__codelineno-46-15" name="__codelineno-46-15"></a><span class="cm">     * 查询图书总页数</span>
</span><span id="__span-46-16"><a id="__codelineno-46-16" name="__codelineno-46-16"></a><span class="cm">     * @param pageSize 每页显示的条数</span>
</span><span id="__span-46-17"><a id="__codelineno-46-17" name="__codelineno-46-17"></a><span class="cm">     * @return</span>
</span><span id="__span-46-18"><a id="__codelineno-46-18" name="__codelineno-46-18"></a><span class="cm">     */</span>
</span><span id="__span-46-19"><a id="__codelineno-46-19" name="__codelineno-46-19"></a><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getPageCount</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">pageSize</span><span class="p">){</span>
</span><span id="__span-46-20"><a id="__codelineno-46-20" name="__codelineno-46-20"></a><span class="w">    </span><span class="c1">//1.查询总记录</span>
</span><span id="__span-46-21"><a id="__codelineno-46-21" name="__codelineno-46-21"></a><span class="w">    </span><span class="kt">long</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bookDAO</span><span class="p">.</span><span class="na">selectBookCount</span><span class="p">();</span>
</span><span id="__span-46-22"><a id="__codelineno-46-22" name="__codelineno-46-22"></a><span class="w">    </span><span class="c1">//2.根据总记录数和每页显示的条数，计算总页数</span>
</span><span id="__span-46-23"><a id="__codelineno-46-23" name="__codelineno-46-23"></a><span class="w">    </span><span class="kt">long</span><span class="w"> </span><span class="n">pageCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">count</span><span class="o">%</span><span class="n">pageSize</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">count</span><span class="o">/</span><span class="n">pageSize</span><span class="p">:</span><span class="w"> </span><span class="n">count</span><span class="o">/</span><span class="n">pageSize</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-46-24"><a id="__codelineno-46-24" name="__codelineno-46-24"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">pageCount</span><span class="p">;</span>
</span><span id="__span-46-25"><a id="__codelineno-46-25" name="__codelineno-46-25"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
</li>
</ul>
<h4 id="733-booklistservlet">7.3.3 BookListServlet<a class="headerlink" href="#733-booklistservlet" title="Permanent link">&para;</a></h4>
<p>1.接收页码 pageNum</p>
<p>2.定义每页显示条数 pageSize</p>
<p>3.查询当前页数据 bookList</p>
<p>4.查询总记录数 pageCount</p>
<p>5.转发到列表页面</p>
<div class="language-java highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-47-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-47-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-47-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-47-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-47-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-47-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-47-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-47-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-47-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-47-10">10</a></span>
<span class="normal"><a href="#__codelineno-47-11">11</a></span>
<span class="normal"><a href="#__codelineno-47-12">12</a></span>
<span class="normal"><a href="#__codelineno-47-13">13</a></span>
<span class="normal"><a href="#__codelineno-47-14">14</a></span>
<span class="normal"><a href="#__codelineno-47-15">15</a></span>
<span class="normal"><a href="#__codelineno-47-16">16</a></span>
<span class="normal"><a href="#__codelineno-47-17">17</a></span>
<span class="normal"><a href="#__codelineno-47-18">18</a></span>
<span class="normal"><a href="#__codelineno-47-19">19</a></span>
<span class="normal"><a href="#__codelineno-47-20">20</a></span>
<span class="normal"><a href="#__codelineno-47-21">21</a></span>
<span class="normal"><a href="#__codelineno-47-22">22</a></span>
<span class="normal"><a href="#__codelineno-47-23">23</a></span>
<span class="normal"><a href="#__codelineno-47-24">24</a></span>
<span class="normal"><a href="#__codelineno-47-25">25</a></span>
<span class="normal"><a href="#__codelineno-47-26">26</a></span>
<span class="normal"><a href="#__codelineno-47-27">27</a></span>
<span class="normal"><a href="#__codelineno-47-28">28</a></span>
<span class="normal"><a href="#__codelineno-47-29">29</a></span>
<span class="normal"><a href="#__codelineno-47-30">30</a></span>
<span class="normal"><a href="#__codelineno-47-31">31</a></span>
<span class="normal"><a href="#__codelineno-47-32">32</a></span>
<span class="normal"><a href="#__codelineno-47-33">33</a></span>
<span class="normal"><a href="#__codelineno-47-34">34</a></span>
<span class="normal"><a href="#__codelineno-47-35">35</a></span>
<span class="normal"><a href="#__codelineno-47-36">36</a></span>
<span class="normal"><a href="#__codelineno-47-37">37</a></span>
<span class="normal"><a href="#__codelineno-47-38">38</a></span>
<span class="normal"><a href="#__codelineno-47-39">39</a></span>
<span class="normal"><a href="#__codelineno-47-40">40</a></span>
<span class="normal"><a href="#__codelineno-47-41">41</a></span>
<span class="normal"><a href="#__codelineno-47-42">42</a></span>
<span class="normal"><a href="#__codelineno-47-43">43</a></span>
<span class="normal"><a href="#__codelineno-47-44">44</a></span>
<span class="normal"><a href="#__codelineno-47-45">45</a></span>
<span class="normal"><a href="#__codelineno-47-46">46</a></span>
<span class="normal"><a href="#__codelineno-47-47">47</a></span>
<span class="normal"><a href="#__codelineno-47-48">48</a></span>
<span class="normal"><a href="#__codelineno-47-49">49</a></span>
<span class="normal"><a href="#__codelineno-47-50">50</a></span>
<span class="normal"><a href="#__codelineno-47-51">51</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.qfedu.bookmall.ms.servlets</span><span class="p">;</span>
</span><span id="__span-47-2"><a id="__codelineno-47-2" name="__codelineno-47-2"></a>
</span><span id="__span-47-3"><a id="__codelineno-47-3" name="__codelineno-47-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.qfedu.bookmall.ms.dto.Book</span><span class="p">;</span>
</span><span id="__span-47-4"><a id="__codelineno-47-4" name="__codelineno-47-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.qfedu.bookmall.ms.service.BookService</span><span class="p">;</span>
</span><span id="__span-47-5"><a id="__codelineno-47-5" name="__codelineno-47-5"></a>
</span><span id="__span-47-6"><a id="__codelineno-47-6" name="__codelineno-47-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.servlet.ServletException</span><span class="p">;</span>
</span><span id="__span-47-7"><a id="__codelineno-47-7" name="__codelineno-47-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.servlet.annotation.WebServlet</span><span class="p">;</span>
</span><span id="__span-47-8"><a id="__codelineno-47-8" name="__codelineno-47-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.servlet.http.HttpServlet</span><span class="p">;</span>
</span><span id="__span-47-9"><a id="__codelineno-47-9" name="__codelineno-47-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.servlet.http.HttpServletRequest</span><span class="p">;</span>
</span><span id="__span-47-10"><a id="__codelineno-47-10" name="__codelineno-47-10"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.servlet.http.HttpServletResponse</span><span class="p">;</span>
</span><span id="__span-47-11"><a id="__codelineno-47-11" name="__codelineno-47-11"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.io.IOException</span><span class="p">;</span>
</span><span id="__span-47-12"><a id="__codelineno-47-12" name="__codelineno-47-12"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
</span><span id="__span-47-13"><a id="__codelineno-47-13" name="__codelineno-47-13"></a>
</span><span id="__span-47-14"><a id="__codelineno-47-14" name="__codelineno-47-14"></a><span class="cm">/**</span>
</span><span id="__span-47-15"><a id="__codelineno-47-15" name="__codelineno-47-15"></a><span class="cm"> * @Description  分页查询图书信息</span>
</span><span id="__span-47-16"><a id="__codelineno-47-16" name="__codelineno-47-16"></a><span class="cm"> * @Author 千锋涛哥</span>
</span><span id="__span-47-17"><a id="__codelineno-47-17" name="__codelineno-47-17"></a><span class="cm"> * 公众号： Java架构栈</span>
</span><span id="__span-47-18"><a id="__codelineno-47-18" name="__codelineno-47-18"></a><span class="cm"> */</span>
</span><span id="__span-47-19"><a id="__codelineno-47-19" name="__codelineno-47-19"></a><span class="nd">@WebServlet</span><span class="p">(</span><span class="s">&quot;/BookListServlet&quot;</span><span class="p">)</span>
</span><span id="__span-47-20"><a id="__codelineno-47-20" name="__codelineno-47-20"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">BookListServlet</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">HttpServlet</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-47-21"><a id="__codelineno-47-21" name="__codelineno-47-21"></a>
</span><span id="__span-47-22"><a id="__codelineno-47-22" name="__codelineno-47-22"></a><span class="w">    </span><span class="nd">@Override</span>
</span><span id="__span-47-23"><a id="__codelineno-47-23" name="__codelineno-47-23"></a><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doGet</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">)</span><span class="w"> </span>
</span><span id="__span-47-24"><a id="__codelineno-47-24" name="__codelineno-47-24"></a><span class="w">        </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-47-25"><a id="__codelineno-47-25" name="__codelineno-47-25"></a><span class="w">        </span><span class="n">doPost</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">);</span>
</span><span id="__span-47-26"><a id="__codelineno-47-26" name="__codelineno-47-26"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-47-27"><a id="__codelineno-47-27" name="__codelineno-47-27"></a>
</span><span id="__span-47-28"><a id="__codelineno-47-28" name="__codelineno-47-28"></a><span class="w">    </span><span class="nd">@Override</span>
</span><span id="__span-47-29"><a id="__codelineno-47-29" name="__codelineno-47-29"></a><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doPost</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">)</span><span class="w"> </span>
</span><span id="__span-47-30"><a id="__codelineno-47-30" name="__codelineno-47-30"></a><span class="w">        </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-47-31"><a id="__codelineno-47-31" name="__codelineno-47-31"></a><span class="w">        </span><span class="c1">//1.接收客户端传递的页码</span>
</span><span id="__span-47-32"><a id="__codelineno-47-32" name="__codelineno-47-32"></a><span class="w">        </span><span class="c1">//  (如果客户端没有传递页码，则默认页码为1，如果传递了则使用客户端传递的页码)</span>
</span><span id="__span-47-33"><a id="__codelineno-47-33" name="__codelineno-47-33"></a><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">getParameter</span><span class="p">(</span><span class="s">&quot;pageNum&quot;</span><span class="p">);</span>
</span><span id="__span-47-34"><a id="__codelineno-47-34" name="__codelineno-47-34"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">pageNum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">num</span><span class="o">==</span><span class="kc">null</span><span class="o">?</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span><span class="w"> </span><span class="n">Integer</span><span class="p">.</span><span class="na">parseInt</span><span class="p">(</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="p">);</span>
</span><span id="__span-47-35"><a id="__codelineno-47-35" name="__codelineno-47-35"></a><span class="w">        </span><span class="c1">//2.定义pageSize</span>
</span><span id="__span-47-36"><a id="__codelineno-47-36" name="__codelineno-47-36"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">pageSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
</span><span id="__span-47-37"><a id="__codelineno-47-37" name="__codelineno-47-37"></a>
</span><span id="__span-47-38"><a id="__codelineno-47-38" name="__codelineno-47-38"></a><span class="w">        </span><span class="c1">//3.调用BookService查询这一页的图书信息</span>
</span><span id="__span-47-39"><a id="__codelineno-47-39" name="__codelineno-47-39"></a><span class="w">        </span><span class="n">BookService</span><span class="w"> </span><span class="n">bookService</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BookService</span><span class="p">();</span>
</span><span id="__span-47-40"><a id="__codelineno-47-40" name="__codelineno-47-40"></a><span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bookList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bookService</span><span class="p">.</span><span class="na">listBooksByPage</span><span class="p">(</span><span class="n">pageNum</span><span class="p">,</span><span class="n">pageSize</span><span class="p">);</span>
</span><span id="__span-47-41"><a id="__codelineno-47-41" name="__codelineno-47-41"></a><span class="w">        </span><span class="c1">//4.调用BookService查询图书的总页数</span>
</span><span id="__span-47-42"><a id="__codelineno-47-42" name="__codelineno-47-42"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">pageCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bookService</span><span class="p">.</span><span class="na">getPageCount</span><span class="p">(</span><span class="n">pageSize</span><span class="p">);</span>
</span><span id="__span-47-43"><a id="__codelineno-47-43" name="__codelineno-47-43"></a>
</span><span id="__span-47-44"><a id="__codelineno-47-44" name="__codelineno-47-44"></a>
</span><span id="__span-47-45"><a id="__codelineno-47-45" name="__codelineno-47-45"></a><span class="w">        </span><span class="c1">//5.将查询到的当前页数据的集合、当前页码、总页数  转发到book-list.jsp</span>
</span><span id="__span-47-46"><a id="__codelineno-47-46" name="__codelineno-47-46"></a><span class="w">        </span><span class="n">request</span><span class="p">.</span><span class="na">setAttribute</span><span class="p">(</span><span class="s">&quot;bookList&quot;</span><span class="p">,</span><span class="n">bookList</span><span class="p">);</span>
</span><span id="__span-47-47"><a id="__codelineno-47-47" name="__codelineno-47-47"></a><span class="w">        </span><span class="n">request</span><span class="p">.</span><span class="na">setAttribute</span><span class="p">(</span><span class="s">&quot;pageNum&quot;</span><span class="p">,</span><span class="n">pageNum</span><span class="p">);</span>
</span><span id="__span-47-48"><a id="__codelineno-47-48" name="__codelineno-47-48"></a><span class="w">        </span><span class="n">request</span><span class="p">.</span><span class="na">setAttribute</span><span class="p">(</span><span class="s">&quot;pageCount&quot;</span><span class="p">,</span><span class="n">pageCount</span><span class="p">);</span>
</span><span id="__span-47-49"><a id="__codelineno-47-49" name="__codelineno-47-49"></a><span class="w">        </span><span class="n">request</span><span class="p">.</span><span class="na">getRequestDispatcher</span><span class="p">(</span><span class="s">&quot;book-list.jsp&quot;</span><span class="p">).</span><span class="na">forward</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="n">response</span><span class="p">);</span>
</span><span id="__span-47-50"><a id="__codelineno-47-50" name="__codelineno-47-50"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-47-51"><a id="__codelineno-47-51" name="__codelineno-47-51"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<h4 id="74-book-listjsp">7.4 book-list.jsp<a class="headerlink" href="#74-book-listjsp" title="Permanent link">&para;</a></h4>
<div class="language-jsp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java Server Page</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-48-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-48-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-48-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-48-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-48-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-48-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-48-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-48-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-48-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-48-10">10</a></span>
<span class="normal"><a href="#__codelineno-48-11">11</a></span>
<span class="normal"><a href="#__codelineno-48-12">12</a></span>
<span class="normal"><a href="#__codelineno-48-13">13</a></span>
<span class="normal"><a href="#__codelineno-48-14">14</a></span>
<span class="normal"><a href="#__codelineno-48-15">15</a></span>
<span class="normal"><a href="#__codelineno-48-16">16</a></span>
<span class="normal"><a href="#__codelineno-48-17">17</a></span>
<span class="normal"><a href="#__codelineno-48-18">18</a></span>
<span class="normal"><a href="#__codelineno-48-19">19</a></span>
<span class="normal"><a href="#__codelineno-48-20">20</a></span>
<span class="normal"><a href="#__codelineno-48-21">21</a></span>
<span class="normal"><a href="#__codelineno-48-22">22</a></span>
<span class="normal"><a href="#__codelineno-48-23">23</a></span>
<span class="normal"><a href="#__codelineno-48-24">24</a></span>
<span class="normal"><a href="#__codelineno-48-25">25</a></span>
<span class="normal"><a href="#__codelineno-48-26">26</a></span>
<span class="normal"><a href="#__codelineno-48-27">27</a></span>
<span class="normal"><a href="#__codelineno-48-28">28</a></span>
<span class="normal"><a href="#__codelineno-48-29">29</a></span>
<span class="normal"><a href="#__codelineno-48-30">30</a></span>
<span class="normal"><a href="#__codelineno-48-31">31</a></span>
<span class="normal"><a href="#__codelineno-48-32">32</a></span>
<span class="normal"><a href="#__codelineno-48-33">33</a></span>
<span class="normal"><a href="#__codelineno-48-34">34</a></span>
<span class="normal"><a href="#__codelineno-48-35">35</a></span>
<span class="normal"><a href="#__codelineno-48-36">36</a></span>
<span class="normal"><a href="#__codelineno-48-37">37</a></span>
<span class="normal"><a href="#__codelineno-48-38">38</a></span>
<span class="normal"><a href="#__codelineno-48-39">39</a></span>
<span class="normal"><a href="#__codelineno-48-40">40</a></span>
<span class="normal"><a href="#__codelineno-48-41">41</a></span>
<span class="normal"><a href="#__codelineno-48-42">42</a></span>
<span class="normal"><a href="#__codelineno-48-43">43</a></span>
<span class="normal"><a href="#__codelineno-48-44">44</a></span>
<span class="normal"><a href="#__codelineno-48-45">45</a></span>
<span class="normal"><a href="#__codelineno-48-46">46</a></span>
<span class="normal"><a href="#__codelineno-48-47">47</a></span>
<span class="normal"><a href="#__codelineno-48-48">48</a></span>
<span class="normal"><a href="#__codelineno-48-49">49</a></span>
<span class="normal"><a href="#__codelineno-48-50">50</a></span>
<span class="normal"><a href="#__codelineno-48-51">51</a></span>
<span class="normal"><a href="#__codelineno-48-52">52</a></span>
<span class="normal"><a href="#__codelineno-48-53">53</a></span>
<span class="normal"><a href="#__codelineno-48-54">54</a></span>
<span class="normal"><a href="#__codelineno-48-55">55</a></span>
<span class="normal"><a href="#__codelineno-48-56">56</a></span>
<span class="normal"><a href="#__codelineno-48-57">57</a></span>
<span class="normal"><a href="#__codelineno-48-58">58</a></span>
<span class="normal"><a href="#__codelineno-48-59">59</a></span>
<span class="normal"><a href="#__codelineno-48-60">60</a></span>
<span class="normal"><a href="#__codelineno-48-61">61</a></span>
<span class="normal"><a href="#__codelineno-48-62">62</a></span>
<span class="normal"><a href="#__codelineno-48-63">63</a></span>
<span class="normal"><a href="#__codelineno-48-64">64</a></span>
<span class="normal"><a href="#__codelineno-48-65">65</a></span>
<span class="normal"><a href="#__codelineno-48-66">66</a></span>
<span class="normal"><a href="#__codelineno-48-67">67</a></span>
<span class="normal"><a href="#__codelineno-48-68">68</a></span>
<span class="normal"><a href="#__codelineno-48-69">69</a></span>
<span class="normal"><a href="#__codelineno-48-70">70</a></span>
<span class="normal"><a href="#__codelineno-48-71">71</a></span>
<span class="normal"><a href="#__codelineno-48-72">72</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1"></a><span class="k">&lt;%@</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="n">contentType</span><span class="o">=</span><span class="s">&quot;text/html;charset=UTF-8&quot;</span><span class="w"> </span><span class="n">language</span><span class="o">=</span><span class="s">&quot;java&quot;</span><span class="w"> </span><span class="k">%&gt;</span>
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2"></a><span class="k">&lt;%@</span><span class="w"> </span><span class="n">taglib</span><span class="w"> </span><span class="n">prefix</span><span class="o">=</span><span class="s">&quot;c&quot;</span><span class="w"> </span><span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://java.sun.com/jsp/jstl/core&quot;</span><span class="w"> </span><span class="k">%&gt;</span>
</span><span id="__span-48-3"><a id="__codelineno-48-3" name="__codelineno-48-3"></a><span class="k">&lt;%@</span><span class="w"> </span><span class="n">taglib</span><span class="w"> </span><span class="n">prefix</span><span class="o">=</span><span class="s">&quot;fmt&quot;</span><span class="w"> </span><span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://java.sun.com/jsp/jstl/fmt&quot;</span><span class="w"> </span><span class="k">%&gt;</span>
</span><span id="__span-48-4"><a id="__codelineno-48-4" name="__codelineno-48-4"></a><span class="nt">&lt;html&gt;</span>
</span><span id="__span-48-5"><a id="__codelineno-48-5" name="__codelineno-48-5"></a><span class="w">  </span><span class="nt">&lt;head&gt;</span>
</span><span id="__span-48-6"><a id="__codelineno-48-6" name="__codelineno-48-6"></a><span class="w">    </span><span class="nt">&lt;meta</span><span class="w"> </span><span class="na">charset=</span><span class="s">&quot;utf-8&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-48-7"><a id="__codelineno-48-7" name="__codelineno-48-7"></a><span class="w">    </span><span class="nt">&lt;title&gt;&lt;/title&gt;</span>
</span><span id="__span-48-8"><a id="__codelineno-48-8" name="__codelineno-48-8"></a><span class="w">  </span><span class="nt">&lt;/head&gt;</span>
</span><span id="__span-48-9"><a id="__codelineno-48-9" name="__codelineno-48-9"></a><span class="w">  </span><span class="nt">&lt;body&gt;</span>
</span><span id="__span-48-10"><a id="__codelineno-48-10" name="__codelineno-48-10"></a><span class="w">  </span><span class="nt">&lt;h3&gt;</span>图书信息列表<span class="nt">&lt;/h3&gt;</span>
</span><span id="__span-48-11"><a id="__codelineno-48-11" name="__codelineno-48-11"></a><span class="w">    </span><span class="nt">&lt;table</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;90%&quot;</span><span class="w"> </span><span class="na">align=</span><span class="s">&quot;center&quot;</span><span class="w"> </span><span class="na">border=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="na">cellspacing=</span><span class="s">&quot;0&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-48-12"><a id="__codelineno-48-12" name="__codelineno-48-12"></a><span class="w">      </span><span class="nt">&lt;tr&gt;</span>
</span><span id="__span-48-13"><a id="__codelineno-48-13" name="__codelineno-48-13"></a><span class="w">        </span><span class="nt">&lt;th&gt;</span>编号<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-48-14"><a id="__codelineno-48-14" name="__codelineno-48-14"></a><span class="w">        </span><span class="nt">&lt;th&gt;</span>封面<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-48-15"><a id="__codelineno-48-15" name="__codelineno-48-15"></a><span class="w">        </span><span class="nt">&lt;th&gt;</span>名称<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-48-16"><a id="__codelineno-48-16" name="__codelineno-48-16"></a><span class="w">        </span><span class="nt">&lt;th&gt;</span>作者<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-48-17"><a id="__codelineno-48-17" name="__codelineno-48-17"></a><span class="w">        </span><span class="nt">&lt;th&gt;</span>价格<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-48-18"><a id="__codelineno-48-18" name="__codelineno-48-18"></a><span class="w">        </span><span class="nt">&lt;th&gt;</span>库存<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-48-19"><a id="__codelineno-48-19" name="__codelineno-48-19"></a><span class="w">        </span><span class="nt">&lt;th&gt;</span>描述<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-48-20"><a id="__codelineno-48-20" name="__codelineno-48-20"></a><span class="w">        </span><span class="nt">&lt;th&gt;</span>类型<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-48-21"><a id="__codelineno-48-21" name="__codelineno-48-21"></a><span class="w">        </span><span class="nt">&lt;th&gt;</span>操作<span class="nt">&lt;/th&gt;</span>
</span><span id="__span-48-22"><a id="__codelineno-48-22" name="__codelineno-48-22"></a><span class="w">      </span><span class="nt">&lt;/tr&gt;</span>
</span><span id="__span-48-23"><a id="__codelineno-48-23" name="__codelineno-48-23"></a><span class="w">      </span><span class="nt">&lt;c:forEach</span><span class="w"> </span><span class="na">items=</span><span class="s">&quot;${bookList}&quot;</span><span class="w"> </span><span class="na">var=</span><span class="s">&quot;book&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-48-24"><a id="__codelineno-48-24" name="__codelineno-48-24"></a><span class="w">        </span><span class="nt">&lt;tr&gt;</span>
</span><span id="__span-48-25"><a id="__codelineno-48-25" name="__codelineno-48-25"></a><span class="w">          </span><span class="nt">&lt;td&gt;</span>${book.bookId}<span class="nt">&lt;/td&gt;</span>
</span><span id="__span-48-26"><a id="__codelineno-48-26" name="__codelineno-48-26"></a><span class="w">          </span><span class="nt">&lt;td&gt;&lt;img</span><span class="w"> </span><span class="na">src=</span><span class="s">&quot;${book.bookImgPath}&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;50&quot;</span><span class="nt">&gt;&lt;/td&gt;</span>
</span><span id="__span-48-27"><a id="__codelineno-48-27" name="__codelineno-48-27"></a><span class="w">          </span><span class="nt">&lt;td&gt;</span>${book.bookName}<span class="nt">&lt;/td&gt;</span>
</span><span id="__span-48-28"><a id="__codelineno-48-28" name="__codelineno-48-28"></a><span class="w">          </span><span class="nt">&lt;td&gt;</span>${book.bookAuthor}<span class="nt">&lt;/td&gt;</span>
</span><span id="__span-48-29"><a id="__codelineno-48-29" name="__codelineno-48-29"></a><span class="w">          </span><span class="nt">&lt;td&gt;&lt;fmt:formatNumber</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;${book.bookPrice}&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;currency&quot;</span><span class="w"> </span><span class="nt">/&gt;&lt;/td&gt;</span>
</span><span id="__span-48-30"><a id="__codelineno-48-30" name="__codelineno-48-30"></a><span class="w">          </span><span class="nt">&lt;td&gt;</span>${book.bookStock}<span class="nt">&lt;/td&gt;</span>
</span><span id="__span-48-31"><a id="__codelineno-48-31" name="__codelineno-48-31"></a><span class="w">          </span><span class="nt">&lt;td&gt;</span>${book.bookDesc}<span class="nt">&lt;/td&gt;</span>
</span><span id="__span-48-32"><a id="__codelineno-48-32" name="__codelineno-48-32"></a><span class="w">          </span><span class="nt">&lt;td&gt;</span>
</span><span id="__span-48-33"><a id="__codelineno-48-33" name="__codelineno-48-33"></a><span class="w">            </span><span class="nt">&lt;c:if</span><span class="w"> </span><span class="na">test=</span><span class="s">&quot;${book.bookType ==1}&quot;</span><span class="nt">&gt;</span>原创<span class="nt">&lt;/c:if&gt;</span>
</span><span id="__span-48-34"><a id="__codelineno-48-34" name="__codelineno-48-34"></a><span class="w">            </span><span class="nt">&lt;c:if</span><span class="w"> </span><span class="na">test=</span><span class="s">&quot;${book.bookType ==2}&quot;</span><span class="nt">&gt;</span>翻译<span class="nt">&lt;/c:if&gt;</span>
</span><span id="__span-48-35"><a id="__codelineno-48-35" name="__codelineno-48-35"></a><span class="w">          </span><span class="nt">&lt;/td&gt;</span>
</span><span id="__span-48-36"><a id="__codelineno-48-36" name="__codelineno-48-36"></a><span class="w">          </span><span class="nt">&lt;td&gt;</span>
</span><span id="__span-48-37"><a id="__codelineno-48-37" name="__codelineno-48-37"></a><span class="w">            </span><span class="nt">&lt;a</span><span class="w"> </span><span class="na">href=</span><span class="s">&quot;BookQueryServlet?bookId=${book.bookId}&quot;</span><span class="nt">&gt;</span>修改<span class="nt">&lt;/a&gt;</span>
</span><span id="__span-48-38"><a id="__codelineno-48-38" name="__codelineno-48-38"></a><span class="w">            </span><span class="nt">&lt;a</span><span class="w"> </span><span class="na">href=</span><span class="s">&quot;BookDeleteServlet?bookId=${book.bookId}&quot;</span>
</span><span id="__span-48-39"><a id="__codelineno-48-39" name="__codelineno-48-39"></a><span class="w">               </span><span class="na">onclick=</span><span class="s">&quot;javascript:return confirm(&#39;你确定删除吗？&#39;)&quot;</span><span class="nt">&gt;</span>删除<span class="nt">&lt;/a&gt;</span>
</span><span id="__span-48-40"><a id="__codelineno-48-40" name="__codelineno-48-40"></a><span class="w">          </span><span class="nt">&lt;/td&gt;</span>
</span><span id="__span-48-41"><a id="__codelineno-48-41" name="__codelineno-48-41"></a><span class="w">        </span><span class="nt">&lt;/tr&gt;</span>
</span><span id="__span-48-42"><a id="__codelineno-48-42" name="__codelineno-48-42"></a><span class="w">      </span><span class="nt">&lt;/c:forEach&gt;</span>
</span><span id="__span-48-43"><a id="__codelineno-48-43" name="__codelineno-48-43"></a><span class="w">      </span><span class="cm">&lt;!--  显示分页效果及页码切换 --&gt;</span>
</span><span id="__span-48-44"><a id="__codelineno-48-44" name="__codelineno-48-44"></a><span class="w">      </span><span class="nt">&lt;tr</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;50&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-48-45"><a id="__codelineno-48-45" name="__codelineno-48-45"></a><span class="w">        </span><span class="nt">&lt;td</span><span class="w"> </span><span class="na">colspan=</span><span class="s">&quot;9&quot;</span><span class="w"> </span><span class="na">align=</span><span class="s">&quot;center&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-48-46"><a id="__codelineno-48-46" name="__codelineno-48-46"></a><span class="w">            </span><span class="cm">&lt;!--显示首页、上一页：如果当前页就是第一页，则不显示超链接--&gt;</span>
</span><span id="__span-48-47"><a id="__codelineno-48-47" name="__codelineno-48-47"></a><span class="w">            </span><span class="nt">&lt;c:if</span><span class="w"> </span><span class="na">test=</span><span class="s">&quot;${pageNum ==1 }&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-48-48"><a id="__codelineno-48-48" name="__codelineno-48-48"></a><span class="w">                </span><span class="nt">&lt;label</span><span class="w"> </span><span class="na">style=</span><span class="s">&quot;color:gray&quot;</span><span class="nt">&gt;</span>首页<span class="nt">&lt;/label&gt;</span>
</span><span id="__span-48-49"><a id="__codelineno-48-49" name="__codelineno-48-49"></a><span class="w">                </span><span class="nt">&lt;label</span><span class="w"> </span><span class="na">style=</span><span class="s">&quot;color:gray&quot;</span><span class="nt">&gt;</span>上一页<span class="nt">&lt;/label&gt;</span>
</span><span id="__span-48-50"><a id="__codelineno-48-50" name="__codelineno-48-50"></a><span class="w">            </span><span class="nt">&lt;/c:if&gt;</span>
</span><span id="__span-48-51"><a id="__codelineno-48-51" name="__codelineno-48-51"></a><span class="w">            </span><span class="nt">&lt;c:if</span><span class="w"> </span><span class="na">test=</span><span class="s">&quot;${pageNum &gt; 1 }&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-48-52"><a id="__codelineno-48-52" name="__codelineno-48-52"></a><span class="w">                </span><span class="nt">&lt;a</span><span class="w"> </span><span class="na">href=</span><span class="s">&quot;BookListServlet?pageNum=1&quot;</span><span class="nt">&gt;</span>首页<span class="nt">&lt;/a&gt;</span>
</span><span id="__span-48-53"><a id="__codelineno-48-53" name="__codelineno-48-53"></a><span class="w">              </span><span class="nt">&lt;a</span><span class="w"> </span><span class="na">href=</span><span class="s">&quot;BookListServlet?pageNum=${pageNum-1}&quot;</span><span class="nt">&gt;</span>上一页<span class="nt">&lt;/a&gt;</span>
</span><span id="__span-48-54"><a id="__codelineno-48-54" name="__codelineno-48-54"></a><span class="w">            </span><span class="nt">&lt;/c:if&gt;</span>
</span><span id="__span-48-55"><a id="__codelineno-48-55" name="__codelineno-48-55"></a>
</span><span id="__span-48-56"><a id="__codelineno-48-56" name="__codelineno-48-56"></a><span class="w">            </span><span class="cm">&lt;!-- 显示页码 和总页数 --&gt;</span>
</span><span id="__span-48-57"><a id="__codelineno-48-57" name="__codelineno-48-57"></a><span class="w">            </span>当前第${pageNum}页/共${pageCount}页
</span><span id="__span-48-58"><a id="__codelineno-48-58" name="__codelineno-48-58"></a>
</span><span id="__span-48-59"><a id="__codelineno-48-59" name="__codelineno-48-59"></a><span class="w">            </span><span class="cm">&lt;!-- 显示下一页 和 尾页 --&gt;</span>
</span><span id="__span-48-60"><a id="__codelineno-48-60" name="__codelineno-48-60"></a><span class="w">            </span><span class="nt">&lt;c:if</span><span class="w"> </span><span class="na">test=</span><span class="s">&quot;${pageNum &lt; pageCount}&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-48-61"><a id="__codelineno-48-61" name="__codelineno-48-61"></a><span class="w">              </span><span class="nt">&lt;a</span><span class="w"> </span><span class="na">href=</span><span class="s">&quot;BookListServlet?pageNum=${pageNum+1}&quot;</span><span class="nt">&gt;</span>下一页<span class="nt">&lt;/a&gt;</span>
</span><span id="__span-48-62"><a id="__codelineno-48-62" name="__codelineno-48-62"></a><span class="w">              </span><span class="nt">&lt;a</span><span class="w"> </span><span class="na">href=</span><span class="s">&quot;BookListServlet?pageNum=${pageCount}&quot;</span><span class="nt">&gt;</span>尾页<span class="nt">&lt;/a&gt;</span>
</span><span id="__span-48-63"><a id="__codelineno-48-63" name="__codelineno-48-63"></a><span class="w">            </span><span class="nt">&lt;/c:if&gt;</span>
</span><span id="__span-48-64"><a id="__codelineno-48-64" name="__codelineno-48-64"></a><span class="w">            </span><span class="nt">&lt;c:if</span><span class="w"> </span><span class="na">test=</span><span class="s">&quot;${pageNum == pageCount}&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-48-65"><a id="__codelineno-48-65" name="__codelineno-48-65"></a><span class="w">                </span><span class="nt">&lt;label</span><span class="w"> </span><span class="na">style=</span><span class="s">&quot;color:gray&quot;</span><span class="nt">&gt;</span>下一页<span class="nt">&lt;/label&gt;</span>
</span><span id="__span-48-66"><a id="__codelineno-48-66" name="__codelineno-48-66"></a><span class="w">                </span><span class="nt">&lt;label</span><span class="w"> </span><span class="na">style=</span><span class="s">&quot;color:gray&quot;</span><span class="nt">&gt;</span>尾页<span class="nt">&lt;/label&gt;</span>
</span><span id="__span-48-67"><a id="__codelineno-48-67" name="__codelineno-48-67"></a><span class="w">            </span><span class="nt">&lt;/c:if&gt;</span>
</span><span id="__span-48-68"><a id="__codelineno-48-68" name="__codelineno-48-68"></a><span class="w">        </span><span class="nt">&lt;/td&gt;</span>
</span><span id="__span-48-69"><a id="__codelineno-48-69" name="__codelineno-48-69"></a><span class="w">      </span><span class="nt">&lt;/tr&gt;</span>
</span><span id="__span-48-70"><a id="__codelineno-48-70" name="__codelineno-48-70"></a><span class="w">    </span><span class="nt">&lt;/table&gt;</span>
</span><span id="__span-48-71"><a id="__codelineno-48-71" name="__codelineno-48-71"></a><span class="w">  </span><span class="nt">&lt;/body&gt;</span>
</span><span id="__span-48-72"><a id="__codelineno-48-72" name="__codelineno-48-72"></a><span class="nt">&lt;/html&gt;</span>
</span></code></pre></div></td></tr></table></div>
<h3 id="74-pagehelper">7.4 PageHelper封装<a class="headerlink" href="#74-pagehelper" title="Permanent link">&para;</a></h3>
<blockquote>
<p>思考：</p>
<ol>
<li>分页操作在Service查询页面数据及总页码都属同一个分页业务，为什么要携程两个方法呢？能不能在一个方法完成呢？</li>
<li>Servlet类主要负责流程控制，在上述代码实现过程中也涉及到了分页业务，不可理。该如何解决呢？</li>
</ol>
</blockquote>
<h4 id="741-pagehelper">7.4.1 PageHelper封装思路<a class="headerlink" href="#741-pagehelper" title="Permanent link">&para;</a></h4>
<p><img alt="image-20211117023144522" src="imgs/image-20211117023144522.png" /></p>
<h4 id="742-pagehelper">7.4.2  创建分页帮助类PageHelper<a class="headerlink" href="#742-pagehelper" title="Permanent link">&para;</a></h4>
<div class="language-java highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-49-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-49-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-49-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-49-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-49-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-49-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-49-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-49-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-49-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-49-10">10</a></span>
<span class="normal"><a href="#__codelineno-49-11">11</a></span>
<span class="normal"><a href="#__codelineno-49-12">12</a></span>
<span class="normal"><a href="#__codelineno-49-13">13</a></span>
<span class="normal"><a href="#__codelineno-49-14">14</a></span>
<span class="normal"><a href="#__codelineno-49-15">15</a></span>
<span class="normal"><a href="#__codelineno-49-16">16</a></span>
<span class="normal"><a href="#__codelineno-49-17">17</a></span>
<span class="normal"><a href="#__codelineno-49-18">18</a></span>
<span class="normal"><a href="#__codelineno-49-19">19</a></span>
<span class="normal"><a href="#__codelineno-49-20">20</a></span>
<span class="normal"><a href="#__codelineno-49-21">21</a></span>
<span class="normal"><a href="#__codelineno-49-22">22</a></span>
<span class="normal"><a href="#__codelineno-49-23">23</a></span>
<span class="normal"><a href="#__codelineno-49-24">24</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.qfedu.bookmall.ms.utils</span><span class="p">;</span>
</span><span id="__span-49-2"><a id="__codelineno-49-2" name="__codelineno-49-2"></a>
</span><span id="__span-49-3"><a id="__codelineno-49-3" name="__codelineno-49-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
</span><span id="__span-49-4"><a id="__codelineno-49-4" name="__codelineno-49-4"></a>
</span><span id="__span-49-5"><a id="__codelineno-49-5" name="__codelineno-49-5"></a><span class="cm">/**</span>
</span><span id="__span-49-6"><a id="__codelineno-49-6" name="__codelineno-49-6"></a><span class="cm"> * @Description 分页帮助类</span>
</span><span id="__span-49-7"><a id="__codelineno-49-7" name="__codelineno-49-7"></a><span class="cm"> * @Author 千锋涛哥</span>
</span><span id="__span-49-8"><a id="__codelineno-49-8" name="__codelineno-49-8"></a><span class="cm"> * 公众号： Java架构栈</span>
</span><span id="__span-49-9"><a id="__codelineno-49-9" name="__codelineno-49-9"></a><span class="cm"> */</span>
</span><span id="__span-49-10"><a id="__codelineno-49-10" name="__codelineno-49-10"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">PageHelper</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-49-11"><a id="__codelineno-49-11" name="__codelineno-49-11"></a>
</span><span id="__span-49-12"><a id="__codelineno-49-12" name="__codelineno-49-12"></a><span class="w">    </span><span class="c1">//存放页面数据的List集合</span>
</span><span id="__span-49-13"><a id="__codelineno-49-13" name="__codelineno-49-13"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="p">;</span>
</span><span id="__span-49-14"><a id="__codelineno-49-14" name="__codelineno-49-14"></a>
</span><span id="__span-49-15"><a id="__codelineno-49-15" name="__codelineno-49-15"></a><span class="w">    </span><span class="c1">//存放当前页码</span>
</span><span id="__span-49-16"><a id="__codelineno-49-16" name="__codelineno-49-16"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">pageNum</span><span class="p">;</span>
</span><span id="__span-49-17"><a id="__codelineno-49-17" name="__codelineno-49-17"></a>
</span><span id="__span-49-18"><a id="__codelineno-49-18" name="__codelineno-49-18"></a><span class="w">    </span><span class="c1">//存放总页数</span>
</span><span id="__span-49-19"><a id="__codelineno-49-19" name="__codelineno-49-19"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">pageCount</span><span class="p">;</span>
</span><span id="__span-49-20"><a id="__codelineno-49-20" name="__codelineno-49-20"></a>
</span><span id="__span-49-21"><a id="__codelineno-49-21" name="__codelineno-49-21"></a><span class="w">    </span><span class="c1">//无参构造器</span>
</span><span id="__span-49-22"><a id="__codelineno-49-22" name="__codelineno-49-22"></a><span class="w">    </span><span class="c1">//全参构造器</span>
</span><span id="__span-49-23"><a id="__codelineno-49-23" name="__codelineno-49-23"></a><span class="w">    </span><span class="c1">//get和set</span>
</span><span id="__span-49-24"><a id="__codelineno-49-24" name="__codelineno-49-24"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<h4 id="743-bookservice">7.4.3 BookService<a class="headerlink" href="#743-bookservice" title="Permanent link">&para;</a></h4>
<div class="language-java highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-50-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-50-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-50-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-50-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-50-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-50-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-50-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-50-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-50-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-50-10">10</a></span>
<span class="normal"><a href="#__codelineno-50-11">11</a></span>
<span class="normal"><a href="#__codelineno-50-12">12</a></span>
<span class="normal"><a href="#__codelineno-50-13">13</a></span>
<span class="normal"><a href="#__codelineno-50-14">14</a></span>
<span class="normal"><a href="#__codelineno-50-15">15</a></span>
<span class="normal"><a href="#__codelineno-50-16">16</a></span>
<span class="normal"><a href="#__codelineno-50-17">17</a></span>
<span class="normal"><a href="#__codelineno-50-18">18</a></span>
<span class="normal"><a href="#__codelineno-50-19">19</a></span>
<span class="normal"><a href="#__codelineno-50-20">20</a></span>
<span class="normal"><a href="#__codelineno-50-21">21</a></span>
<span class="normal"><a href="#__codelineno-50-22">22</a></span>
<span class="normal"><a href="#__codelineno-50-23">23</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1"></a><span class="cm">/**</span>
</span><span id="__span-50-2"><a id="__codelineno-50-2" name="__codelineno-50-2"></a><span class="cm">     * 分页查询图书信息</span>
</span><span id="__span-50-3"><a id="__codelineno-50-3" name="__codelineno-50-3"></a><span class="cm">     * @param pageNum 页码</span>
</span><span id="__span-50-4"><a id="__codelineno-50-4" name="__codelineno-50-4"></a><span class="cm">     * @param pageSize 每页显示的条数</span>
</span><span id="__span-50-5"><a id="__codelineno-50-5" name="__codelineno-50-5"></a><span class="cm">     * @return</span>
</span><span id="__span-50-6"><a id="__codelineno-50-6" name="__codelineno-50-6"></a><span class="cm">     */</span>
</span><span id="__span-50-7"><a id="__codelineno-50-7" name="__codelineno-50-7"></a><span class="kd">public</span><span class="w"> </span><span class="n">PageHelper</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">listBooksByPage</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">pageNum</span><span class="p">,</span><span class="kt">int</span><span class="w"> </span><span class="n">pageSize</span><span class="p">){</span>
</span><span id="__span-50-8"><a id="__codelineno-50-8" name="__codelineno-50-8"></a><span class="w">    </span><span class="c1">//1.查询当前页码的数据</span>
</span><span id="__span-50-9"><a id="__codelineno-50-9" name="__codelineno-50-9"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">pageNum</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">pageSize</span><span class="p">;</span>
</span><span id="__span-50-10"><a id="__codelineno-50-10" name="__codelineno-50-10"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pageSize</span><span class="p">;</span>
</span><span id="__span-50-11"><a id="__codelineno-50-11" name="__codelineno-50-11"></a><span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bookList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bookDAO</span><span class="p">.</span><span class="na">selectBooks</span><span class="p">(</span><span class="n">start</span><span class="p">,</span><span class="n">limit</span><span class="p">);</span>
</span><span id="__span-50-12"><a id="__codelineno-50-12" name="__codelineno-50-12"></a>
</span><span id="__span-50-13"><a id="__codelineno-50-13" name="__codelineno-50-13"></a><span class="w">    </span><span class="c1">//2.查询并计算图书总页数</span>
</span><span id="__span-50-14"><a id="__codelineno-50-14" name="__codelineno-50-14"></a><span class="w">    </span><span class="c1">//a.查询总记录</span>
</span><span id="__span-50-15"><a id="__codelineno-50-15" name="__codelineno-50-15"></a><span class="w">    </span><span class="kt">long</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bookDAO</span><span class="p">.</span><span class="na">selectBookCount</span><span class="p">();</span>
</span><span id="__span-50-16"><a id="__codelineno-50-16" name="__codelineno-50-16"></a><span class="w">    </span><span class="c1">//b.根据总记录数和每页显示的条数，计算总页数</span>
</span><span id="__span-50-17"><a id="__codelineno-50-17" name="__codelineno-50-17"></a><span class="w">    </span><span class="kt">long</span><span class="w"> </span><span class="n">pageCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">count</span><span class="o">%</span><span class="n">pageSize</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">count</span><span class="o">/</span><span class="n">pageSize</span><span class="p">:</span><span class="w"> </span><span class="n">count</span><span class="o">/</span><span class="n">pageSize</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-50-18"><a id="__codelineno-50-18" name="__codelineno-50-18"></a>
</span><span id="__span-50-19"><a id="__codelineno-50-19" name="__codelineno-50-19"></a><span class="w">    </span><span class="c1">//3.将分页数据都放到一个PageHelper对象</span>
</span><span id="__span-50-20"><a id="__codelineno-50-20" name="__codelineno-50-20"></a><span class="w">    </span><span class="n">PageHelper</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bookPageHelper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PageHelper</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="p">(</span><span class="n">bookList</span><span class="p">,</span><span class="w"> </span><span class="n">pageNum</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">pageCount</span><span class="p">);</span>
</span><span id="__span-50-21"><a id="__codelineno-50-21" name="__codelineno-50-21"></a>
</span><span id="__span-50-22"><a id="__codelineno-50-22" name="__codelineno-50-22"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">bookPageHelper</span><span class="p">;</span>
</span><span id="__span-50-23"><a id="__codelineno-50-23" name="__codelineno-50-23"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<h4 id="744-booklistservlet">7.4.4 BookListServlet<a class="headerlink" href="#744-booklistservlet" title="Permanent link">&para;</a></h4>
<div class="language-java highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-51-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-51-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-51-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-51-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-51-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-51-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-51-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-51-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-51-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-51-10">10</a></span>
<span class="normal"><a href="#__codelineno-51-11">11</a></span>
<span class="normal"><a href="#__codelineno-51-12">12</a></span>
<span class="normal"><a href="#__codelineno-51-13">13</a></span>
<span class="normal"><a href="#__codelineno-51-14">14</a></span>
<span class="normal"><a href="#__codelineno-51-15">15</a></span>
<span class="normal"><a href="#__codelineno-51-16">16</a></span>
<span class="normal"><a href="#__codelineno-51-17">17</a></span>
<span class="normal"><a href="#__codelineno-51-18">18</a></span>
<span class="normal"><a href="#__codelineno-51-19">19</a></span>
<span class="normal"><a href="#__codelineno-51-20">20</a></span>
<span class="normal"><a href="#__codelineno-51-21">21</a></span>
<span class="normal"><a href="#__codelineno-51-22">22</a></span>
<span class="normal"><a href="#__codelineno-51-23">23</a></span>
<span class="normal"><a href="#__codelineno-51-24">24</a></span>
<span class="normal"><a href="#__codelineno-51-25">25</a></span>
<span class="normal"><a href="#__codelineno-51-26">26</a></span>
<span class="normal"><a href="#__codelineno-51-27">27</a></span>
<span class="normal"><a href="#__codelineno-51-28">28</a></span>
<span class="normal"><a href="#__codelineno-51-29">29</a></span>
<span class="normal"><a href="#__codelineno-51-30">30</a></span>
<span class="normal"><a href="#__codelineno-51-31">31</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1"></a><span class="cm">/**</span>
</span><span id="__span-51-2"><a id="__codelineno-51-2" name="__codelineno-51-2"></a><span class="cm"> * @Description  分页查询图书信息</span>
</span><span id="__span-51-3"><a id="__codelineno-51-3" name="__codelineno-51-3"></a><span class="cm"> * @Author 千锋涛哥</span>
</span><span id="__span-51-4"><a id="__codelineno-51-4" name="__codelineno-51-4"></a><span class="cm"> * 公众号： Java架构栈</span>
</span><span id="__span-51-5"><a id="__codelineno-51-5" name="__codelineno-51-5"></a><span class="cm"> */</span>
</span><span id="__span-51-6"><a id="__codelineno-51-6" name="__codelineno-51-6"></a><span class="nd">@WebServlet</span><span class="p">(</span><span class="s">&quot;/BookListServlet&quot;</span><span class="p">)</span>
</span><span id="__span-51-7"><a id="__codelineno-51-7" name="__codelineno-51-7"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">BookListServlet</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">HttpServlet</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-51-8"><a id="__codelineno-51-8" name="__codelineno-51-8"></a>
</span><span id="__span-51-9"><a id="__codelineno-51-9" name="__codelineno-51-9"></a><span class="w">    </span><span class="nd">@Override</span>
</span><span id="__span-51-10"><a id="__codelineno-51-10" name="__codelineno-51-10"></a><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doGet</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-51-11"><a id="__codelineno-51-11" name="__codelineno-51-11"></a><span class="w">        </span><span class="n">doPost</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">);</span>
</span><span id="__span-51-12"><a id="__codelineno-51-12" name="__codelineno-51-12"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-51-13"><a id="__codelineno-51-13" name="__codelineno-51-13"></a>
</span><span id="__span-51-14"><a id="__codelineno-51-14" name="__codelineno-51-14"></a><span class="w">    </span><span class="nd">@Override</span>
</span><span id="__span-51-15"><a id="__codelineno-51-15" name="__codelineno-51-15"></a><span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doPost</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-51-16"><a id="__codelineno-51-16" name="__codelineno-51-16"></a><span class="w">        </span><span class="c1">//1.接收客户端传递的页码</span>
</span><span id="__span-51-17"><a id="__codelineno-51-17" name="__codelineno-51-17"></a><span class="w">        </span><span class="c1">//  (如果客户端没有传递页码，则默认页码为1，如果传递了则使用客户端传递的页码)</span>
</span><span id="__span-51-18"><a id="__codelineno-51-18" name="__codelineno-51-18"></a><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">getParameter</span><span class="p">(</span><span class="s">&quot;pageNum&quot;</span><span class="p">);</span>
</span><span id="__span-51-19"><a id="__codelineno-51-19" name="__codelineno-51-19"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">pageNum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">num</span><span class="o">==</span><span class="kc">null</span><span class="o">?</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span><span class="w"> </span><span class="n">Integer</span><span class="p">.</span><span class="na">parseInt</span><span class="p">(</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="p">);</span>
</span><span id="__span-51-20"><a id="__codelineno-51-20" name="__codelineno-51-20"></a><span class="w">        </span><span class="c1">//2.定义pageSize</span>
</span><span id="__span-51-21"><a id="__codelineno-51-21" name="__codelineno-51-21"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">pageSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
</span><span id="__span-51-22"><a id="__codelineno-51-22" name="__codelineno-51-22"></a>
</span><span id="__span-51-23"><a id="__codelineno-51-23" name="__codelineno-51-23"></a><span class="w">        </span><span class="c1">//3.调用BookService查询这一页的图书信息</span>
</span><span id="__span-51-24"><a id="__codelineno-51-24" name="__codelineno-51-24"></a><span class="w">        </span><span class="n">BookService</span><span class="w"> </span><span class="n">bookService</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BookService</span><span class="p">();</span>
</span><span id="__span-51-25"><a id="__codelineno-51-25" name="__codelineno-51-25"></a><span class="w">        </span><span class="n">PageHelper</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bookPageHelper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bookService</span><span class="p">.</span><span class="na">listBooksByPage</span><span class="p">(</span><span class="n">pageNum</span><span class="p">,</span><span class="w"> </span><span class="n">pageSize</span><span class="p">);</span>
</span><span id="__span-51-26"><a id="__codelineno-51-26" name="__codelineno-51-26"></a>
</span><span id="__span-51-27"><a id="__codelineno-51-27" name="__codelineno-51-27"></a><span class="w">        </span><span class="c1">//5.将查询到的bookPageHelper(当前页数据的集合、当前页码、总页数)  转发到book-list.jsp</span>
</span><span id="__span-51-28"><a id="__codelineno-51-28" name="__codelineno-51-28"></a><span class="w">        </span><span class="n">request</span><span class="p">.</span><span class="na">setAttribute</span><span class="p">(</span><span class="s">&quot;bookPageHelper&quot;</span><span class="p">,</span><span class="n">bookPageHelper</span><span class="p">);</span>
</span><span id="__span-51-29"><a id="__codelineno-51-29" name="__codelineno-51-29"></a><span class="w">        </span><span class="n">request</span><span class="p">.</span><span class="na">getRequestDispatcher</span><span class="p">(</span><span class="s">&quot;book-list.jsp&quot;</span><span class="p">).</span><span class="na">forward</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="n">response</span><span class="p">);</span>
</span><span id="__span-51-30"><a id="__codelineno-51-30" name="__codelineno-51-30"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-51-31"><a id="__codelineno-51-31" name="__codelineno-51-31"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<h4 id="745-book-listjsp">7.4.5 book-list.jsp<a class="headerlink" href="#745-book-listjsp" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th><code>book-list.jsp</code> 页面的数据都从<code>bookPageHelper</code>对象获取</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="image-20211117024307271" src="imgs/image-20211117024307271.png" /></td>
</tr>
</tbody>
</table>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright © 2024 Anuouan | Do not share my personal information
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/anuouan" target="_blank" rel="noopener" title="GitHub | anuouan" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://space.bilibili.com/1599014047" target="_blank" rel="noopener" title="Bilibili | anuouan" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M488.6 104.1c16.7 18.1 24.4 39.7 23.3 65.7v202.4c-.4 26.4-9.2 48.1-26.5 65.1-17.2 17-39.1 25.9-65.5 26.7H92.02c-26.45-.8-48.21-9.8-65.28-27.2C9.682 419.4.767 396.5 0 368.2V169.8c.767-26 9.682-47.6 26.74-65.7C43.81 87.75 65.57 78.77 92.02 78h29.38L96.05 52.19c-5.75-5.73-8.63-13-8.63-21.79 0-8.8 2.88-16.06 8.63-21.797C101.8 2.868 109.1 0 117.9 0s16.1 2.868 21.9 8.603L213.1 78h88l74.5-69.397C381.7 2.868 389.2 0 398 0c8.8 0 16.1 2.868 21.9 8.603 5.7 5.737 8.6 12.997 8.6 21.797 0 8.79-2.9 16.06-8.6 21.79L394.6 78h29.3c26.4.77 48 9.75 64.7 26.1zm-38.8 69.7c-.4-9.6-3.7-17.4-10.7-23.5-5.2-6.1-14-9.4-22.7-9.8H96.05c-9.59.4-17.45 3.7-23.58 9.8-6.14 6.1-9.4 13.9-9.78 23.5v194.4c0 9.2 3.26 17 9.78 23.5s14.38 9.8 23.58 9.8H416.4c9.2 0 17-3.3 23.3-9.8 6.3-6.5 9.7-14.3 10.1-23.5V173.8zm-264.3 42.7c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2-6.2 6.3-14 9.5-23.6 9.5-9.6 0-17.5-3.2-23.6-9.5-6.1-6.3-9.4-14-9.8-23.2v-33.3c.4-9.1 3.8-16.9 10.1-23.2 6.3-6.3 13.2-9.6 23.3-10 9.2.4 17 3.7 23.3 10zm191.5 0c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2-6.1 6.3-14 9.5-23.6 9.5-9.6 0-17.4-3.2-23.6-9.5-7-6.3-9.4-14-9.7-23.2v-33.3c.3-9.1 3.7-16.9 10-23.2 6.3-6.3 14.1-9.6 23.3-10 9.2.4 17 3.7 23.3 10z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://anuouan.github.io/关于我/QQ%E7%95%99%E8%A8%80.html" target="_blank" rel="noopener" title="anuouan QQ 512864110" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.xiaohongshu.com/user/profile/62655b530000000010007573" target="_blank" rel="noopener" title="小红书 | anuouan" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M160 32c-35.3 0-64 28.7-64 64v224c0 35.3 28.7 64 64 64h352c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H160zm236 106.7 96 144c4.9 7.4 5.4 16.8 1.2 24.6S480.9 320 472 320H200c-9.2 0-17.6-5.3-21.6-13.6s-2.9-18.2 2.9-25.4l64-80c4.6-5.7 11.4-9 18.7-9s14.2 3.3 18.7 9l17.3 21.6 56-84c4.5-6.6 12-10.6 20-10.6s15.5 4 20 10.7zM192 128a32 32 0 1 1 64 0 32 32 0 1 1-64 0zm-144-8c0-13.3-10.7-24-24-24S0 106.7 0 120v224c0 75.1 60.9 136 136 136h320c13.3 0 24-10.7 24-24s-10.7-24-24-24H136c-48.6 0-88-39.4-88-88V120z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://anuouan.github.io/关于我/打赏支持.html" target="_blank" rel="noopener" title="打赏支持" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M96 64c0-17.7 14.3-32 32-32h384c70.7 0 128 57.3 128 128s-57.3 128-128 128h-32c0 53-43 96-96 96H192c-53 0-96-43-96-96V64zm384 160h32c35.3 0 64-28.7 64-64s-28.7-64-64-64h-32v128zM32 416h512c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.top", "navigation.indexes", "navigation.expand", "search.suggest", "search.highlight", "content.code.copy", "content.action.edit"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
        <script src="../../../mkdocs/javascripts/katex.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/contrib/auto-render.min.js"></script>
      
    
  </body>
</html>