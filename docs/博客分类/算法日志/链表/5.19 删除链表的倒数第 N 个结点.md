# [19. 删除链表的倒数第 N 个结点](https://leetcode.cn/problems/remove-nth-node-from-end-of-list/)

## 一、问题

给你一个链表，删除链表的倒数第 `n` 个结点，并且返回链表的头结点。

 

**示例 1：**

<img src="5.19 删除链表的倒数第 N 个结点.assets/1711864319696.jpg" alt="1711864319696" style="zoom: 80%;" />

```
输入：head = [1,2,3,4,5], n = 2
输出：[1,2,3,5]
```

**示例 2：**

```
输入：head = [1], n = 1
输出：[]
```

**示例 3：**

```
输入：head = [1,2], n = 1
输出：[1]
```

 

**提示：**

- 链表中结点的数目为 `sz`
- `1 <= sz <= 30`
- `0 <= Node.val <= 100`
- `1 <= n <= sz`

 

**进阶：**你能尝试使用一趟扫描实现吗？

## 二、思路

```java
public ListNode removeNthFromEnd(ListNode head, int n){
    // 创建一个虚拟头节点，初始值为0，其next指针指向原链表头节点
    // 这样可以简化边界条件处理，尤其是在待删除节点为头节点时
    ListNode dummyNode = new ListNode(0);
    dummyNode.next = head;

    // 初始化快慢指针，都指向虚拟头节点
    ListNode fastIndex = dummyNode;
    ListNode slowIndex = dummyNode;

    // 快指针先向前移动n个节点，使得快慢指针之间间隔n个节点
    // 注意循环条件是 i <= n，因为要让快指针先到达距离末尾n个节点的位置
    for (int i = 0; i <= n; i++) {
        fastIndex = fastIndex.next;
    }

    // 从此时起，快指针每次移动一个节点直至到达链表末尾
    // 慢指针同时移动，始终保持两者间距离为n
    while (fastIndex != null) {
        fastIndex = fastIndex.next;
        slowIndex = slowIndex.next;
    }

    // 当快指针到达末尾（fastIndex == null）时，慢指针指向的就是待删除节点的前一个节点
    // 修改慢指针的next指针，使其直接指向待删除节点的下一个节点，从而实现删除操作
    // 注意这里不需要单独处理待删除节点为头节点的情况，因为有虚拟头节点的存在
    slowIndex.next = slowIndex.next.next;

    // 返回处理后的链表头节点，即虚拟头结点的下一个节点
    return dummyNode.next;
}
```

这段代码实现了一个方法 `removeNthFromEnd`，用于删除链表中倒数第 `n` 个节点。`ListNode` 是链表节点类，`head` 是给定链表的头节点，`n` 是需要删除节点的倒数位置。代码通过双指针法（快慢指针）来确定待删除节点的前一个节点，并通过修改其 `next` 指针实现删除操作。

注释已详细解释了各部分功能和逻辑：

1. **创建虚拟头结点**：创建一个值为0的虚拟头结点 `dummyNode`，其 `next` 指针指向原链表头节点 `head`。这有助于简化边界条件处理，尤其是当待删除节点为头节点时。

2. **初始化快慢指针**：将快指针 `fastIndex` 和慢指针 `slowIndex` 都初始化为指向虚拟头结点。

3. **快指针先移位**：通过循环使快指针先向前移动 `n` 个节点，使快慢指针之间间隔 `n` 个节点。注意循环条件是 `i <= n`，确保快指针先到达距离末尾 `n` 个节点的位置。

4. **同步移动快慢指针**：在快指针未到达链表末尾（`fastIndex != null`）时，快指针每次移动一个节点，慢指针同时移动，始终保持两者间距离为 `n`。

5. **删除操作**：当快指针到达末尾时，慢指针指向的就是待删除节点的前一个节点。修改慢指针的 `next` 指针，使其直接指向待删除节点的下一个节点，从而实现删除操作。由于使用了虚拟头结点，这里无需单独处理待删除节点为头节点的情况。

6. **返回处理后的链表头节点**：返回虚拟头结点的下一个节点作为新的链表头节点。